<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:georss='http://www.georss.org/georss' xmlns:gd='http://schemas.google.com/g/2005' xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-7711341427709076342.archive</id><updated>2013-12-27T22:31:13.804-05:00</updated><title type='text'>Statistically Significant</title><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/archive'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/archive'/><link rel='http://schemas.google.com/g/2005#post' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/archive'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><entry><id>tag:blogger.com,1999:blog-7711341427709076342.layout</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#template'/><title type='text'>Template: Statistically Significant</title><content type='text'>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html b:render='false' b:version='2' class='v2' expr:dir='data:blog.languageDirection' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'&gt;
  &lt;head&gt;
	&lt;script src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' type='text/_javascript_'/&gt;
    &lt;b:include data='blog' name='all-head-content'/&gt;
    &lt;title&gt;
      &lt;data:blog.pageTitle/&gt;
    &lt;/title&gt;
    &lt;meta content='!' name='fragment'/&gt;
    &lt;meta content='dynamic' name='blogger-template'/&gt;
    &lt;meta content='IE=9,chrome=1' http-equiv='X-UA-Compatible'/&gt;
    &lt;meta content='initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width' name='viewport'/&gt;
    &lt;b:skin&gt;&lt;![CDATA[/*-----------------------------------------------
Blogger Template Style
Name: Dynamic Views
----------------------------------------------- */
/* Variable definitions
====================
&lt;Variable name="keycolor" description="Main Color" type="color" default="#ffffff"
variants="#2b256f,#00b2b4,#4ba976,#696f00,#b38f00,#f07300,#d0422c,#f37a86,#7b5341" value="#ffffff"/&gt;
&lt;Group description="Page"&gt;
&lt;Variable name="page.text.font" description="Font" type="font"
default="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif" value="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif"/&gt;
&lt;Variable name="page.text.color" description="Text Color" type="color"
default="#333333" variants="#333333" value="#333333"/&gt;
&lt;Variable name="body.background.color" description="Background Color" type="color"
default="#EEEEEE"
variants="#dfdfea,#d9f4f4,#e4f2eb,#e9ead9,#f4eed9,#fdead9,#f8e3e0,#fdebed,#ebe5e3" value="#EEEEEE"/&gt;
&lt;/Group&gt;
&lt;Variable name="body.background" description="Body Background" type="background"
color="#EEEEEE" default="$(color) none repeat scroll top left" value="$(color) none repeat scroll top left"/&gt;
&lt;Group description="Header"&gt;
&lt;Variable name="header.background.color" description="Background Color" type="color"
default="#F3F3F3" variants="#F3F3F3" value="#F3F3F3"/&gt;
&lt;/Group&gt;
&lt;Group description="Header Bar"&gt;
&lt;Variable name="primary.color" description="Background Color" type="color"
default="#333333" variants="#2b256f,#00b2b4,#4ba976,#696f00,#b38f00,#f07300,#d0422c,#f37a86,#7b5341" value="#333333"/&gt;
&lt;Variable name="menu.font" description="Font" type="font"
default="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif" value="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif"/&gt;
&lt;Variable name="menu.text.color" description="Text Color" type="color"
default="#FFFFFF" variants="#FFFFFF" value="#FFFFFF"/&gt;
&lt;/Group&gt;
&lt;Group description="Links"&gt;
&lt;Variable name="link.font" description="Link Text" type="font"
default="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif" value="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif"/&gt;
&lt;Variable name="link.color" description="Link Color" type="color"
default="#009EB8"
variants="#2b256f,#00b2b4,#4ba976,#696f00,#b38f00,#f07300,#d0422c,#f37a86,#7b5341" value="#009EB8"/&gt;
&lt;Variable name="link.hover.color" description="Link Hover Color" type="color"
default="#009EB8"
variants="#2b256f,#00b2b4,#4ba976,#696f00,#b38f00,#f07300,#d0422c,#f37a86,#7b5341" value="#009EB8"/&gt;
&lt;Variable name="link.visited.color" description="Link Visited Color" type="color"
default="#009EB8"
variants="#2b256f,#00b2b4,#4ba976,#696f00,#b38f00,#f07300,#d0422c,#f37a86,#7b5341" value="#009EB8"/&gt;
&lt;/Group&gt;
&lt;Group description="Blog Title"&gt;
&lt;Variable name="blog.title.font" description="Font" type="font"
default="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif" value="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif"/&gt;
&lt;Variable name="blog.title.color" description="Color" type="color"
default="#555555" variants="#555555" value="#555555"/&gt;
&lt;/Group&gt;
&lt;Group description="Blog Description"&gt;
&lt;Variable name="blog.description.font" description="Font" type="font"
default="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif" value="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif"/&gt;
&lt;Variable name="blog.description.color" description="Color" type="color"
default="#555555" variants="#555555" value="#555555"/&gt;
&lt;/Group&gt;
&lt;Group description="Post Title"&gt;
&lt;Variable name="post.title.font" description="Font" type="font"
default="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif" value="'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif"/&gt;
&lt;Variable name="post.title.color" description="Color" type="color"
default="#333333" variants="#333333" value="#333333"/&gt;
&lt;/Group&gt;
&lt;Group description="Date Ribbon"&gt;
&lt;Variable name="ribbon.color" description="Color" type="color"
default="#666666" variants="#2b256f,#00b2b4,#4ba976,#696f00,#b38f00,#f07300,#d0422c,#f37a86,#7b5341" value="#666666"/&gt;
&lt;Variable name="ribbon.hover.color" description="Hover Color" type="color"
default="#AD3A2B" variants="#AD3A2B" value="#AD3A2B"/&gt;
&lt;/Group&gt;
&lt;Variable name="blitzview" description="Initial view type"
type="automatic" default="sidebar" value="classic"/&gt;
*/
/* BEGIN CUT */
{
"font:Text": "'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif",
"color:Text": "#333333",
"image:Background": "#EEEEEE none repeat scroll top left",
"color:Background": "#EEEEEE",
"color:Header Background": "#F3F3F3",
"color:Primary": "#333333",
"color:Menu Text": "#FFFFFF",
"font:Menu": "'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif",
"font:Link": "'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif",
"color:Link": "#009EB8",
"color:Link Visited": "#009EB8",
"color:Link Hover": "#009EB8",
"font:Blog Title": "'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif",
"color:Blog Title": "#555555",
"font:Blog Description": "'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif",
"color:Blog Description": "#555555",
"font:Post Title": "'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif",
"color:Post Title": "#333333",
"color:Ribbon": "#666666",
"color:Ribbon Hover": "#AD3A2B",
"view": "classic"
}
/* END CUT */
]]&gt;&lt;/b:skin&gt;
    &lt;b:template-skin&gt;
      &lt;b:variable default='960px' name='content.width' type='length'/&gt;
      &lt;b:variable default='0' name='main.column.left.width' type='length'/&gt;
      &lt;b:variable default='310px' name='main.column.right.width' type='length'/&gt;
      &lt;b:variable default='46px' name='faviconpanel.height' type='length'/&gt;
      &lt;![CDATA[
body {
min-width: $(content.width);
}
.column-center-outer {
margin-top: $(faviconpanel.height);
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: $(content.width);
max-width: $(content.width);
_width: $(content.width);
}
.main-inner .columns {
padding-left: $(main.column.left.width);
padding-right: $(main.column.right.width);
}
.main-inner .fauxcolumn-center-outer {
left: $(main.column.left.width);
right: $(main.column.right.width);
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("$(main.column.left.width)") -
parseInt("$(main.column.right.width)") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: $(main.column.left.width);
}
.main-inner .fauxcolumn-right-outer {
width: $(main.column.right.width);
}
.main-inner .column-left-outer {
width: $(main.column.left.width);
right: 100%;
margin-left: -$(main.column.left.width);
}
.main-inner .column-right-outer {
width: $(main.column.right.width);
margin-right: -$(main.column.right.width);
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
]]&gt;
    &lt;/b:template-skin&gt;
    &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/thirdparty/jquery.js&amp;quot;' type='text/javascript'/&gt;
    &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/thirdparty/jquery-mousewheel.js&amp;quot;' type='text/javascript'/&gt;
    &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/common.js&amp;quot;' type='text/javascript'/&gt;
    &lt;b:if cond='data:blog.localeLanguage != &amp;quot;en&amp;quot;'&gt;
      &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/languages/lang__&amp;quot; + data:blog.localeLanguage + &amp;quot;.js&amp;quot;' type='text/javascript'/&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:blog.view'&gt;
      &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/&amp;quot; + data:blog.view + &amp;quot;.js&amp;quot;' type='text/javascript'/&gt;
      &lt;b:else/&gt;
      &lt;b:if cond='data:blog.isMobileRequest'&gt;
        &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/classic.js&amp;quot;' type='text/javascript'/&gt;
        &lt;b:else/&gt;
        &lt;b:if cond='data:skin.vars.blitzview'&gt;
          &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/&amp;quot; + data:skin.vars.blitzview + &amp;quot;.js&amp;quot;' type='text/javascript'/&gt;
          &lt;b:else/&gt;
          &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/sidebar.js&amp;quot;' type='text/javascript'/&gt;
        &lt;/b:if&gt;
      &lt;/b:if&gt;
    &lt;/b:if&gt;
    &lt;script expr:src='data:blog.dynamicViewsScriptSrc + &amp;quot;/js/gadgets.js&amp;quot;' type='text/javascript'/&gt;
    &lt;script expr:src='data:blog.dynamicViewsCommentsSrc'/&gt;
    &lt;b:include data='blog' name='google-analytics'/&gt;
    &lt;script type='text/javascript'&gt;
      var _gaq = _gaq || [];
      _gaq.push([&amp;#39;_setAccount&amp;#39;, &amp;#39;UA-1827475-2&amp;#39;]);
                 _gaq.push([&amp;#39;_setDomainName&amp;#39;, &amp;#39;alandgraf.blogspot.com&amp;#39;]);
                 _gaq.push([&amp;#39;_setAllowLinker&amp;#39;, true]);
                 _gaq.push([&amp;#39;_trackPageview&amp;#39;]);
                 (function() {
                 var ga = document.createElement(&amp;#39;script&amp;#39;); ga.type = &amp;#39;text/javascript&amp;#39;; ga.async = true;
                 ga.src = (&amp;#39;https:&amp;#39; == document.location.protocol ? &amp;#39;https://ssl&amp;#39; : &amp;#39;http://www&amp;#39;) + &amp;#39;.google-analytics.com/ga.js&amp;#39;;
                 var s = document.getElementsByTagName(&amp;#39;script&amp;#39;)[0]; s.parentNode.insertBefore(ga, s);
                 })();
    &lt;/script&gt;
&lt;/head&gt;
  &lt;body&gt;
    &lt;div class='content'&gt;
      &lt;div class='content-outer'&gt;
        &lt;div class='fauxborder-left content-fauxborder-left'&gt;
          &lt;div class='content-inner'&gt;
            &lt;div class='main-outer'&gt;
              &lt;div class='fauxborder-left main-fauxborder-left'&gt;
                &lt;div class='region-inner main-inner'&gt;
                  &lt;div class='columns fauxcolumns'&gt;
                    &lt;div class='column-center-outer'&gt;
                      &lt;div class='column-center-inner'&gt;
                        &lt;b:section class='main' id='main' showaddelement='no'&gt;
                          &lt;b:widget id='Blog1' locked='false' title='Blog Posts' type='Blog'&gt;
                            &lt;b:includable id='main' var='top'&gt;
                              &lt;b:if cond='data:mobile == &amp;quot;false&amp;quot;'&gt;
                                &lt;!-- posts --&gt;
                                &lt;div class='blog-posts hfeed'&gt;
                                  &lt;b:include data='top' name='status-message'/&gt;
                                  &lt;data:defaultAdStart/&gt;
                                  &lt;b:loop values='data:posts' var='post'&gt;
                                    &lt;b:if cond='data:post.isDateStart'&gt;
                                      &lt;b:if cond='data:post.isFirstPost == &amp;quot;false&amp;quot;'&gt;
                                        &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
                                      &lt;/b:if&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:if cond='data:post.isDateStart'&gt;
                                      &amp;lt;div class=&amp;quot;date-outer&amp;quot;&amp;gt;
                                    &lt;/b:if&gt;
                                    &lt;b:if cond='data:post.dateHeader'&gt;
                                      &lt;h2 class='date-header'&gt;
                                        &lt;span&gt;
                                          &lt;data:post.dateHeader/&gt;
                                        &lt;/span&gt;
                                      &lt;/h2&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:if cond='data:post.isDateStart'&gt;
                                      &amp;lt;div class=&amp;quot;date-posts&amp;quot;&amp;gt;
                                    &lt;/b:if&gt;
                                    &lt;div class='post-outer'&gt;
                                      &lt;b:include data='post' name='post'/&gt;
                                      &lt;b:if cond='data:blog.pageType == &amp;quot;static_page&amp;quot;'&gt;
                                        &lt;b:include data='post' name='comment_picker'/&gt;
                                      &lt;/b:if&gt;
                                      &lt;b:if cond='data:blog.pageType == &amp;quot;item&amp;quot;'&gt;
                                        &lt;b:include data='post' name='comment_picker'/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/div&gt;
                                    &lt;b:if cond='data:post.includeAd'&gt;
                                      &lt;b:if cond='data:post.isFirstPost'&gt;
                                        &lt;data:defaultAdEnd/&gt;
                                        &lt;b:else/&gt;
                                        &lt;data:adEnd/&gt;
                                      &lt;/b:if&gt;
                                      &lt;div class='inline-ad'&gt;
                                        &lt;data:adCode/&gt;
                                      &lt;/div&gt;
                                      &lt;data:adStart/&gt;
                                    &lt;/b:if&gt;
                                  &lt;/b:loop&gt;
                                  &lt;b:if cond='data:numPosts != 0'&gt;
                                    &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
                                  &lt;/b:if&gt;
                                  &lt;data:adEnd/&gt;
                                &lt;/div&gt;
                                &lt;!-- navigation --&gt;
                                &lt;b:include name='nextprev'/&gt;
                                &lt;!-- feed links --&gt;
                                &lt;b:include name='feedLinks'/&gt;
                                &lt;b:if cond='data:top.showStars'&gt;
                                  &lt;script src='//www.google.com/jsapi' type='text/javascript'/&gt;
                                  &lt;script type='text/javascript'&gt;
                                    google.load(&amp;quot;annotations&amp;quot;, &amp;quot;1&amp;quot;, {&amp;quot;locale&amp;quot;: &amp;quot;&lt;data:top.languageCode/&gt;&amp;quot;});
                                    function initialize() {
                                      google.annotations.setApplicationId(&lt;data:top.blogspotReviews/&gt;);
                                      google.annotations.createAll();
                                      google.annotations.fetch();
                                    }
                                    google.setOnLoadCallback(initialize);
                                  &lt;/script&gt;
                                &lt;/b:if&gt;
                                &lt;b:else/&gt;
                                &lt;b:include name='mobile-main'/&gt;
                              &lt;/b:if&gt;
                              &lt;b:if cond='data:top.showDummy'&gt;
                                &lt;data:top.dummyBootstrap/&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='backlinkDeleteIcon' var='backlink'&gt;
                              &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:backlink.adminClass'&gt;
                                &lt;a expr:href='data:backlink.deleteUrl' expr:title='data:top.deleteBacklinkMsg'&gt;
                                  &lt;img src='//www.blogger.com/img/icon_delete13.gif'/&gt;
                                &lt;/a&gt;
                              &lt;/span&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='backlinks' var='post'&gt;
                              &lt;a name='links'/&gt;
                              &lt;h4&gt;
                                &lt;data:post.backlinksLabel/&gt;
                              &lt;/h4&gt;
                              &lt;b:if cond='data:post.numBacklinks != 0'&gt;
                                &lt;dl class='comments-block' id='comments-block'&gt;
                                  &lt;b:loop values='data:post.backlinks' var='backlink'&gt;
                                    &lt;div class='collapsed-backlink backlink-control'&gt;
                                      &lt;dt class='comment-title'&gt;
                                        &lt;span class='backlink-toggle-zippy'&gt;
                                          &amp;#160;
                                        &lt;/span&gt;
                                        &lt;a expr:href='data:backlink.url' rel='nofollow'&gt;
                                          &lt;data:backlink.title/&gt;
                                        &lt;/a&gt;
                                        &lt;b:include data='backlink' name='backlinkDeleteIcon'/&gt;
                                      &lt;/dt&gt;
                                      &lt;dd class='comment-body collapseable'&gt;
                                        &lt;data:backlink.snippet/&gt;
                                      &lt;/dd&gt;
                                      &lt;dd class='comment-footer collapseable'&gt;
                                        &lt;span class='comment-author'&gt;
                                          &lt;data:post.authorLabel/&gt;
                                          &lt;data:backlink.author/&gt;
                                        &lt;/span&gt;
                                        &lt;span class='comment-timestamp'&gt;
                                          &lt;data:post.timestampLabel/&gt;
                                          &lt;data:backlink.timestamp/&gt;
                                        &lt;/span&gt;
                                      &lt;/dd&gt;
                                    &lt;/div&gt;
                                  &lt;/b:loop&gt;
                                &lt;/dl&gt;
                              &lt;/b:if&gt;
                              &lt;p class='comment-footer'&gt;
                                &lt;a class='comment-link' expr:href='data:post.createLinkUrl' expr:id='data:widget.instanceId + &amp;quot;_backlinks-create-link&amp;quot;' target='_blank'&gt;
                                  &lt;data:post.createLinkLabel/&gt;
                                &lt;/a&gt;
                              &lt;/p&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='comment-form' var='post'&gt;
                              &lt;div class='comment-form'&gt;
                                &lt;a name='comment-form'/&gt;
                                &lt;b:if cond='data:mobile'&gt;
                                  &lt;h4 id='comment-post-message'&gt;
                                    &lt;a expr:id='data:widget.instanceId + &amp;quot;_comment-editor-toggle-link&amp;quot;' href='javascript:void(0)'&gt;
                                      &lt;data:postCommentMsg/&gt;
                                    &lt;/a&gt;
                                  &lt;/h4&gt;
                                  &lt;p&gt;
                                    &lt;data:blogCommentMessage/&gt;
                                  &lt;/p&gt;
                                  &lt;data:blogTeamBlogMessage/&gt;
                                  &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
                                  &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/&gt;
                                  &lt;b:else/&gt;
                                  &lt;h4 id='comment-post-message'&gt;
                                    &lt;data:postCommentMsg/&gt;
                                  &lt;/h4&gt;
                                  &lt;p&gt;
                                    &lt;data:blogCommentMessage/&gt;
                                  &lt;/p&gt;
                                  &lt;data:blogTeamBlogMessage/&gt;
                                  &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
                                  &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/&gt;
                                &lt;/b:if&gt;
                                &lt;data:post.friendConnectJs/&gt;
                                &lt;data:post.cmtfpIframe/&gt;
                                &lt;script type='text/javascript'&gt;
                                  BLOG_CMT_createIframe(&amp;#39;&lt;data:post.appRpcRelayPath/&gt;&amp;#39;, &amp;#39;&lt;data:post.communityId/&gt;&amp;#39;);
                                &lt;/script&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='commentDeleteIcon' var='comment'&gt;
                              &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:comment.adminClass'&gt;
                                &lt;b:if cond='data:showCmtPopup'&gt;
                                  &lt;div class='goog-toggle-button'&gt;
                                    &lt;div class='goog-inline-block comment-action-icon'/&gt;
                                  &lt;/div&gt;
                                  &lt;b:else/&gt;
                                  &lt;a class='comment-delete' expr:href='data:comment.deleteUrl' expr:title='data:top.deleteCommentMsg'&gt;
                                    &lt;img src='//www.blogger.com/img/icon_delete13.gif'/&gt;
                                  &lt;/a&gt;
                                &lt;/b:if&gt;
                              &lt;/span&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='comment_count_picker' var='post'&gt;
                              &lt;b:if cond='data:post.commentSource == 1'&gt;
                                &lt;span class='cmt_count_iframe_holder' expr:data-count='data:post.numComments' expr:data-onclick='data:post.addCommentOnclick' expr:data-post-url='data:post.url' expr:data-url='data:post.canonicalUrl'&gt;
                                &lt;/span&gt;
                                &lt;b:else/&gt;
                                &lt;a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
                                  &lt;data:post.commentLabelFull/&gt;
                                  :
                                &lt;/a&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='comment_picker' var='post'&gt;
                              &lt;b:if cond='data:post.commentSource == 1'&gt;
                                &lt;b:include data='post' name='iframe_comments'/&gt;
                                &lt;b:else/&gt;
                                &lt;b:if cond='data:post.showThreadedComments'&gt;
                                  &lt;b:include data='post' name='threaded_comments'/&gt;
                                  &lt;b:else/&gt;
                                  &lt;b:include data='post' name='comments'/&gt;
                                &lt;/b:if&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='comments' var='post'&gt;
                              &lt;div class='comments' id='comments'&gt;
                                &lt;a name='comments'/&gt;
                                &lt;b:if cond='data:post.allowComments'&gt;
                                  &lt;h4&gt;
                                    &lt;data:post.commentLabelFull/&gt;
                                    :
                                  &lt;/h4&gt;
                                  &lt;b:if cond='data:post.commentPagingRequired'&gt;
                                    &lt;span class='paging-control-container'&gt;
                                      &lt;b:if cond='data:post.hasOlderLinks'&gt;
                                        &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'&gt;
                                          &lt;data:post.oldestLinkText/&gt;
                                        &lt;/a&gt;
                                        &amp;#160;
                                        &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'&gt;
                                          &lt;data:post.olderLinkText/&gt;
                                        &lt;/a&gt;
                                        &amp;#160;
                                      &lt;/b:if&gt;
                                      &lt;data:post.commentRangeText/&gt;
                                      &lt;b:if cond='data:post.hasNewerLinks'&gt;
                                        &amp;#160;
                                        &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'&gt;
                                          &lt;data:post.newerLinkText/&gt;
                                        &lt;/a&gt;
                                        &amp;#160;
                                        &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'&gt;
                                          &lt;data:post.newestLinkText/&gt;
                                        &lt;/a&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                  &lt;/b:if&gt;
                                  &lt;div expr:id='data:widget.instanceId + &amp;quot;_comments-block-wrapper&amp;quot;'&gt;
                                    &lt;dl expr:class='data:post.avatarIndentClass' id='comments-block'&gt;
                                      &lt;b:loop values='data:post.comments' var='comment'&gt;
                                        &lt;dt expr:class='&amp;quot;comment-author &amp;quot; + data:comment.authorClass' expr:id='data:comment.anchorName'&gt;
                                          &lt;b:if cond='data:comment.favicon'&gt;
                                            &lt;img expr:src='data:comment.favicon' height='16px' style='margin-bottom:-2px;' width='16px'/&gt;
                                          &lt;/b:if&gt;
                                          &lt;a expr:name='data:comment.anchorName'/&gt;
                                          &lt;b:if cond='data:blog.enabledCommentProfileImages'&gt;
                                            &lt;data:comment.authorAvatarImage/&gt;
                                          &lt;/b:if&gt;
                                          &lt;b:if cond='data:comment.authorUrl'&gt;
                                            &lt;a expr:href='data:comment.authorUrl' rel='nofollow'&gt;
                                              &lt;data:comment.author/&gt;
                                            &lt;/a&gt;
                                            &lt;b:else/&gt;
                                            &lt;data:comment.author/&gt;
                                          &lt;/b:if&gt;
                                          &lt;data:commentPostedByMsg/&gt;
                                        &lt;/dt&gt;
                                        &lt;dd class='comment-body' expr:id='data:widget.instanceId + data:comment.cmtBodyIdPostfix'&gt;
                                          &lt;b:if cond='data:comment.isDeleted'&gt;
                                            &lt;span class='deleted-comment'&gt;
                                              &lt;data:comment.body/&gt;
                                            &lt;/span&gt;
                                            &lt;b:else/&gt;
                                            &lt;p&gt;
                                              &lt;data:comment.body/&gt;
                                            &lt;/p&gt;
                                          &lt;/b:if&gt;
                                        &lt;/dd&gt;
                                        &lt;dd class='comment-footer'&gt;
                                          &lt;span class='comment-timestamp'&gt;
                                            &lt;a expr:href='data:comment.url' title='comment permalink'&gt;
                                              &lt;data:comment.timestamp/&gt;
                                            &lt;/a&gt;
                                            &lt;b:include data='comment' name='commentDeleteIcon'/&gt;
                                          &lt;/span&gt;
                                        &lt;/dd&gt;
                                      &lt;/b:loop&gt;
                                    &lt;/dl&gt;
                                  &lt;/div&gt;
                                  &lt;b:if cond='data:post.commentPagingRequired'&gt;
                                    &lt;span class='paging-control-container'&gt;
                                      &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'&gt;
                                        &lt;data:post.oldestLinkText/&gt;
                                      &lt;/a&gt;
                                      &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'&gt;
                                        &lt;data:post.olderLinkText/&gt;
                                      &lt;/a&gt;
                                      &amp;#160;
                                      &lt;data:post.commentRangeText/&gt;
                                      &amp;#160;
                                      &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'&gt;
                                        &lt;data:post.newerLinkText/&gt;
                                      &lt;/a&gt;
                                      &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'&gt;
                                        &lt;data:post.newestLinkText/&gt;
                                      &lt;/a&gt;
                                    &lt;/span&gt;
                                  &lt;/b:if&gt;
                                  &lt;p class='comment-footer'&gt;
                                    &lt;b:if cond='data:post.embedCommentForm'&gt;
                                      &lt;b:if cond='data:post.allowNewComments'&gt;
                                        &lt;b:include data='post' name='comment-form'/&gt;
                                        &lt;b:else/&gt;
                                        &lt;data:post.noNewCommentsText/&gt;
                                      &lt;/b:if&gt;
                                      &lt;b:else/&gt;
                                      &lt;b:if cond='data:post.allowComments'&gt;
                                        &lt;a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
                                          &lt;data:postCommentMsg/&gt;
                                        &lt;/a&gt;
                                      &lt;/b:if&gt;
                                    &lt;/b:if&gt;
                                  &lt;/p&gt;
                                &lt;/b:if&gt;
                                &lt;b:if cond='data:showCmtPopup'&gt;
                                  &lt;div id='comment-popup'&gt;
                                    &lt;iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'&gt;
                                    &lt;/iframe&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;div id='backlinks-container'&gt;
                                  &lt;div expr:id='data:widget.instanceId + &amp;quot;_backlinks-container&amp;quot;'&gt;
                                    &lt;b:if cond='data:post.showBacklinks'&gt;
                                      &lt;b:include data='post' name='backlinks'/&gt;
                                    &lt;/b:if&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='feedLinks'&gt;
                              &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
                                &lt;!-- Blog feed links --&gt;
                                &lt;b:if cond='data:feedLinks'&gt;
                                  &lt;div class='blog-feeds'&gt;
                                    &lt;b:include data='feedLinks' name='feedLinksBody'/&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;b:else/&gt;
                                &lt;!--Post feed links --&gt;
                                &lt;div class='post-feeds'&gt;
                                  &lt;b:loop values='data:posts' var='post'&gt;
                                    &lt;b:if cond='data:post.allowComments'&gt;
                                      &lt;b:if cond='data:post.feedLinks'&gt;
                                        &lt;b:include data='post.feedLinks' name='feedLinksBody'/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/b:if&gt;
                                  &lt;/b:loop&gt;
                                &lt;/div&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='feedLinksBody' var='links'&gt;
                              &lt;div class='feed-links'&gt;
                                &lt;data:feedLinksMsg/&gt;
                                &lt;b:loop values='data:links' var='f'&gt;
                                  &lt;a class='feed-link' expr:href='data:f.url' expr:type='data:f.mimeType' target='_blank'&gt;
                                    &lt;data:f.name/&gt;
                                    (
                                    &lt;data:f.feedType/&gt;
                                    )
                                  &lt;/a&gt;
                                &lt;/b:loop&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='iframe_comments' var='post'&gt;
                              &lt;b:if cond='data:post.allowIframeComments'&gt;
                                &lt;script expr:src='data:post.iframeCommentSrc' type='text/javascript'/&gt;
                                &lt;div class='cmt_iframe_holder' expr:data-href='data:post.canonicalUrl' expr:data-viewtype='data:post.viewType'/&gt;
                                &lt;b:if cond='data:post.embedCommentForm == &amp;quot;false&amp;quot;'&gt;
                                  &lt;a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
                                    &lt;data:postCommentMsg/&gt;
                                  &lt;/a&gt;
                                &lt;/b:if&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='mobile-index-post' var='post'&gt;
                              &lt;div class='mobile-date-outer date-outer'&gt;
                                &lt;b:if cond='data:post.dateHeader'&gt;
                                  &lt;div class='date-header'&gt;
                                    &lt;span&gt;
                                      &lt;data:post.dateHeader/&gt;
                                    &lt;/span&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;div class='mobile-post-outer'&gt;
                                  &lt;a expr:href='data:post.url'&gt;
                                    &lt;h3 class='mobile-index-title entry-title' itemprop='name'&gt;
                                      &lt;data:post.title/&gt;
                                    &lt;/h3&gt;
                                    &lt;div class='mobile-index-arrow'&gt;
                                      &amp;amp;rsaquo;
                                    &lt;/div&gt;
                                    &lt;div class='mobile-index-contents'&gt;
                                      &lt;b:if cond='data:post.thumbnailUrl'&gt;
                                        &lt;div class='mobile-index-thumbnail'&gt;
                                          &lt;div class='Image'&gt;
                                            &lt;img expr:src='data:post.thumbnailUrl'/&gt;
                                          &lt;/div&gt;
                                        &lt;/div&gt;
                                      &lt;/b:if&gt;
                                      &lt;div class='post-body'&gt;
                                        &lt;b:if cond='data:post.snippet'&gt;
                                          &lt;data:post.snippet/&gt;
                                        &lt;/b:if&gt;
                                      &lt;/div&gt;
                                    &lt;/div&gt;
                                    &lt;div style='clear: both;'/&gt;
                                  &lt;/a&gt;
                                  &lt;div class='mobile-index-comment'&gt;
                                    &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
                                      &lt;b:if cond='data:post.allowComments'&gt;
                                        &lt;b:if cond='data:post.numComments != 0'&gt;
                                          &lt;b:include data='post' name='comment_count_picker'/&gt;
                                        &lt;/b:if&gt;
                                      &lt;/b:if&gt;
                                    &lt;/b:if&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='mobile-main' var='top'&gt;
                              &lt;!-- posts --&gt;
                              &lt;div class='blog-posts hfeed'&gt;
                                &lt;b:include data='top' name='status-message'/&gt;
                                &lt;b:if cond='data:blog.pageType == &amp;quot;index&amp;quot;'&gt;
                                  &lt;b:loop values='data:posts' var='post'&gt;
                                    &lt;b:include data='post' name='mobile-index-post'/&gt;
                                  &lt;/b:loop&gt;
                                  &lt;b:else/&gt;
                                  &lt;b:loop values='data:posts' var='post'&gt;
                                    &lt;b:include data='post' name='mobile-post'/&gt;
                                  &lt;/b:loop&gt;
                                &lt;/b:if&gt;
                              &lt;/div&gt;
                              &lt;b:include name='mobile-nextprev'/&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='mobile-nextprev'&gt;
                              &lt;div class='blog-pager' id='blog-pager'&gt;
                                &lt;b:if cond='data:newerPageUrl'&gt;
                                  &lt;div class='mobile-link-button' id='blog-pager-newer-link'&gt;
                                    &lt;a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-newer-link&amp;quot;' expr:title='data:newerPageTitle'&gt;
                                      &amp;amp;lsaquo;
                                    &lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;b:if cond='data:olderPageUrl'&gt;
                                  &lt;div class='mobile-link-button' id='blog-pager-older-link'&gt;
                                    &lt;a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-older-link&amp;quot;' expr:title='data:olderPageTitle'&gt;
                                      &amp;amp;rsaquo;
                                    &lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;div class='mobile-link-button' id='blog-pager-home-link'&gt;
                                  &lt;a class='home-link' expr:href='data:blog.homepageUrl'&gt;
                                    &lt;data:homeMsg/&gt;
                                  &lt;/a&gt;
                                &lt;/div&gt;
                                &lt;div class='mobile-desktop-link'&gt;
                                  &lt;a class='home-link' expr:href='data:desktopLinkUrl'&gt;
                                    &lt;data:desktopLinkMsg/&gt;
                                  &lt;/a&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class='clear'/&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='mobile-post' var='post'&gt;
                              &lt;div class='date-outer'&gt;
                                &lt;b:if cond='data:post.dateHeader'&gt;
                                  &lt;h2 class='date-header'&gt;
                                    &lt;span&gt;
                                      &lt;data:post.dateHeader/&gt;
                                    &lt;/span&gt;
                                  &lt;/h2&gt;
                                &lt;/b:if&gt;
                                &lt;div class='date-posts'&gt;
                                  &lt;div class='post-outer'&gt;
                                    &lt;div class='post hentry uncustomized-post-template' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'&gt;
                                      &lt;b:if cond='data:post.thumbnailUrl'&gt;
                                        &lt;meta expr:content='data:post.thumbnailUrl' itemprop='image_url'/&gt;
                                      &lt;/b:if&gt;
                                      &lt;meta expr:content='data:blog.blogId' itemprop='blogId'/&gt;
                                      &lt;meta expr:content='data:post.id' itemprop='postId'/&gt;
                                      &lt;a expr:name='data:post.id'/&gt;
                                      &lt;b:if cond='data:post.title'&gt;
                                        &lt;h3 class='post-title entry-title' itemprop='name'&gt;
                                          &lt;b:if cond='data:post.link'&gt;
                                            &lt;a expr:href='data:post.link'&gt;
                                              &lt;data:post.title/&gt;
                                            &lt;/a&gt;
                                            &lt;b:else/&gt;
                                            &lt;b:if cond='data:post.url'&gt;
                                              &lt;b:if cond='data:blog.url != data:post.url'&gt;
                                                &lt;a expr:href='data:post.url'&gt;
                                                  &lt;data:post.title/&gt;
                                                &lt;/a&gt;
                                                &lt;b:else/&gt;
                                                &lt;data:post.title/&gt;
                                              &lt;/b:if&gt;
                                              &lt;b:else/&gt;
                                              &lt;data:post.title/&gt;
                                            &lt;/b:if&gt;
                                          &lt;/b:if&gt;
                                        &lt;/h3&gt;
                                      &lt;/b:if&gt;
                                      &lt;div class='post-header'&gt;
                                        &lt;div class='post-header-line-1'/&gt;
                                      &lt;/div&gt;
                                      &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='articleBody'&gt;
                                        &lt;data:post.body/&gt;
                                        &lt;div style='clear: both;'/&gt;
                                        &lt;!-- clear for photos floats --&gt;
                                      &lt;/div&gt;
                                      &lt;div class='post-footer'&gt;
                                        &lt;div class='post-footer-line post-footer-line-1'&gt;
                                          &lt;span class='post-author vcard'&gt;
                                            &lt;b:if cond='data:top.showAuthor'&gt;
                                              &lt;b:if cond='data:post.authorProfileUrl'&gt;
                                                &lt;span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'&gt;
                                                  &lt;meta expr:content='data:post.authorProfileUrl' itemprop='url'/&gt;
                                                  &lt;a expr:href='data:post.authorProfileUrl' rel='author' title='author profile'&gt;
                                                    &lt;span itemprop='name'&gt;
                                                      &lt;data:post.author/&gt;
                                                    &lt;/span&gt;
                                                  &lt;/a&gt;
                                                &lt;/span&gt;
                                                &lt;b:else/&gt;
                                                &lt;span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'&gt;
                                                  &lt;span itemprop='name'&gt;
                                                    &lt;data:post.author/&gt;
                                                  &lt;/span&gt;
                                                &lt;/span&gt;
                                              &lt;/b:if&gt;
                                            &lt;/b:if&gt;
                                          &lt;/span&gt;
                                          &lt;span class='post-timestamp'&gt;
                                            &lt;b:if cond='data:top.showTimestamp'&gt;
                                              &lt;data:top.timestampLabel/&gt;
                                              &lt;b:if cond='data:post.url'&gt;
                                                &lt;meta expr:content='data:post.canonicalUrl' itemprop='url'/&gt;
                                                &lt;a class='timestamp-link' expr:href='data:post.url' rel='bookmark' title='permanent link'&gt;
                                                  &lt;abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'&gt;
                                                    &lt;data:post.timestamp/&gt;
                                                  &lt;/abbr&gt;
                                                &lt;/a&gt;
                                              &lt;/b:if&gt;
                                            &lt;/b:if&gt;
                                          &lt;/span&gt;
                                          &lt;span class='post-comment-link'&gt;
                                            &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
                                              &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
                                                &lt;b:if cond='data:post.allowComments'&gt;
                                                  &lt;b:include data='post' name='comment_count_picker'/&gt;
                                                &lt;/b:if&gt;
                                              &lt;/b:if&gt;
                                            &lt;/b:if&gt;
                                          &lt;/span&gt;
                                        &lt;/div&gt;
                                        &lt;div class='post-footer-line post-footer-line-2'&gt;
                                          &lt;b:if cond='data:top.showMobileShare'&gt;
                                            &lt;div class='mobile-link-button goog-inline-block' id='mobile-share-button'&gt;
                                              &lt;a href='javascript:void(0);'&gt;
                                                &lt;data:shareMsg/&gt;
                                              &lt;/a&gt;
                                            &lt;/div&gt;
                                          &lt;/b:if&gt;
                                          &lt;b:if cond='data:top.showDummy'&gt;
                                            &lt;div class='goog-inline-block dummy-container'&gt;
                                              &lt;data:post.dummyTag/&gt;
                                            &lt;/div&gt;
                                          &lt;/b:if&gt;
                                        &lt;/div&gt;
                                      &lt;/div&gt;
                                    &lt;/div&gt;
                                    &lt;b:if cond='data:blog.pageType == &amp;quot;static_page&amp;quot;'&gt;
                                      &lt;b:include data='post' name='comment_picker'/&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:if cond='data:blog.pageType == &amp;quot;item&amp;quot;'&gt;
                                      &lt;b:include data='post' name='comment_picker'/&gt;
                                    &lt;/b:if&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='nextprev'&gt;
                              &lt;div class='blog-pager' id='blog-pager'&gt;
                                &lt;b:if cond='data:newerPageUrl'&gt;
                                  &lt;span id='blog-pager-newer-link'&gt;
                                    &lt;a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-newer-link&amp;quot;' expr:title='data:newerPageTitle'&gt;
                                      &lt;data:newerPageTitle/&gt;
                                    &lt;/a&gt;
                                  &lt;/span&gt;
                                &lt;/b:if&gt;
                                &lt;b:if cond='data:olderPageUrl'&gt;
                                  &lt;span id='blog-pager-older-link'&gt;
                                    &lt;a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-older-link&amp;quot;' expr:title='data:olderPageTitle'&gt;
                                      &lt;data:olderPageTitle/&gt;
                                    &lt;/a&gt;
                                  &lt;/span&gt;
                                &lt;/b:if&gt;
                                &lt;a class='home-link' expr:href='data:blog.homepageUrl'&gt;
                                  &lt;data:homeMsg/&gt;
                                &lt;/a&gt;
                                &lt;b:if cond='data:mobileLinkUrl'&gt;
                                  &lt;div class='blog-mobile-link'&gt;
                                    &lt;a expr:href='data:mobileLinkUrl'&gt;
                                      &lt;data:mobileLinkMsg/&gt;
                                    &lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                              &lt;/div&gt;
                              &lt;div class='clear'/&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='post' var='post'&gt;
                              &lt;div class='post hentry' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'&gt;
                                &lt;b:if cond='data:post.firstImageUrl'&gt;
                                  &lt;meta expr:content='data:post.firstImageUrl' itemprop='image_url'/&gt;
                                &lt;/b:if&gt;
                                &lt;meta expr:content='data:blog.blogId' itemprop='blogId'/&gt;
                                &lt;meta expr:content='data:post.id' itemprop='postId'/&gt;
                                &lt;a expr:name='data:post.id'/&gt;
                                &lt;b:if cond='data:post.title'&gt;
                                  &lt;h3 class='post-title entry-title' itemprop='name'&gt;
                                    &lt;b:if cond='data:post.link'&gt;
                                      &lt;a expr:href='data:post.link'&gt;
                                        &lt;data:post.title/&gt;
                                      &lt;/a&gt;
                                      &lt;b:else/&gt;
                                      &lt;b:if cond='data:post.url'&gt;
                                        &lt;b:if cond='data:blog.url != data:post.url'&gt;
                                          &lt;a expr:href='data:post.url'&gt;
                                            &lt;data:post.title/&gt;
                                          &lt;/a&gt;
                                          &lt;b:else/&gt;
                                          &lt;data:post.title/&gt;
                                        &lt;/b:if&gt;
                                        &lt;b:else/&gt;
                                        &lt;data:post.title/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/b:if&gt;
                                  &lt;/h3&gt;
                                &lt;/b:if&gt;
                                &lt;div class='post-header'&gt;
                                  &lt;div class='post-header-line-1'/&gt;
                                &lt;/div&gt;
                                &lt;b:if cond='data:blog.metaDescription == &amp;quot;&amp;quot;'&gt;
                                  &lt;!-- Then use the post body as the schema.org description,
for good G+/FB snippeting. --&gt;
                                  &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='description articleBody'&gt;
                                    &lt;data:post.body/&gt;
                                    &lt;div style='clear: both;'/&gt;
                                    &lt;!-- clear for photos floats --&gt;
                                  &lt;/div&gt;
                                  &lt;b:else/&gt;
                                  &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='articleBody'&gt;
                                    &lt;data:post.body/&gt;
                                    &lt;div style='clear: both;'/&gt;
                                    &lt;!-- clear for photos floats --&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;b:if cond='data:post.hasJumpLink'&gt;
                                  &lt;div class='jump-link'&gt;
                                    &lt;a expr:href='data:post.url + &amp;quot;#more&amp;quot;' expr:title='data:post.title'&gt;
                                      &lt;data:post.jumpText/&gt;
                                    &lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;div class='post-footer'&gt;
                                  &lt;div class='post-footer-line post-footer-line-1'&gt;
                                    &lt;span class='post-author vcard'&gt;
                                      &lt;b:if cond='data:top.showAuthor'&gt;
                                        &lt;data:top.authorLabel/&gt;
                                        &lt;b:if cond='data:post.authorProfileUrl'&gt;
                                          &lt;span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'&gt;
                                            &lt;meta expr:content='data:post.authorProfileUrl' itemprop='url'/&gt;
                                            &lt;a expr:href='data:post.authorProfileUrl' rel='author' title='author profile'&gt;
                                              &lt;span itemprop='name'&gt;
                                                &lt;data:post.author/&gt;
                                              &lt;/span&gt;
                                            &lt;/a&gt;
                                          &lt;/span&gt;
                                          &lt;b:else/&gt;
                                          &lt;span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'&gt;
                                            &lt;span itemprop='name'&gt;
                                              &lt;data:post.author/&gt;
                                            &lt;/span&gt;
                                          &lt;/span&gt;
                                        &lt;/b:if&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                    &lt;span class='post-timestamp'&gt;
                                      &lt;b:if cond='data:top.showTimestamp'&gt;
                                        &lt;data:top.timestampLabel/&gt;
                                        &lt;b:if cond='data:post.url'&gt;
                                          &lt;meta expr:content='data:post.canonicalUrl' itemprop='url'/&gt;
                                          &lt;a class='timestamp-link' expr:href='data:post.url' rel='bookmark' title='permanent link'&gt;
                                            &lt;abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'&gt;
                                              &lt;data:post.timestamp/&gt;
                                            &lt;/abbr&gt;
                                          &lt;/a&gt;
                                        &lt;/b:if&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                    &lt;span class='post-comment-link'&gt;
                                      &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
                                        &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
                                          &lt;b:if cond='data:post.allowComments'&gt;
                                            &lt;b:include data='post' name='comment_count_picker'/&gt;
                                          &lt;/b:if&gt;
                                        &lt;/b:if&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                    &lt;span class='post-icons'&gt;
                                      &lt;!-- email post links --&gt;
                                      &lt;b:if cond='data:post.emailPostUrl'&gt;
                                        &lt;span class='item-action'&gt;
                                          &lt;a expr:href='data:post.emailPostUrl' expr:title='data:top.emailPostMsg'&gt;
                                            &lt;img alt='' class='icon-action' height='13' src='http://img1.blogblog.com/img/icon18_email.gif' width='18'/&gt;
                                          &lt;/a&gt;
                                        &lt;/span&gt;
                                      &lt;/b:if&gt;
                                      &lt;!-- quickedit pencil --&gt;
                                      &lt;b:include data='post' name='postQuickEdit'/&gt;
                                    &lt;/span&gt;
                                    &lt;div class='post-share-buttons goog-inline-block'&gt;
                                      &lt;b:if cond='data:post.sharePostUrl'&gt;
                                        &lt;b:include data='post' name='shareButtons'/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/div&gt;
                                    &lt;span class='post-backlinks post-comment-link'&gt;
                                      &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
                                        &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
                                          &lt;b:if cond='data:post.showBacklinks'&gt;
                                            &lt;a class='comment-link' expr:href='data:post.url + &amp;quot;#links&amp;quot;'&gt;
                                              &lt;data:top.backlinkLabel/&gt;
                                            &lt;/a&gt;
                                          &lt;/b:if&gt;
                                        &lt;/b:if&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                  &lt;/div&gt;
                                  &lt;div class='post-footer-line post-footer-line-2'&gt;
                                    &lt;span class='post-labels'&gt;
                                      &lt;b:if cond='data:post.labels'&gt;
                                        &lt;data:postLabelsLabel/&gt;
                                        &lt;b:loop values='data:post.labels' var='label'&gt;
                                          &lt;a expr:href='data:label.url' rel='tag'&gt;
                                            &lt;data:label.name/&gt;
                                          &lt;/a&gt;
                                          &lt;b:if cond='data:label.isLast != &amp;quot;true&amp;quot;'&gt;
                                            ,
                                          &lt;/b:if&gt;
                                        &lt;/b:loop&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                  &lt;/div&gt;
                                  &lt;div class='post-footer-line post-footer-line-3'&gt;
                                    &lt;span class='post-location'&gt;
                                      &lt;b:if cond='data:top.showLocation'&gt;
                                        &lt;b:if cond='data:post.location'&gt;
                                          &lt;data:postLocationLabel/&gt;
                                          &lt;a expr:href='data:post.location.mapsUrl' target='_blank'&gt;
                                            &lt;data:post.location.name/&gt;
                                          &lt;/a&gt;
                                        &lt;/b:if&gt;
                                      &lt;/b:if&gt;
                                    &lt;/span&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='postQuickEdit' var='post'&gt;
                              &lt;b:if cond='data:post.editUrl'&gt;
                                &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:post.adminClass'&gt;
                                  &lt;a expr:href='data:post.editUrl' expr:title='data:top.editPostMsg'&gt;
                                    &lt;img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/&gt;
                                  &lt;/a&gt;
                                &lt;/span&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='shareButtons' var='post'&gt;
                              &lt;b:if cond='data:top.showEmailButton'&gt;
                                &lt;a class='goog-inline-block share-button sb-email' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=email&amp;quot;' expr:title='data:top.emailThisMsg' target='_blank'&gt;
                                  &lt;span class='share-button-link-text'&gt;
                                    &lt;data:top.emailThisMsg/&gt;
                                  &lt;/span&gt;
                                &lt;/a&gt;
                              &lt;/b:if&gt;
                              &lt;b:if cond='data:top.showBlogThisButton'&gt;
                                &lt;a class='goog-inline-block share-button sb-blog' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=blog&amp;quot;' expr:onclick='&amp;quot;window.open(this.href, \&amp;quot;_blank\&amp;quot;, \&amp;quot;height=270,width=475\&amp;quot;); return false;&amp;quot;' expr:title='data:top.blogThisMsg' target='_blank'&gt;
                                  &lt;span class='share-button-link-text'&gt;
                                    &lt;data:top.blogThisMsg/&gt;
                                  &lt;/span&gt;
                                &lt;/a&gt;
                              &lt;/b:if&gt;
                              &lt;b:if cond='data:top.showTwitterButton'&gt;
                                &lt;a class='goog-inline-block share-button sb-twitter' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=twitter&amp;quot;' expr:title='data:top.shareToTwitterMsg' target='_blank'&gt;
                                  &lt;span class='share-button-link-text'&gt;
                                    &lt;data:top.shareToTwitterMsg/&gt;
                                  &lt;/span&gt;
                                &lt;/a&gt;
                              &lt;/b:if&gt;
                              &lt;b:if cond='data:top.showFacebookButton'&gt;
                                &lt;a class='goog-inline-block share-button sb-facebook' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=facebook&amp;quot;' expr:onclick='&amp;quot;window.open(this.href, \&amp;quot;_blank\&amp;quot;, \&amp;quot;height=430,width=640\&amp;quot;); return false;&amp;quot;' expr:title='data:top.shareToFacebookMsg' target='_blank'&gt;
                                  &lt;span class='share-button-link-text'&gt;
                                    &lt;data:top.shareToFacebookMsg/&gt;
                                  &lt;/span&gt;
                                &lt;/a&gt;
                              &lt;/b:if&gt;
                              &lt;b:if cond='data:top.showOrkutButton'&gt;
                                &lt;a class='goog-inline-block share-button sb-orkut' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=orkut&amp;quot;' expr:title='data:top.shareToOrkutMsg' target='_blank'&gt;
                                  &lt;span class='share-button-link-text'&gt;
                                    &lt;data:top.shareToOrkutMsg/&gt;
                                  &lt;/span&gt;
                                &lt;/a&gt;
                              &lt;/b:if&gt;
                              &lt;b:if cond='data:top.showDummy'&gt;
                                &lt;div class='goog-inline-block dummy-container'&gt;
                                  &lt;data:post.dummyTag/&gt;
                                &lt;/div&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='status-message'&gt;
                              &lt;b:if cond='data:navMessage'&gt;
                                &lt;div class='status-msg-wrap'&gt;
                                  &lt;div class='status-msg-body'&gt;
                                    &lt;data:navMessage/&gt;
                                  &lt;/div&gt;
                                  &lt;div class='status-msg-border'&gt;
                                    &lt;div class='status-msg-bg'&gt;
                                      &lt;div class='status-msg-hidden'&gt;
                                        &lt;data:navMessage/&gt;
                                      &lt;/div&gt;
                                    &lt;/div&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div style='clear: both;'/&gt;
                              &lt;/b:if&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='threaded-comment-form' var='post'&gt;
                              &lt;div class='comment-form'&gt;
                                &lt;a name='comment-form'/&gt;
                                &lt;b:if cond='data:mobile'&gt;
                                  &lt;p&gt;
                                    &lt;data:blogCommentMessage/&gt;
                                  &lt;/p&gt;
                                  &lt;data:blogTeamBlogMessage/&gt;
                                  &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
                                  &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/&gt;
                                  &lt;b:else/&gt;
                                  &lt;p&gt;
                                    &lt;data:blogCommentMessage/&gt;
                                  &lt;/p&gt;
                                  &lt;data:blogTeamBlogMessage/&gt;
                                  &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
                                  &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/&gt;
                                &lt;/b:if&gt;
                                &lt;data:post.friendConnectJs/&gt;
                                &lt;data:post.cmtfpIframe/&gt;
                                &lt;script type='text/javascript'&gt;
                                  BLOG_CMT_createIframe(&amp;#39;&lt;data:post.appRpcRelayPath/&gt;&amp;#39;, &amp;#39;&lt;data:post.communityId/&gt;&amp;#39;);
                                &lt;/script&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='threaded_comment_js' var='post'&gt;
                              &lt;script async='async' expr:src='data:post.commentSrc' type='text/javascript'/&gt;
                              &lt;script type='text/javascript'&gt;
                                (function() {
                                  var items = &lt;data:post.commentJso/&gt;;
                                  var msgs = &lt;data:post.commentMsgs/&gt;;
                                  var config = &lt;data:post.commentConfig/&gt;;
                                  // &lt;![CDATA[
                                  var cursor = null;
                                  if (items &amp;&amp; items.length &gt; 0) {
                                    cursor = parseInt(items[items.length - 1].timestamp) + 1;
                                  }
                                  var bodyFromEntry = function(entry) {
                                    if (entry.gd$extendedProperty) {
                                      for (var k in entry.gd$extendedProperty) {
                                        if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
                                          return '&lt;span class="deleted-comment"&gt;' + entry.content.$t + '&lt;/span&gt;';
                                        }
                                      }
                                    }
                                    return entry.content.$t;
                                  }
                                  var parse = function(data) {
                                    cursor = null;
                                    var comments = [];
                                    if (data &amp;&amp; data.feed &amp;&amp; data.feed.entry) {
                                      for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
                                        var comment = {};
                                        // comment ID, parsed out of the original id format
                                        var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
                                        comment.id = id ? id[2] : null;
                                        comment.body = bodyFromEntry(entry);
                                        comment.timestamp = Date.parse(entry.published.$t) + '';
                                        if (entry.author &amp;&amp; entry.author.constructor === Array) {
                                          var auth = entry.author[0];
                                          if (auth) {
                                            comment.author = {
                                              name: (auth.name ? auth.name.$t : undefined),
                                              profileUrl: (auth.uri ? auth.uri.$t : undefined),
                                              avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                                            };
                                          }
                                        }
                                        if (entry.link) {
                                          if (entry.link[2]) {
                                            comment.link = comment.permalink = entry.link[2].href;
                                          }
                                          if (entry.link[3]) {
                                            var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                                            if (pid &amp;&amp; pid[1]) {
                                              comment.parentId = pid[1];
                                            }
                                          }
                                        }
                                        comment.deleteclass = 'item-control blog-admin';
                                        if (entry.gd$extendedProperty) {
                                          for (var k in entry.gd$extendedProperty) {
                                            if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                                              comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                                            } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                                              comment.displayTime = entry.gd$extendedProperty[k].value;
                                            }
                                          }
                                        }
                                        comments.push(comment);
                                      }
                                    }
                                    return comments;
                                  };
                                  var paginator = function(callback) {
                                    if (hasMore()) {
                                      var url = config.feed + '?alt=json&amp;v=2&amp;orderby=published&amp;reverse=false&amp;max-results=50';
                                      if (cursor) {
                                        url += '&amp;published-min=' + new Date(cursor).toISOString();
                                      }
                                      window.bloggercomments = function(data) {
                                        var parsed = parse(data);
                                        cursor = parsed.length &lt; 50 ? null
                                        : parseInt(parsed[parsed.length - 1].timestamp) + 1
                                        callback(parsed);
                                        window.bloggercomments = null;
                                      }
                                      url += '&amp;callback=bloggercomments';
                                      var script = document.createElement('script');
                                      script.type = 'text/javascript';
                                      script.src = url;
                                      document.getElementsByTagName('head')[0].appendChild(script);
                                    }
                                  };
                                  var hasMore = function() {
                                    return !!cursor;
                                  };
                                  var getMeta = function(key, comment) {
                                    if ('iswriter' == key) {
                                      var matches = !!comment.author
                                      &amp;&amp; comment.author.name == config.authorName
                                      &amp;&amp; comment.author.profileUrl == config.authorUrl;
                                      return matches ? 'true' : '';
                                    } else if ('deletelink' == key) {
                                      return config.baseUri + '/delete-comment.g?blogID='
                                      + config.blogId + '&amp;postID=' + comment.id;
                                    } else if ('deleteclass' == key) {
                                      return comment.deleteclass;
                                    }
                                    return '';
                                  };
                                  var replybox = null;
                                  var replyUrlParts = null;
                                  var replyParent = undefined;
                                  var onReply = function(commentId, domId) {
                                    if (replybox == null) {
                                      // lazily cache replybox, and adjust to suit this style:
                                      replybox = document.getElementById('comment-editor');
                                      if (replybox != null) {
                                        replybox.height = '250px';
                                        replybox.style.display = 'block';
                                        replyUrlParts = replybox.src.split('#');
                                      }
                                    }
                                    if (replybox &amp;&amp; (commentId !== replyParent)) {
                                      document.getElementById(domId).insertBefore(replybox, null);
                                      replybox.src = replyUrlParts[0]
                                      + (commentId ? '&amp;parentID=' + commentId : '')
                                      + '#' + replyUrlParts[1];
                                      replyParent = commentId;
                                    }
                                  };
                                  var hash = (window.location.hash || '#').substring(1);
                                  var startThread, targetComment;
                                  if (/^comment-form_/.test(hash)) {
                                    startThread = hash.substring('comment-form_'.length);
                                  } else if (/^c[0-9]+$/.test(hash)) {
                                    targetComment = hash.substring(1);
                                  }
                                  // Configure commenting API:
                                  var configJso = {
                                    'maxDepth': config.maxThreadDepth
                                  };
                                  var provider = {
                                    'id': config.postId,
                                    'data': items,
                                    'loadNext': paginator,
                                    'hasMore': hasMore,
                                    'getMeta': getMeta,
                                    'onReply': onReply,
                                    'rendered': true,
                                    'initComment': targetComment,
                                    'initReplyThread': startThread,
                                    'config': configJso,
                                    'messages': msgs
                                  };
                                  var render = function() {
                                    if (window.goog &amp;&amp; window.goog.comments) {
                                      var holder = document.getElementById('comment-holder');
                                      window.goog.comments.render(holder, provider);
                                    }
                                  };
                                  // render now, or queue to render when library loads:
                                  if (window.goog &amp;&amp; window.goog.comments) {
                                    render();
                                  } else {
                                    window.goog = window.goog || {};
                                    window.goog.comments = window.goog.comments || {};
                                    window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
                                    window.goog.comments.loadQueue.push(render);
                                  }
                                })();
                                // ]]&gt;
                              &lt;/script&gt;
                            &lt;/b:includable&gt;
                            &lt;b:includable id='threaded_comments' var='post'&gt;
                              &lt;div class='comments' id='comments'&gt;
                                &lt;a name='comments'/&gt;
                                &lt;h4&gt;
                                  &lt;data:post.commentLabelFull/&gt;
                                  :
                                &lt;/h4&gt;
                                &lt;div class='comments-content'&gt;
                                  &lt;b:if cond='data:post.embedCommentForm'&gt;
                                    &lt;b:include data='post' name='threaded_comment_js'/&gt;
                                  &lt;/b:if&gt;
                                  &lt;div id='comment-holder'&gt;
                                    &lt;data:post.commentHtml/&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;p class='comment-footer'&gt;
                                  &lt;b:if cond='data:post.allowNewComments'&gt;
                                    &lt;b:include data='post' name='threaded-comment-form'/&gt;
                                    &lt;b:else/&gt;
                                    &lt;data:post.noNewCommentsText/&gt;
                                  &lt;/b:if&gt;
                                &lt;/p&gt;
                                &lt;b:if cond='data:showCmtPopup'&gt;
                                  &lt;div id='comment-popup'&gt;
                                    &lt;iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'&gt;
                                    &lt;/iframe&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                                &lt;div id='backlinks-container'&gt;
                                  &lt;div expr:id='data:widget.instanceId + &amp;quot;_backlinks-container&amp;quot;'&gt;
                                    &lt;b:if cond='data:post.showBacklinks'&gt;
                                      &lt;b:include data='post' name='backlinks'/&gt;
                                    &lt;/b:if&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                            &lt;/b:includable&gt;
                          &lt;/b:widget&gt;
                        &lt;/b:section&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class='column-right-outer'&gt;
                      &lt;div class='column-right-inner'&gt;
                        &lt;aside&gt;
                          &lt;b:section class='sidebar' id='sidebar-right-1' preferred='yes' showaddelement='yes'&gt;
                            &lt;b:widget id='Header1' locked='false' title='Statistically Significant (Header)' type='Header'&gt;
                              &lt;b:includable id='main'&gt;
                                &lt;b:if cond='data:useImage'&gt;
                                  &lt;b:if cond='data:imagePlacement == &amp;quot;BEHIND&amp;quot;'&gt;
                                    &lt;!--
Show image as background to text. You can't really calculate the width
reliably in JS because margins are not taken into account by any of
clientWidth, offsetWidth or scrollWidth, so we don't force a minimum
width if the user is using shrink to fit.
This results in a margin-width's worth of pixels being cropped. If the
user is not using shrink to fit then we expand the header.
--&gt;
                                    &lt;b:if cond='data:mobile'&gt;
                                      &lt;div id='header-inner'&gt;
                                        &lt;div class='titlewrapper' style='background: transparent'&gt;
                                          &lt;h1 class='title' style='background: transparent; border-width: 0px'&gt;
                                            &lt;b:include name='title'/&gt;
                                          &lt;/h1&gt;
                                        &lt;/div&gt;
                                        &lt;b:include name='description'/&gt;
                                      &lt;/div&gt;
                                      &lt;b:else/&gt;
                                      &lt;div expr:style='&amp;quot;background-image: url(\&amp;quot;&amp;quot; + data:sourceUrl + &amp;quot;\&amp;quot;); &amp;quot;                        + &amp;quot;background-position: &amp;quot;                        + data:backgroundPositionStyleStr + &amp;quot;; &amp;quot;                        + data:widthStyleStr                        + &amp;quot;min-height: &amp;quot; + data:height                        + &amp;quot;_height: &amp;quot; + data:height                        + &amp;quot;background-repeat: no-repeat; &amp;quot;' id='header-inner'&gt;
                                        &lt;div class='titlewrapper' style='background: transparent'&gt;
                                          &lt;h1 class='title' style='background: transparent; border-width: 0px'&gt;
                                            &lt;b:include name='title'/&gt;
                                          &lt;/h1&gt;
                                        &lt;/div&gt;
                                        &lt;b:include name='description'/&gt;
                                      &lt;/div&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:else/&gt;
                                    &lt;!--Show the image only--&gt;
                                    &lt;div id='header-inner'&gt;
                                      &lt;a expr:href='data:blog.homepageUrl' style='display: block'&gt;
                                        &lt;img expr:alt='data:title' expr:height='data:height' expr:id='data:widget.instanceId + &amp;quot;_headerimg&amp;quot;' expr:src='data:sourceUrl' expr:width='data:width' style='display: block'/&gt;
                                      &lt;/a&gt;
                                      &lt;!--Show the description--&gt;
                                      &lt;b:if cond='data:imagePlacement == &amp;quot;BEFORE_DESCRIPTION&amp;quot;'&gt;
                                        &lt;b:include name='description'/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/div&gt;
                                  &lt;/b:if&gt;
                                  &lt;b:else/&gt;
                                  &lt;!--No header image --&gt;
                                  &lt;div id='header-inner'&gt;
                                    &lt;div class='titlewrapper'&gt;
                                      &lt;h1 class='title'&gt;
                                        &lt;b:include name='title'/&gt;
                                      &lt;/h1&gt;
                                    &lt;/div&gt;
                                    &lt;b:include name='description'/&gt;
                                  &lt;/div&gt;
                                &lt;/b:if&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='description'&gt;
                                &lt;div class='descriptionwrapper'&gt;
                                  &lt;p class='description'&gt;
                                    &lt;span&gt;
                                      &lt;data:description/&gt;
                                    &lt;/span&gt;
                                  &lt;/p&gt;
                                &lt;/div&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='title'&gt;
                                &lt;b:if cond='data:blog.url == data:blog.homepageUrl'&gt;
                                  &lt;data:title/&gt;
                                  &lt;b:else/&gt;
                                  &lt;a expr:href='data:blog.homepageUrl'&gt;
                                    &lt;data:title/&gt;
                                  &lt;/a&gt;
                                &lt;/b:if&gt;
                              &lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                            &lt;b:widget id='Stats1' locked='false' title='Total Pageviews' type='Stats'&gt;
                              &lt;b:includable id='main'&gt;
                                &lt;b:if cond='data:title'&gt;
                                  &lt;h2&gt;
                                    &lt;data:title/&gt;
                                  &lt;/h2&gt;
                                &lt;/b:if&gt;
                                &lt;div class='widget-content'&gt;
                                  &lt;!-- Content is going to be visible when data will be fetched from server. --&gt;
                                  &lt;div expr:id='data:widget.instanceId + &amp;quot;_content&amp;quot;' style='display: none;'&gt;
                                    &lt;!-- Counter and image will be injected later via AJAX call. --&gt;
                                    &lt;b:if cond='data:showSparkline'&gt;
                                      &lt;img alt='Sparkline' expr:id='data:widget.instanceId + &amp;quot;_sparkline&amp;quot;' height='30' width='75'/&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:if cond='data:showGraphicalCounter'&gt;
                                      &lt;span class='counter-wrapper graph-counter-wrapper' expr:id='data:widget.instanceId + &amp;quot;_totalCount&amp;quot;'/&gt;
                                      &lt;b:else/&gt;
                                      &lt;span class='counter-wrapper text-counter-wrapper' expr:id='data:widget.instanceId + &amp;quot;_totalCount&amp;quot;'/&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:include name='quickedit'/&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                            &lt;b:widget id='BlogArchive1' locked='false' title='Blog Archive' type='BlogArchive'&gt;
                              &lt;b:includable id='main'&gt;
                                &lt;b:if cond='data:title'&gt;
                                  &lt;h2&gt;
                                    &lt;data:title/&gt;
                                  &lt;/h2&gt;
                                &lt;/b:if&gt;
                                &lt;div class='widget-content'&gt;
                                  &lt;div id='ArchiveList'&gt;
                                    &lt;div expr:id='data:widget.instanceId + &amp;quot;_ArchiveList&amp;quot;'&gt;
                                      &lt;b:if cond='data:style == &amp;quot;HIERARCHY&amp;quot;'&gt;
                                        &lt;b:include data='data' name='interval'/&gt;
                                      &lt;/b:if&gt;
                                      &lt;b:if cond='data:style == &amp;quot;FLAT&amp;quot;'&gt;
                                        &lt;b:include data='data' name='flat'/&gt;
                                      &lt;/b:if&gt;
                                      &lt;b:if cond='data:style == &amp;quot;MENU&amp;quot;'&gt;
                                        &lt;b:include data='data' name='menu'/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/div&gt;
                                  &lt;/div&gt;
                                  &lt;b:include name='quickedit'/&gt;
                                &lt;/div&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='flat' var='data'&gt;
                                &lt;ul class='flat'&gt;
                                  &lt;b:loop values='data:data' var='i'&gt;
                                    &lt;li class='archivedate'&gt;
                                      &lt;a expr:href='data:i.url'&gt;
                                        &lt;data:i.name/&gt;
                                      &lt;/a&gt;
                                      (
                                      &lt;data:i.post-count/&gt;
                                      )
                                    &lt;/li&gt;
                                  &lt;/b:loop&gt;
                                &lt;/ul&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='interval' var='intervalData'&gt;
                                &lt;b:loop values='data:intervalData' var='i'&gt;
                                  &lt;ul class='hierarchy'&gt;
                                    &lt;li expr:class='&amp;quot;archivedate &amp;quot; + data:i.expclass'&gt;
                                      &lt;b:include data='i' name='toggle'/&gt;
                                      &lt;a class='post-count-link' expr:href='data:i.url'&gt;
                                        &lt;data:i.name/&gt;
                                      &lt;/a&gt;
                                      &lt;span class='post-count' dir='ltr'&gt;
                                        (
                                        &lt;data:i.post-count/&gt;
                                        )
                                      &lt;/span&gt;
                                      &lt;b:if cond='data:i.data'&gt;
                                        &lt;b:include data='i.data' name='interval'/&gt;
                                      &lt;/b:if&gt;
                                      &lt;b:if cond='data:i.posts'&gt;
                                        &lt;b:include data='i.posts' name='posts'/&gt;
                                      &lt;/b:if&gt;
                                    &lt;/li&gt;
                                  &lt;/ul&gt;
                                &lt;/b:loop&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='menu' var='data'&gt;
                                &lt;select expr:id='data:widget.instanceId + &amp;quot;_ArchiveMenu&amp;quot;'&gt;
                                  &lt;option value=''&gt;
                                    &lt;data:title/&gt;
                                  &lt;/option&gt;
                                  &lt;b:loop values='data:data' var='i'&gt;
                                    &lt;option expr:value='data:i.url'&gt;
                                      &lt;data:i.name/&gt;
                                      (
                                      &lt;data:i.post-count/&gt;
                                      )
                                    &lt;/option&gt;
                                  &lt;/b:loop&gt;
                                &lt;/select&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='posts' var='posts'&gt;
                                &lt;ul class='posts'&gt;
                                  &lt;b:loop values='data:posts' var='i'&gt;
                                    &lt;li&gt;
                                      &lt;a expr:href='data:i.url'&gt;
                                        &lt;data:i.title/&gt;
                                      &lt;/a&gt;
                                    &lt;/li&gt;
                                  &lt;/b:loop&gt;
                                &lt;/ul&gt;
                              &lt;/b:includable&gt;
                              &lt;b:includable id='toggle' var='interval'&gt;
                                &lt;b:if cond='data:interval.toggleId'&gt;
                                  &lt;b:if cond='data:interval.expclass == &amp;quot;expanded&amp;quot;'&gt;
                                    &lt;a class='toggle' href='javascript:void(0)'&gt;
                                      &lt;span class='zippy toggle-open'&gt;
                                        &amp;#9660;&amp;#160;
                                      &lt;/span&gt;
                                    &lt;/a&gt;
                                    &lt;b:else/&gt;
                                    &lt;a class='toggle' href='javascript:void(0)'&gt;
                                      &lt;span class='zippy'&gt;
                                        &lt;b:if cond='data:blog.languageDirection == &amp;quot;rtl&amp;quot;'&gt;
                                          &amp;#9668;&amp;#160;
                                          &lt;b:else/&gt;
                                          &amp;#9658;&amp;#160;
                                        &lt;/b:if&gt;
                                      &lt;/span&gt;
                                    &lt;/a&gt;
                                  &lt;/b:if&gt;
                                &lt;/b:if&gt;
                              &lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                            &lt;b:widget id='Profile1' locked='false' title='About Me' type='Profile'&gt;
                              &lt;b:includable id='main'&gt;
                                &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
                                  &lt;h2&gt;
                                    &lt;data:title/&gt;
                                  &lt;/h2&gt;
                                &lt;/b:if&gt;
                                &lt;div class='widget-content'&gt;
                                  &lt;b:if cond='data:team == &amp;quot;true&amp;quot;'&gt;
                                    &lt;!-- team blog profile --&gt;
                                    &lt;ul&gt;
                                      &lt;b:loop values='data:authors' var='i'&gt;
                                        &lt;li&gt;
                                          &lt;a class='profile-name-link g-profile' expr:href='data:i.userUrl' expr:style='&amp;quot;background-image: url(&amp;quot; + data:i.profileLogo + &amp;quot;);&amp;quot;'&gt;
                                            &lt;data:i.display-name/&gt;
                                          &lt;/a&gt;
                                        &lt;/li&gt;
                                      &lt;/b:loop&gt;
                                    &lt;/ul&gt;
                                    &lt;b:else/&gt;
                                    &lt;!-- normal blog profile --&gt;
                                    &lt;b:if cond='data:photo.url != &amp;quot;&amp;quot;'&gt;
                                      &lt;a expr:href='data:userUrl'&gt;
                                        &lt;img class='profile-img' expr:alt='data:photo.alt' expr:height='data:photo.height' expr:src='data:photo.url' expr:width='data:photo.width'/&gt;
                                      &lt;/a&gt;
                                    &lt;/b:if&gt;
                                    &lt;dl class='profile-datablock'&gt;
                                      &lt;dt class='profile-data'&gt;
                                        &lt;a class='profile-name-link g-profile' expr:href='data:userUrl' expr:style='&amp;quot;background-image: url(&amp;quot; + data:profileLogo + &amp;quot;);&amp;quot;' rel='author'&gt;
                                          &lt;data:displayname/&gt;
                                        &lt;/a&gt;
                                        &lt;b:if cond='data:hasgoogleprofile'&gt;
                                          &lt;br/&gt;
                                          &lt;div class='g-follow' data-annotation='bubble' data-height='20' expr:data-href='data:userUrl'/&gt;
                                        &lt;/b:if&gt;
                                      &lt;/dt&gt;
                                      &lt;b:if cond='data:showlocation == &amp;quot;true&amp;quot;'&gt;
                                        &lt;dd class='profile-data'&gt;
                                          &lt;data:location/&gt;
                                        &lt;/dd&gt;
                                      &lt;/b:if&gt;
                                      &lt;b:if cond='data:aboutme != &amp;quot;&amp;quot;'&gt;
                                        &lt;dd class='profile-textblock'&gt;
                                          &lt;data:aboutme/&gt;
                                        &lt;/dd&gt;
                                      &lt;/b:if&gt;
                                    &lt;/dl&gt;
                                    &lt;a class='profile-link' expr:href='data:userUrl' rel='author'&gt;
                                      &lt;data:viewProfileMsg/&gt;
                                    &lt;/a&gt;
                                  &lt;/b:if&gt;
                                  &lt;b:include name='quickedit'/&gt;
                                &lt;/div&gt;
                              &lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                            &lt;b:widget id='BlogList1' locked='false' title='Blogroll' type='BlogList'&gt;
                              &lt;b:includable id='main'&gt;
                                &lt;!-- only display title if it's non-empty --&gt;
                                &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
                                  &lt;h2 class='title'&gt;
                                    &lt;data:title/&gt;
                                  &lt;/h2&gt;
                                &lt;/b:if&gt;
                                &lt;div class='widget-content'&gt;
                                  &lt;div class='blog-list-container' expr:id='data:widget.instanceId + &amp;quot;_container&amp;quot;'&gt;
                                    &lt;ul expr:id='data:widget.instanceId + &amp;quot;_blogs&amp;quot;'&gt;
                                      &lt;b:loop values='data:items' var='item'&gt;
                                        &lt;li expr:style='data:item.displayStyle'&gt;
                                          &lt;div class='blog-icon'&gt;
                                            &lt;b:if cond='data:showIcon == &amp;quot;true&amp;quot;'&gt;
                                              &lt;input expr:value='data:item.blogIconUrl' type='hidden'/&gt;
                                            &lt;/b:if&gt;
                                          &lt;/div&gt;
                                          &lt;div class='blog-content'&gt;
                                            &lt;div class='blog-title'&gt;
                                              &lt;a expr:href='data:item.blogUrl' target='_blank'&gt;
                                                &lt;data:item.blogTitle/&gt;
                                              &lt;/a&gt;
                                            &lt;/div&gt;
                                            &lt;div class='item-content'&gt;
                                              &lt;b:if cond='data:showItemThumbnail == &amp;quot;true&amp;quot;'&gt;
                                                &lt;b:if cond='data:item.itemThumbnail'&gt;
                                                  &lt;div class='item-thumbnail'&gt;
                                                    &lt;a expr:href='data:item.blogUrl' target='_blank'&gt;
                                                      &lt;img alt='' border='0' expr:height='data:item.itemThumbnail.height' expr:src='data:item.itemThumbnail.url' expr:width='data:item.itemThumbnail.width'/&gt;
                                                    &lt;/a&gt;
                                                  &lt;/div&gt;
                                                &lt;/b:if&gt;
                                              &lt;/b:if&gt;
                                              &lt;b:if cond='data:showItemTitle == &amp;quot;true&amp;quot;'&gt;
                                                &lt;span class='item-title'&gt;
                                                  &lt;b:if cond='data:item.itemUrl != &amp;quot;&amp;quot;'&gt;
                                                    &lt;a expr:href='data:item.itemUrl' target='_blank'&gt;
                                                      &lt;data:item.itemTitle/&gt;
                                                    &lt;/a&gt;
                                                    &lt;b:else/&gt;
                                                    &lt;data:item.itemTitle/&gt;
                                                  &lt;/b:if&gt;
                                                &lt;/span&gt;
                                              &lt;/b:if&gt;
                                              &lt;b:if cond='data:showItemSnippet == &amp;quot;true&amp;quot;'&gt;
                                                &lt;b:if cond='data:showItemTitle == &amp;quot;true&amp;quot;'&gt;
                                                  -
                                                &lt;/b:if&gt;
                                                &lt;span class='item-snippet'&gt;
                                                  &lt;data:item.itemSnippet/&gt;
                                                &lt;/span&gt;
                                              &lt;/b:if&gt;
                                              &lt;b:if cond='data:showTimePeriodSinceLastUpdate == &amp;quot;true&amp;quot;'&gt;
                                                &lt;div class='item-time'&gt;
                                                  &lt;data:item.timePeriodSinceLastUpdate/&gt;
                                                &lt;/div&gt;
                                              &lt;/b:if&gt;
                                            &lt;/div&gt;
                                          &lt;/div&gt;
                                          &lt;div style='clear: both;'/&gt;
                                        &lt;/li&gt;
                                      &lt;/b:loop&gt;
                                    &lt;/ul&gt;
                                    &lt;b:if cond='data:numItemsToShow != 0'&gt;
                                      &lt;b:if cond='data:totalItems &amp;gt; data:numItemsToShow'&gt;
                                        &lt;div class='show-option'&gt;
                                          &lt;span expr:id='data:widget.instanceId + &amp;quot;_show-n&amp;quot;' style='display: none;'&gt;
                                            &lt;a href='javascript:void(0)' onclick='return false;'&gt;
                                              &lt;data:showNText/&gt;
                                            &lt;/a&gt;
                                          &lt;/span&gt;
                                          &lt;span expr:id='data:widget.instanceId + &amp;quot;_show-all&amp;quot;' style='margin-left: 5px;'&gt;
                                            &lt;a href='javascript:void(0)' onclick='return false;'&gt;
                                              &lt;data:showAllText/&gt;
                                            &lt;/a&gt;
                                          &lt;/span&gt;
                                        &lt;/div&gt;
                                      &lt;/b:if&gt;
                                    &lt;/b:if&gt;
                                    &lt;b:include name='quickedit'/&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                            &lt;b:widget id='Attribution1' locked='false' title='' type='Attribution'&gt;
                              &lt;b:includable id='main'&gt;
    &lt;b:if cond='data:feedbackSurveyLink'&gt;
      &lt;div class='mobile-survey-link' style='text-align: center;'&gt;
        &lt;data:feedbackSurveyLink/&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='widget-content' style='text-align: center;'&gt;
      &lt;b:if cond='data:attribution != &amp;quot;&amp;quot;'&gt;
       &lt;data:attribution/&gt;
      &lt;/b:if&gt;
    &lt;/div&gt;

    &lt;b:include name='quickedit'/&gt;
  &lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                            &lt;b:widget id='Navbar1' locked='false' title='Navbar' type='Navbar'&gt;
                              &lt;b:includable id='main'&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener(&amp;#39;load&amp;#39;,
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent(&amp;#39;onload&amp;#39;, function(){ object[attribute] = val; });
      }
    }
  &amp;lt;/script&amp;gt;
&amp;lt;div id=&amp;quot;navbar-iframe-container&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://apis.google.com/js/plusone.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
        gapi.load(&amp;quot;gapi.iframes:gapi.iframes.style.bubble&amp;quot;, function() {
          if (gapi.iframes &amp;amp;&amp;amp; gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: &amp;#39;https://www.blogger.com/navbar.g?targetBlogID\0757711341427709076342\46blogName\75Statistically+Significant\46publishMode\75PUBLISH_MODE_BLOGSPOT\46navbarType\75LIGHT\46layoutType\75LAYOUTS\46searchRoot\75http://alandgraf.blogspot.com/search\46blogLocale\75en\46v\0752\46homepageUrl\75http://alandgraf.blogspot.com/\46vt\75-9064692996634111126&amp;#39;,
                where: document.getElementById(&amp;quot;navbar-iframe-container&amp;quot;),
                id: &amp;quot;navbar-iframe&amp;quot;
            });
          }
        });
      &amp;lt;/script&amp;gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
(function() {
var script = document.createElement(&amp;#39;script&amp;#39;);
script.type = &amp;#39;text/javascript&amp;#39;;
script.src = &amp;#39;//pagead2.googlesyndication.com/pagead/js/google_top_exp.js&amp;#39;;
var head = document.getElementsByTagName(&amp;#39;head&amp;#39;)[0];
if (head) {
head.appendChild(script);
}})();
&amp;lt;/script&amp;gt;
&lt;/b:includable&gt;
                            &lt;/b:widget&gt;
                          &lt;/b:section&gt;
                        &lt;/aside&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div style='clear: both'/&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;script language='javascript' type='text/javascript'&gt;
      setTimeout(function() {
        blogger.ui().configure().view();
      }, 0);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7711341427709076342/template/default'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7711341427709076342/template/default'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_PUBLISHING_MODE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of publishing done for this blog.</title><content type='text'>PUBLISH_MODE_BLOGSPOT</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_PUBLISHING_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_PUBLISHING_MODE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_ADMIN_PERMISSION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of administrators' emails for the blog.</title><content type='text'>andland@gmail.com</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ADMIN_PERMISSION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ADMIN_PERMISSION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_ADULT_CONTENT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog contains adult content</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ADULT_CONTENT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ADULT_CONTENT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_ALTERNATE_JSRENDER_ALLOWED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether alternate JS renderings are allowed</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ALTERNATE_JSRENDER_ALLOWED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ALTERNATE_JSRENDER_ALLOWED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_ANALYTICS_ACCOUNT_NUMBER</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog's Google Analytics account number</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ANALYTICS_ACCOUNT_NUMBER'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ANALYTICS_ACCOUNT_NUMBER'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_ARCHIVE_DATE_FORMAT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the archive index date format</title><content type='text'>9</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ARCHIVE_DATE_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ARCHIVE_DATE_FORMAT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_ARCHIVE_FREQUENCY</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>How frequently this blog should be archived</title><content type='text'>MONTHLY</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ARCHIVE_FREQUENCY'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_ARCHIVE_FREQUENCY'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_AUTHOR_PERMISSION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of authors' emails who have permission to publish.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_AUTHOR_PERMISSION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_AUTHOR_PERMISSION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_BACKLINKS_ALLOWED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show comment backlinks on the blog</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_BACKLINKS_ALLOWED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_BACKLINKS_ALLOWED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_BY_POST_ARCHIVING</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to provide an archive page for each post</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_BY_POST_ARCHIVING'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_BY_POST_ARCHIVING'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_ACCESS</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Who can comment</title><content type='text'>ANYONE</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_ACCESS'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_ACCESS'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_CAPTCHA</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to require commenters to complete a Captcha</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_CAPTCHA'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_CAPTCHA'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_EMAIL</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>List of e-mail addresses to send notifications of new comments to</title><content type='text'>andland@gmail.com</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_EMAIL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_EMAIL'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_FEED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for blog comments</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_FEED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_FEED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_FORM_LOCATION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog comment form location</title><content type='text'>EMBEDDED_IFRAME</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_FORM_LOCATION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_FORM_LOCATION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_MESSAGE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog comment message</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MESSAGE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MESSAGE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_MODERATION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to enable comment moderation</title><content type='text'>DISABLED</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MODERATION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MODERATION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_MODERATION_DELAY</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Number of days after which new comments are subject to moderation</title><content type='text'>14</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MODERATION_DELAY'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MODERATION_DELAY'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_MODERATION_EMAIL</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Email address to send notifications of new comments needing moderation to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MODERATION_EMAIL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_MODERATION_EMAIL'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENT_PROFILE_IMAGES</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show profile images in comments</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_PROFILE_IMAGES'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENT_PROFILE_IMAGES'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENTS_ALLOWED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show comments</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENTS_ALLOWED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENTS_ALLOWED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_COMMENTS_TIME_STAMP_FORMAT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Comment time stamp format number</title><content type='text'>29</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENTS_TIME_STAMP_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_COMMENTS_TIME_STAMP_FORMAT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_CONVERT_LINE_BREAKS</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to convert line breaks into &lt;br /&gt; tags in post editor</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CONVERT_LINE_BREAKS'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CONVERT_LINE_BREAKS'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_CUSTOM_PAGE_NOT_FOUND</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The content served when the requested post or page is not found.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CUSTOM_PAGE_NOT_FOUND'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CUSTOM_PAGE_NOT_FOUND'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_CUSTOM_ROBOTS_TXT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The custom robots.txt content of the blog served to search engines.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CUSTOM_ROBOTS_TXT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CUSTOM_ROBOTS_TXT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_CUSTOM_ROBOTS_TXT_ENABLED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog serves custom robots.txt content to search engines.</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CUSTOM_ROBOTS_TXT_ENABLED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_CUSTOM_ROBOTS_TXT_ENABLED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_DATE_FORMAT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the date header format</title><content type='text'>26</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DATE_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DATE_FORMAT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_DEFAULT_BACKLINKS_MODE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Default backlinks mode for posts</title><content type='text'>DEFAULT_HAVE_BACKLINKS</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DEFAULT_BACKLINKS_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DEFAULT_BACKLINKS_MODE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_DEFAULT_COMMENTS_MODE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Default comment mode for posts</title><content type='text'>DEFAULT_HAVE_COMMENTS</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DEFAULT_COMMENTS_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DEFAULT_COMMENTS_MODE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_DESCRIPTION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>A description of the blog</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DESCRIPTION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_DESCRIPTION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_EMAIL_POST_LINKS</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show a link for users to e-mail posts</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_EMAIL_POST_LINKS'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_EMAIL_POST_LINKS'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_FEED_REDIRECT_URL</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>URL to redirect post feed requests to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_FEED_REDIRECT_URL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_FEED_REDIRECT_URL'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_FLOAT_ALIGNMENT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether float alignment is enabled for the blog</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_FLOAT_ALIGNMENT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_FLOAT_ALIGNMENT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_LOCALE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Language for this blog</title><content type='text'>en</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_LOCALE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_LOCALE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_MAIL_PUBLISH</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether Mail-to-Blogger posts should be immediately published</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAIL_PUBLISH'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAIL_PUBLISH'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_MAIL_TO_BLOGGER</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Secret from which the Mail-to-Blogger email address is derived</title><content type='text'>blogit</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAIL_TO_BLOGGER'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAIL_TO_BLOGGER'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_MAX_NUM</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Maximum number of things to show on the main page"</title><content type='text'>7</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAX_NUM'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAX_NUM'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_MAX_UNIT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Unit of things to show on the main page</title><content type='text'>POSTS</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAX_UNIT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_MAX_UNIT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_META_DESCRIPTION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The meta description of the blog served to search engines.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_META_DESCRIPTION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_META_DESCRIPTION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_META_DESCRIPTION_ENABLED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog is served with meta descriptions.</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_META_DESCRIPTION_ENABLED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_META_DESCRIPTION_ENABLED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_NAME</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The name of the blog</title><content type='text'>Statistically Significant</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_NAME'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_NAME'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_PER_POST_FEED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for per-post comments</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_PER_POST_FEED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_PER_POST_FEED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_POST_FEED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for blog posts</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_POST_FEED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_POST_FEED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_POST_FEED_FOOTER</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Footer to append to the end of each entry in the post feed</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_POST_FEED_FOOTER'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_POST_FEED_FOOTER'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_POST_TEMPLATE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The template for blog posts</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_POST_TEMPLATE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_POST_TEMPLATE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_PROMOTED</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog can be promoted on Blogger</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_PROMOTED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_PROMOTED'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_QUICK_EDITING</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether Quick Editing is enabled</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_QUICK_EDITING'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_QUICK_EDITING'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_READ_ACCESS_MODE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The access type for the readers of the blog.</title><content type='text'>PUBLIC</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_READ_ACCESS_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_READ_ACCESS_MODE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_READER_PERMISSION</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of emails for users who have permission to read the blog.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_READER_PERMISSION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_READER_PERMISSION'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_SEARCHABLE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog should be indexed by search engines</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SEARCHABLE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SEARCHABLE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_SEND_EMAIL</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Comma separated list of emails to send new blog posts to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SEND_EMAIL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SEND_EMAIL'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_SHOW_TITLE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show the title field</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SHOW_TITLE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SHOW_TITLE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_SHOW_URL</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show a related link box in the post composer</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SHOW_URL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SHOW_URL'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_SUBDOMAIN</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The BlogSpot subdomain under which to publish your blog</title><content type='text'>alandgraf</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SUBDOMAIN'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_SUBDOMAIN'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_TIME_STAMP_FORMAT</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the time stamp format</title><content type='text'>0</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_TIME_STAMP_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_TIME_STAMP_FORMAT'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_TIME_ZONE</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The time zone for this blog</title><content type='text'>America/New_York</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_TIME_ZONE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_TIME_ZONE'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.settings.BLOG_USE_LIGHTBOX</id><published>2010-08-29T23:04:58.262-04:00</published><updated>2013-12-27T22:31:13.804-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show images in the Lightbox when clicked</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_USE_LIGHTBOX'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/settings/BLOG_USE_LIGHTBOX'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8169657073109014882</id><published>2013-12-27T22:31:00.000-05:00</published><updated>2013-12-27T22:31:13.815-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='shiny'/><category scheme='http://www.blogger.com/atom/ns#' term='data'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Top Songs by Artist on CD102.5 in 2013</title><content type='html'>In a &lt;a href="http://alandgraf.blogspot.com/2013/08/downloading-and-analyzing-cd1025s.html"&gt;previous post&lt;/a&gt;, I showed you how to scrape playlist data from Columbus, OH alternative rock station &lt;a href="http://cd1025.com/"&gt;CD102.5&lt;/a&gt;. Since it's the end of the year and best-of lists are all the fad, I thought I would share the most popular songs and artists of the year, according to this data. In addition to this, I am going to make an interactive graph using &lt;a href="http://www.rstudio.com/shiny/"&gt;Shiny&lt;/a&gt;, where the user can select an artist and it will graph the &lt;a href="http://spark.rstudio.com/andland/CD1025Playlist/"&gt;most popular songs&lt;/a&gt; from that artist.&lt;br /&gt;&lt;br /&gt;First off, I am assuming that you have scraped the appropriate data using the code from the previous post.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;library(lubridate)&lt;br /&gt;library(sqldf)&lt;br /&gt;&lt;br /&gt;playlist=read.csv("CD101Playlist.csv",stringsAsFactors=FALSE)&lt;br /&gt;dates=mdy(substring(playlist[,3],nchar(playlist[,3])-9,nchar(playlist[,3])))&lt;br /&gt;times=hm(substring(playlist[,3],1,nchar(playlist[,3])-10))&lt;br /&gt;playlist$Month=ymd(paste(year(dates),month(dates),"1",sep="-"))&lt;br /&gt;playlist$Day=dates&lt;br /&gt;playlist$Time=times&lt;br /&gt;playlist=playlist[order(playlist$Day,playlist$Time),]&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;Next, I will select just the data from 2013 and find the songs that were played most often. &lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;playlist=subset(playlist,Day&amp;gt;=mdy("1/1/13"))&lt;br /&gt;playlist$ArtistSong=paste(playlist$Artist,playlist$Song,sep="-")&lt;br /&gt;top.songs=sqldf("Select ArtistSong, Count(ArtistSong) as Num&lt;br /&gt;      From playlist&lt;br /&gt;      Group By ArtistSong&lt;br /&gt;      Order by Num DESC&lt;br /&gt;      Limit 10")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;The top 10 songs are the following:&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;                              Artist-Song Number Plays&lt;br /&gt;1  FITZ AND THE TANTRUMS-OUT OF MY LEAGUE 809&lt;br /&gt;2                      ALT J-BREEZEBLOCKS 764&lt;br /&gt;3              COLD WAR KIDS-MIRACLE MILE 759&lt;br /&gt;4                      ATLAS GENIUS-IF SO 750&lt;br /&gt;5                         FOALS-MY NUMBER 687&lt;br /&gt;6                         MS MR-HURRICANE 679&lt;br /&gt;7       THE NEIGHBOURHOOD-SWEATER WEATHER 657&lt;br /&gt;8           CAPITAL CITIES-SAFE AND SOUND 646&lt;br /&gt;9             VAMPIRE WEEKEND-DIANE YOUNG 639&lt;br /&gt;10             THE FEATURES-THIS DISORDER 632&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;I will make a plot similar to the plots made in &lt;a href="http://alandgraf.blogspot.com/2013/08/when-did-cd1025-book-summerfest-artists.html"&gt;the last post&lt;/a&gt; to show when the top 5 songs were played throughout the year.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;    &lt;br /&gt;plays.per.day=sqldf("Select Day, Count(Artist) as Num&lt;br /&gt;      From playlist&lt;br /&gt;      Group By Day&lt;br /&gt;      Order by Day")&lt;br /&gt;&lt;br /&gt;playlist.top.songs=subset(playlist,ArtistSong %in% top.songs$ArtistSong[1:5])&lt;br /&gt;&lt;br /&gt;song.per.day=sqldf(paste0("Select Day, ArtistSong, Count(ArtistSong) as Num&lt;br /&gt;                          From [playlist.top.songs]&lt;br /&gt;                          Group By Day, ArtistSong&lt;br /&gt;                          Order by Day, ArtistSong"))&lt;br /&gt;dspd=dcast(song.per.day,Day~ArtistSong,sum,value.var="Num")&lt;br /&gt;&lt;br /&gt;song.per.day=merge(plays.per.day[,1,drop=FALSE],dspd,all.x=TRUE)&lt;br /&gt;song.per.day[is.na(song.per.day)]=0&lt;br /&gt;&lt;br /&gt;song.per.day=melt(song.per.day,1,variable.name="ArtistSong",value.name="Num")&lt;br /&gt;song.per.day$Alpha=ifelse(song.per.day$Num&amp;gt;0,1,0)&lt;br /&gt;&lt;br /&gt;library(ggplot2)&lt;br /&gt;ggplot(song.per.day,aes(Day,Num,colour=ArtistSong))+geom_point(aes(alpha=Alpha))+&lt;br /&gt;  geom_smooth(method="gam",family=poisson,formula=y~s(x),se=F,size=1)+&lt;br /&gt;  labs(x="Date",y="Plays Per Day",title="Top Songs",colour=NULL)+&lt;br /&gt;  scale_alpha_continuous(guide=FALSE,range=c(0,.5))+theme_bw()&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-JWP3RQkgQeo/Ur4-RG1px7I/AAAAAAAAH-U/JH6gP0Jk6Tc/s1600/TopSongs.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-JWP3RQkgQeo/Ur4-RG1px7I/AAAAAAAAH-U/JH6gP0Jk6Tc/s1600/TopSongs.png" /&gt;&lt;/a&gt;&lt;/div&gt;Alt-J was more popular in the beginning of the year and the Foals have been more popular recently.&lt;br /&gt;&lt;br /&gt;I can similarly summarize by artist as well.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;top.artists=sqldf("Select Artist, Count(Artist) as Num&lt;br /&gt;                From playlist&lt;br /&gt;                Group By Artist&lt;br /&gt;                Order by Num DESC&lt;br /&gt;                Limit 10")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;                    Artist  Num&lt;br /&gt;1                     MUSE 1683&lt;br /&gt;2          VAMPIRE WEEKEND 1504&lt;br /&gt;3        SILVERSUN PICKUPS 1442&lt;br /&gt;4                    FOALS 1439&lt;br /&gt;5                  PHOENIX 1434&lt;br /&gt;6            COLD WAR KIDS 1425&lt;br /&gt;7                JAKE BUGG 1316&lt;br /&gt;8  QUEENS OF THE STONE AGE 1296&lt;br /&gt;9                    ALT J 1233&lt;br /&gt;10     OF MONSTERS AND MEN 1150&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;playlist.top.artists=subset(playlist,Artist %in% top.artists$Artist[1:5])&lt;br /&gt;&lt;br /&gt;artists.per.day=sqldf(paste0("Select Day, Artist, Count(Artist) as Num&lt;br /&gt;                          From [playlist.top.artists]&lt;br /&gt;                          Group By Day, Artist&lt;br /&gt;                          Order by Day, Artist"))&lt;br /&gt;dspd=dcast(artists.per.day,Day~Artist,sum,value.var="Num")&lt;br /&gt;&lt;br /&gt;artists.per.day=merge(plays.per.day[,1,drop=FALSE],dspd,all.x=TRUE)&lt;br /&gt;artists.per.day[is.na(artists.per.day)]=0&lt;br /&gt;&lt;br /&gt;artists.per.day=melt(artists.per.day,1,variable.name="Artist",value.name="Num")&lt;br /&gt;artists.per.day$Alpha=ifelse(artists.per.day$Num&amp;gt;0,1,0)&lt;br /&gt;&lt;br /&gt;ggplot(artists.per.day,aes(Day,Num,colour=Artist))+geom_point(aes(alpha=Alpha))+&lt;br /&gt;  geom_smooth(method="gam",family=poisson,formula=y~s(x),se=F,size=1)+&lt;br /&gt;  labs(x="Date",y="Plays Per Day",title="Top Artists",colour=NULL)+&lt;br /&gt;  scale_alpha_continuous(guide=FALSE,range=c(0,.5))+theme_bw()&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-57hZwciuIug/Ur5AO9l7NWI/AAAAAAAAH-g/Xi2_4e-FwZw/s1600/TopArtist.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://2.bp.blogspot.com/-57hZwciuIug/Ur5AO9l7NWI/AAAAAAAAH-g/Xi2_4e-FwZw/s1600/TopArtist.png" /&gt;&lt;/a&gt;&lt;/div&gt;The pattern for the artists are not as clear as it is for the songs.&lt;br /&gt;&lt;br /&gt;Finally, I wrote &lt;a href="http://spark.rstudio.com/andland/CD1025Playlist/"&gt;a Shiny interactive app&lt;/a&gt;. They are surprisingly easy to create and if you are thinking about experimenting with it, I suggest you try it. I will leave the code for the app in &lt;a href="https://gist.github.com/andland/8155783"&gt;a gist&lt;/a&gt;. In &lt;a href="http://spark.rstudio.com/andland/CD1025Playlist/"&gt;the app&lt;/a&gt;, you can enter any artist you want, and it will show you the most popular songs on CD102.5 for that artist. You can also select the number of songs that it plots with the slider.&lt;br /&gt;&lt;br /&gt;For example, even though Muse did not have one of the most popular songs of the year, they were still the band that was played the most. By typing in "MUSE" in the Artist text input, you will get the &lt;a href="http://spark.rstudio.com/andland/CD1025Playlist/"&gt;following output&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-EuKnItqFzCo/Ur5CQELkw0I/AAAAAAAAH-s/Pv4dJwueLQM/s1600/Muse.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-EuKnItqFzCo/Ur5CQELkw0I/AAAAAAAAH-s/Pv4dJwueLQM/s1600/Muse.png" /&gt;&lt;/a&gt;&lt;/div&gt;They had two songs that were very popular this year and a few others that were decently popular as well.&lt;br /&gt;&lt;br /&gt;&lt;a href="http://spark.rstudio.com/andland/CD1025Playlist/"&gt;Play around&lt;/a&gt; with it and let me know what you think.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/8169657073109014882/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/12/top-songs-by-artist-on-cd1025-in-2013.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/8169657073109014882'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/8169657073109014882'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/12/top-songs-by-artist-on-cd1025-in-2013.html' title='Top Songs by Artist on CD102.5 in 2013'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/-JWP3RQkgQeo/Ur4-RG1px7I/AAAAAAAAH-U/JH6gP0Jk6Tc/s72-c/TopSongs.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4353808193704615181</id><published>2013-11-15T12:23:00.000-05:00</published><updated>2013-11-15T12:23:02.505-05:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>(Much) Faster Multidimensional Scaling</title><content type='html'></content><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/11/much-faster-multidimensional-scaling.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4353808193704615181'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4353808193704615181'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6103225679032471855</id><published>2013-11-11T14:01:00.001-05:00</published><updated>2013-11-11T14:01:49.692-05:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Can you tell a person's age by their name?</title><content type='html'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6103225679032471855'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6103225679032471855'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-3123833741203411741</id><published>2013-08-27T10:26:00.001-04:00</published><updated>2013-08-27T10:26:32.922-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='statistics'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>When Did CD102.5 Book the Summerfest Artists?</title><content type='html'>&lt;iframe frameborder="0" height="4775" scrolling="no" src="https://dl.dropboxusercontent.com/u/17648661/CD101summerfest.html" width="100%"&gt;&amp;amp;lt;p&amp;amp;gt;Loading ...&amp;amp;lt;/p&amp;amp;gt;&lt;/iframe&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/3123833741203411741/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/08/when-did-cd1025-book-summerfest-artists.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/3123833741203411741'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/3123833741203411741'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/08/when-did-cd1025-book-summerfest-artists.html' title='When Did CD102.5 Book the Summerfest Artists?'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-195777692886410878</id><published>2013-08-20T18:42:00.003-04:00</published><updated>2013-08-20T18:42:55.043-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='data'/><category scheme='http://www.blogger.com/atom/ns#' term='exploratory data analysis'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Downloading and Analyzing CD1025's Playlist</title><content type='html'>&lt;a href="http://www.cd101.com/"&gt;CD1025&lt;/a&gt; is an “alternative” radio station here in Columbus. They are one of the few remaining radio stations that are independently owned and they take great pride in it. For data nerds like me, they also put a real time list of recently played songs on &lt;a href="http://cd1025.com/about/playlists/now-playing"&gt;their website&lt;/a&gt;. The page has the most recent 50 songs played, but you can also click on “Older Tracks” to go back in time. When you do this, the URL ends “now-playing/?start=50”. If you got back again, it says “now-playing/?start=100”.&lt;br /&gt;&lt;br /&gt;Using this structure, I decided to see if I could download all of their historical data and see how far it goes back. In the code below, I use the XML package to go to the website and download the 50 songs and then increment the number by 50 to find the previous 50 songs. I am telling the code to keep doing this until I get to January 1, 2012.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;library(ggplot2)&lt;br /&gt;theme_set(theme_bw())&lt;br /&gt;library(XML)&lt;br /&gt;library(lubridate)&lt;br /&gt;library(sqldf)&lt;br /&gt;startNum = 0&lt;br /&gt;while (TRUE) {&lt;br /&gt;    theurl &amp;lt;- paste0("http://cd1025.com/about/playlists/now-playing/?start=", &lt;br /&gt;        startNum)&lt;br /&gt;    table &amp;lt;- readHTMLTable(theurl, stringsAsFactors = FALSE)[[1]]&lt;br /&gt;    if (startNum == 0) {&lt;br /&gt;        playlist = table[, -1]&lt;br /&gt;    } else {&lt;br /&gt;        playlist = rbind(playlist, table[, -1])&lt;br /&gt;    }&lt;br /&gt;    dt = mdy(substring(table[1, 4], nchar(table[1, 4]) - 9, nchar(table[1, 4])))&lt;br /&gt;    print(dt)&lt;br /&gt;    if (dt &amp;lt; mdy("1/1/12")) {&lt;br /&gt;        break&lt;br /&gt;    }&lt;br /&gt;    startNum = startNum + 50&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;playlist = unique(playlist)  # Remove Dupes&lt;br /&gt;&lt;br /&gt;write.csv(playlist, "CD101Playlist.csv", row.names = FALSE)&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;This takes a while and is fairly large. My file has over 150,000 songs. If you want just a little data, change the date to last week or so. The first thing I will do is parse the dates and times of the songs, order them, and look at the first few songs. You can see that data only goes back to March of 2012.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;dates = mdy(substring(playlist[, 3], nchar(playlist[, 3]) - 9, nchar(playlist[, &lt;br /&gt;    3])))&lt;br /&gt;times = hm(substring(playlist[, 3], 1, nchar(playlist[, 3]) - 10))&lt;br /&gt;playlist$Month = ymd(paste(year(dates), month(dates), "1", sep = "-"))&lt;br /&gt;playlist$Day = dates&lt;br /&gt;playlist$Time = times&lt;br /&gt;playlist = playlist[order(playlist$Day, playlist$Time), ]&lt;br /&gt;head(playlist)&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;##                     Artist                Song       Last.Played&lt;br /&gt;## 151638 DEATH CAB FOR CUTIE   YOU ARE A TOURIST 12:34am03/01/2012&lt;br /&gt;## 151637       SLEEPER AGENT          GET BURNED 12:38am03/01/2012&lt;br /&gt;## 151636          WASHED OUT           AMOR FATI 12:41am03/01/2012&lt;br /&gt;## 151635            COLDPLAY       CHARLIE BROWN 12:45am03/01/2012&lt;br /&gt;## 151634           GROUPLOVE         TONGUE TIED 12:49am03/01/2012&lt;br /&gt;## 151633               SUGAR YOUR FAVORITE THING 12:52am03/01/2012&lt;br /&gt;##             Month        Day   Time&lt;br /&gt;## 151638 2012-03-01 2012-03-01 34M 0S&lt;br /&gt;## 151637 2012-03-01 2012-03-01 38M 0S&lt;br /&gt;## 151636 2012-03-01 2012-03-01 41M 0S&lt;br /&gt;## 151635 2012-03-01 2012-03-01 45M 0S&lt;br /&gt;## 151634 2012-03-01 2012-03-01 49M 0S&lt;br /&gt;## 151633 2012-03-01 2012-03-01 52M 0S&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;Using the sqldf package, I can easily see what the most played artists and songs are from the data I scraped.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;sqldf("Select Artist, Count(Artist) as PlayCount&lt;br /&gt;       From playlist&lt;br /&gt;       Group By Artist&lt;br /&gt;       Order by PlayCount DESC&lt;br /&gt;       Limit 10")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;##                   Artist PlayCount&lt;br /&gt;## 1      SILVERSUN PICKUPS      2340&lt;br /&gt;## 2         THE BLACK KEYS      2203&lt;br /&gt;## 3                   MUSE      1988&lt;br /&gt;## 4              THE SHINS      1885&lt;br /&gt;## 5    OF MONSTERS AND MEN      1753&lt;br /&gt;## 6            PASSION PIT      1552&lt;br /&gt;## 7              GROUPLOVE      1544&lt;br /&gt;## 8  RED HOT CHILI PEPPERS      1514&lt;br /&gt;## 9                 METRIC      1495&lt;br /&gt;## 10          ATLAS GENIUS      1494&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class="r"&gt;&lt;br /&gt;sqldf("Select Artist, Song, Count(Song) as PlayCount&lt;br /&gt;      From playlist&lt;br /&gt;      Group By Artist, Song&lt;br /&gt;      Order by PlayCount DESC&lt;br /&gt;      Limit 10")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;##                 Artist                    Song PlayCount&lt;br /&gt;## 1          PASSION PIT             TAKE A WALK       828&lt;br /&gt;## 2    SILVERSUN PICKUPS                PIT, THE       825&lt;br /&gt;## 3         ATLAS GENIUS                 TROJANS       819&lt;br /&gt;## 4        WALK THE MOON                ANNA SUN       742&lt;br /&gt;## 5       THE BLACK KEYS LITTLE BLACK SUBMARINES       736&lt;br /&gt;## 6          DIVINE FITS  WOULD THAT NOT BE NICE       731&lt;br /&gt;## 7        THE LUMINEERS                  HO HEY       722&lt;br /&gt;## 8       CAPITAL CITIES          SAFE AND SOUND       712&lt;br /&gt;## 9  OF MONSTERS AND MEN          MOUNTAIN SOUND       711&lt;br /&gt;## 10               ALT J            BREEZEBLOCKS       691&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;I am a little surprised that Silversun Pickups are the number one band, but everyone on the list makes sense. Looking at how the plays of the top artists have varied from month to month, you can see a few patterns. Muse has been more popular recently and The Shins and Grouplove have lost some steam.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;artist.month=sqldf("Select Month, Artist, Count(Song) as Num&lt;br /&gt;      From playlist&lt;br /&gt;      Group By Month, Artist&lt;br /&gt;      Order by Month, Artist")&lt;br /&gt;artist=sqldf("Select Artist, Count(Artist) as Num&lt;br /&gt;      From playlist&lt;br /&gt;      Group By Artist&lt;br /&gt;      Order by Num DESC")&lt;br /&gt;p=ggplot(subset(artist.month,Artist %in% head(artist$Artist,8)),aes(Month,Num))&lt;br /&gt;p+geom_bar(stat="identity",aes(fill=Artist),position='fill',colour="grey")+&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class="r"&gt; labs(y="Percentage of Plays")&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-ZbWCMOMUX8E/UhPvnh1UoqI/AAAAAAAAH8I/EIAlTwFKjxg/s1600/PlayProportionByMonth.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://3.bp.blogspot.com/-ZbWCMOMUX8E/UhPvnh1UoqI/AAAAAAAAH8I/EIAlTwFKjxg/s1600/PlayProportionByMonth.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;For the play count of the top artists, I see some odd numbers in June and July of 2012. The number of plays went way down.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;p + geom_area(aes(fill = Artist), position = "stack", colour = 1) + labs(y = "Number of Plays")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/--0tLMWDJuAI/UhPvnsQAl2I/AAAAAAAAH8M/tl2RtleoH2k/s1600/PlayCountByMonth.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/--0tLMWDJuAI/UhPvnsQAl2I/AAAAAAAAH8M/tl2RtleoH2k/s1600/PlayCountByMonth.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Looking into this further, I plotted the date and time that the song was played by the cumulative number of songs played since the beginning of the list. The plot should be a line with a constant slope, meaning that the plays per day are relatively constant. You can see in June and July of 2012 there are flat spots where there is no playlist history. &lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;qplot(playlist$Day + playlist$Time, 1:length(dates), geom = "path")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-jzAKuFMa_ak/UhPvnqrS-_I/AAAAAAAAH8E/DgJDVUUNyD8/s1600/PlaysByTime.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-jzAKuFMa_ak/UhPvnqrS-_I/AAAAAAAAH8E/DgJDVUUNyD8/s1600/PlaysByTime.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;There are also smaller flat spots in September and December, but I am going to decide that those are small enough not to affect any further analyses. From this, I am going to use data only from August 2012 to present.&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;playlist = subset(playlist, Day &amp;gt;= mdy("8/1/12"))&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;Next up, I am going to use this data to analyze the plays of artists from &lt;a href="http://cd1025.com/summerfest"&gt;Summerfest&lt;/a&gt;, and try to infer if the play counts varied once they were added to the bill.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/195777692886410878/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/08/downloading-and-analyzing-cd1025s.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/195777692886410878'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/195777692886410878'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/08/downloading-and-analyzing-cd1025s.html' title='Downloading and Analyzing CD1025&apos;s Playlist'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://3.bp.blogspot.com/-ZbWCMOMUX8E/UhPvnh1UoqI/AAAAAAAAH8I/EIAlTwFKjxg/s72-c/PlayProportionByMonth.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5794704115357371500</id><published>2013-04-21T10:13:00.001-04:00</published><updated>2013-04-21T10:13:31.877-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='statistics'/><category scheme='http://www.blogger.com/atom/ns#' term='GAM'/><category scheme='http://www.blogger.com/atom/ns#' term='college basketball'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>What Is the Probability of a 16 Seed Beating a 1 Seed?</title><content type='html'>&lt;i&gt;&lt;span id="goog_1885060128"&gt;&lt;/span&gt;&lt;span id="goog_1885060129"&gt;&lt;/span&gt;Note: I started this post way back when the NCAA men's basketball tournament was going on, but didn't finish it until now. &lt;/i&gt;&lt;br /&gt;&lt;br /&gt;Since the NCAA Men's Basketball Tournament has moved to 64 teams, a 16 seed as never upset a 1 seed. You might be tempted to say that the probability of such an event must be 0 then. But we know better than that.&lt;br /&gt;&lt;br /&gt;In this post, I am interested in looking at different ways of estimating how the odds of winning a game change as the difference between seeds increases. I was able to download tournament data going back to the 1930s until 2012 from &lt;a href="http://hoopstournament.net/Database.html"&gt;hoopstournament.net/Database.html&lt;/a&gt;. The tournament expanded to 64 teams in 1985, which is what I used for this post. I only used match ups in which one of the seeds was higher than the other because this was the easiest way to remove duplicates. (The database has each game listed twice, once with the winner as the first team and once with the loser as the first team. The vast majority (98.9%) of games had one team as a higher seed because an equal seed can only happen at the Final Four or later.)&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot2"&gt;ggplot2&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt; theme_set&lt;span style="color: #009900;"&gt;(&lt;/span&gt;theme_bw&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;brackets=&lt;a href="http://inside-r.org/r-doc/utils/read.csv"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"NCAAHistory.csv"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;# use only data from 1985 on in which the first team has the higher seed&lt;/span&gt;&lt;br /&gt;brackets=&lt;a href="http://inside-r.org/r-doc/base/subset"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets&lt;span style="color: #339933;"&gt;,&lt;/span&gt;Seed&amp;lt;Opponent.Seed &amp;amp; Year&amp;gt;=&lt;span style="color: #cc66cc;"&gt;1985&lt;/span&gt; &amp;amp; &lt;a href="http://inside-r.org/r-doc/base/Round"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;Round&lt;/span&gt;&lt;/a&gt;!=&lt;span style="color: blue;"&gt;"Opening Round"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;brackets$SeedDiff=&lt;a href="http://inside-r.org/r-doc/base/abs"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;abs&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$Opponent.Seed-brackets$Seed&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;brackets$HigherSeedWon=&lt;a href="http://inside-r.org/r-doc/base/ifelse"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ifelse&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$Opponent.Seed&amp;gt;brackets$Seed&lt;span style="color: #339933;"&gt;,&lt;/span&gt;brackets$Wins&lt;span style="color: #339933;"&gt;,&lt;/span&gt;brackets$Losses&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;brackets$HigherSeedScoreDiff=&lt;a href="http://inside-r.org/r-doc/base/ifelse"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ifelse&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$Opponent.Seed&amp;gt;brackets$Seed&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;-&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;*&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$Score-brackets$Opponent.Score&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;h3&gt;Use Frequencies&lt;/h3&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;/div&gt;The first way is the most simple: look at the historical records when a 16 seed is playing a 1 seed (where the seed difference is 15). As you can see from the plot below, when the seed difference is 15, the higher seeded team has won every time. This is also true when the seed difference is 12, although there have only been 4 games in this scenario. Another oddity is that when the seed difference is 10, the higher seed only has only won 50% of the time. Again, this is largely due to the fact that there have only been 6 games with this seed difference.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;seed.diffs=&lt;a href="http://inside-r.org/r-doc/base/sort"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sort&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/unique"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;unique&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$SeedDiff&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;win.pct=&lt;a href="http://inside-r.org/r-doc/base/sapply"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sapply&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/mean"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$HigherSeedWon&lt;span style="color: #009900;"&gt;[&lt;/span&gt;brackets$SeedDiff==x&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;win.pct&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;win.pct&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;linetype=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Proportion of Games Won by Higher Seed"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-4FoTKgiyX10/UXLrF8YV2tI/AAAAAAAAHtU/jgQ3FfibzQg/s1600/Frequencies.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-4FoTKgiyX10/UXLrF8YV2tI/AAAAAAAAHtU/jgQ3FfibzQg/s1600/Frequencies.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;h3&gt;Use Score Difference&lt;/h3&gt;In many applications, it has been shown that using margin of victory is much more reliable than just wins and losses. For example, in the computer ranking of College Football teams, using score differences is more accurate, but outlawed for fear that teams would run up the score on weaker opponents. So the computer rankings are not as strong as they could be.&lt;br /&gt;&lt;br /&gt;We have no such conflict of interest, so we should try to make use of any information available. A simple way to do that is to look at the mean and standard deviation of the margin of victory when the 16 seed is playing the 1 seed. Below is a plot of the mean score difference with a ribbon for the +/- 2 standard deviations.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;seed.diffs=&lt;a href="http://inside-r.org/r-doc/base/sort"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sort&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/unique"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;unique&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$SeedDiff&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;means=&lt;a href="http://inside-r.org/r-doc/base/sapply"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sapply&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/mean"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$HigherSeedScoreDiff&lt;span style="color: #009900;"&gt;[&lt;/span&gt;brackets$SeedDiff==x&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;sds=&lt;a href="http://inside-r.org/r-doc/base/sapply"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sapply&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/stats/sd"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;brackets$HigherSeedScoreDiff&lt;span style="color: #009900;"&gt;[&lt;/span&gt;brackets$SeedDiff==x&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;means&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sds&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;means&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_ribbon&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;ymin=means-&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;*sds&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ymax=means+&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;*sds&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;alpha=&lt;span style="color: #cc66cc;"&gt;.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;linetype=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Margin of Victory by Higher Seed"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-4VaSHpRws2A/UXLrGMODjhI/AAAAAAAAHtQ/7JrGAbDYY4A/s1600/MarginOfVictory.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://3.bp.blogspot.com/-4VaSHpRws2A/UXLrGMODjhI/AAAAAAAAHtQ/7JrGAbDYY4A/s1600/MarginOfVictory.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;You can see that the ribbon includes zero for all seed differences except 15. If we assume that the score differences are roughly normal, we can calculate the probability that the score difference will be greater than 0. The results are largely the same as before, but we see now that there are no 100% estimates. Also, the 50% win percentage for a seed difference of 10 now looks a little more reasonable, albeit still out of line with the rest.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;means&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sds&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/stats/pnorm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;pnorm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;means&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sds&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;linetype=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Probability of Higher Seed Winning Based on Margin of Victory"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-0IRgSQFoL9M/UXLrF7iNsYI/AAAAAAAAHtM/G-7h8k1yLAA/s1600/ProbMarginOfVictory.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-0IRgSQFoL9M/UXLrF7iNsYI/AAAAAAAAHtM/G-7h8k1yLAA/s1600/ProbMarginOfVictory.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;h3&gt;Model Win Percentage as a Function of&amp;nbsp; Seed Difference&lt;/h3&gt;It is always good to incorporate as much knowledge as possible into an analysis. In this case, we have information on other games besides the 16 versus 1 seed game which help us estimate the 16 versus 1 game. For example, it is reasonable to assume that the larger the difference in seed is, the more likely the higher seed will win. We can build a logistic regression model which looks at all of the outcomes of all of the games and predicts the probability of winning based on the difference in seed. When the two teams have the same seed, I enforced the probability of the higher seed winning to be 0.5 by making the intercept 0.&lt;br /&gt;&lt;br /&gt;In the plot below, you can see that the logistic model predicts that the probability of winning increases throughout until reaching about 90% for the 16 versus 1. I also included a non-linear generalized additive model (GAM) model for comparison. The GAM believes that being a big favorite (16 vs 1 or 15 vs 2) gives an little boost in win probability. An advantage of modeling is that we can make predictions for match-ups that have never occurred (like a seed difference of 14). &lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=brackets&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;HigherSeedWon&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  stat_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;method=&lt;span style="color: blue;"&gt;"gam"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/family"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;family&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: blue;"&gt;"binomial"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se=F&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/formula"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;formula&lt;/span&gt;&lt;/a&gt;=y~&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;+x&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Logistic"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  stat_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;method=&lt;span style="color: blue;"&gt;"gam"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/family"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;family&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: blue;"&gt;"binomial"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se=F&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/formula"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;formula&lt;/span&gt;&lt;/a&gt;=y~&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"GAM"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_jitter&lt;span style="color: #009900;"&gt;(&lt;/span&gt;alpha=&lt;span style="color: #cc66cc;"&gt;.15&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;position = position_jitter&lt;span style="color: #009900;"&gt;(&lt;/span&gt;height = &lt;span style="color: #cc66cc;"&gt;.025&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;width=&lt;span style="color: #cc66cc;"&gt;.25&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Game Won by Higher Seed"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Model"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-QYWl4914Phc/UXLwH3ls3mI/AAAAAAAAHtY/7CMeKo0ZH5M/s1600/Model01.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://3.bp.blogspot.com/-QYWl4914Phc/UXLwH3ls3mI/AAAAAAAAHtY/7CMeKo0ZH5M/s1600/Model01.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;h3&gt;Model Score Difference as a Function of&amp;nbsp; Seed Difference&lt;/h3&gt;We can also do the same thing with margin of victory. Here, I constrain the linear model to have an intercept of 0, meaning that two teams with the same seed should be evenly matched. Again, I included the GAM fit for comparison. The interpretations are similar to before, in that it seems that there is an increase in margin of victory for the heavily favored teams.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=brackets&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;HigherSeedScoreDiff&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  stat_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;method=&lt;span style="color: blue;"&gt;"lm"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se=F&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/formula"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;formula&lt;/span&gt;&lt;/a&gt;=y~&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;+x&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Linear"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  stat_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;method=&lt;span style="color: blue;"&gt;"gam"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se=F&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/formula"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;formula&lt;/span&gt;&lt;/a&gt;=y~&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"GAM"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_jitter&lt;span style="color: #009900;"&gt;(&lt;/span&gt;alpha=&lt;span style="color: #cc66cc;"&gt;.25&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;position = position_jitter&lt;span style="color: #009900;"&gt;(&lt;/span&gt;height = &lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;width=&lt;span style="color: #cc66cc;"&gt;.25&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Margin of Victory by Higher Seed"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Model"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-ncQ9W4oFjU8/UXLyGTZLNuI/AAAAAAAAHtg/5MqlA6ZbX8c/s1600/ModelDiff.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://3.bp.blogspot.com/-ncQ9W4oFjU8/UXLyGTZLNuI/AAAAAAAAHtg/5MqlA6ZbX8c/s1600/ModelDiff.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;From these models of margin of victory we can infer the probability of the higher seed winning (again, assuming normality).&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/mgcv/gam"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;gam&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;lm.seed=&lt;a href="http://inside-r.org/r-doc/stats/lm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;lm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;HigherSeedScoreDiff~&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;+SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=brackets&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;gam.seed=&lt;a href="http://inside-r.org/r-doc/mgcv/gam"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;gam&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;HigherSeedScoreDiff~&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=brackets&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;pred.lm.seed=&lt;a href="http://inside-r.org/r-doc/stats/predict"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;predict&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;lm.seed&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;15&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se.fit=&lt;span style="color: black; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;pred.gam.seed=&lt;a href="http://inside-r.org/r-doc/stats/predict"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;predict&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;gam.seed&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;15&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se.fit=&lt;span style="color: black; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;se.lm=&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/mean"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;lm.seed$residuals^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;se.gam=&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/mean"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;gam.seed$residuals^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;df1=&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;15&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ProbLM=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/stats/pnorm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;pnorm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pred.lm.seed$fit&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;se.lm^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;+pred.lm.seed$se.fit^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;               ProbGAM=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/stats/pnorm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;pnorm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pred.gam.seed$fit&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;se.gam^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;+pred.gam.seed$se.fit^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;df1&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;linetype=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ProbLM&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Linear"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ProbGAM&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"GAM"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Probability of Higher Seed Winning"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Model"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-ZI7n4agC0J8/UXL4fH2dTzI/AAAAAAAAHts/6ia23BR7e7w/s1600/ModelDiffProbs.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://2.bp.blogspot.com/-ZI7n4agC0J8/UXL4fH2dTzI/AAAAAAAAHts/6ia23BR7e7w/s1600/ModelDiffProbs.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;h3&gt;Summary&lt;/h3&gt;Putting all of the estimates together, you can easily spot the differences between the models. The two assumptions that just used the data between specific seeds look pretty similar. It looks like using score differential is a little more reasonable of the two. The two GAMs have a similar trend and so did the&amp;nbsp; linear and logistic models. If someone asks you what the probability that a 16 seed beats a 1 seed, you have at least 6 different answers.&lt;br /&gt;&lt;br /&gt;This post highlights the many different ways someone can analyze the same data. Simply statistics talked a bit about this in a &lt;a href="http://simplystatistics.org/2013/04/19/podcast-7-reinhart-rogoff-reproducibility/"&gt;recent podcast&lt;/a&gt;. In this case, the differences are not huge, but there are noticeable changes. So the next time you read about an analysis that someone did, keep in mind all the decisions that they had to make and what type a sensitivity they would have on the results.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;logit.seed=&lt;a href="http://inside-r.org/r-doc/stats/glm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;glm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;HigherSeedWon~&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;+SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=brackets&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/family"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;family&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/stats/binomial"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;binomial&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/boot/logit"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;logit&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;logit.seed.gam=&lt;a href="http://inside-r.org/r-doc/mgcv/gam"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;gam&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;HigherSeedWon~&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=brackets&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/family"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;family&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/stats/binomial"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;binomial&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/boot/logit"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;logit&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;df2=&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;15&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;               ProbLM=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/stats/pnorm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;pnorm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pred.lm.seed$fit&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;se.lm^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;+pred.lm.seed$se.fit^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;               ProbGAM=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/stats/pnorm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;pnorm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pred.gam.seed$fit&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;se.gam^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;+pred.gam.seed$se.fit^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;               ProbLogit=&lt;a href="http://inside-r.org/r-doc/stats/predict"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;predict&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;logit.seed&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;15&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;type=&lt;span style="color: blue;"&gt;"response"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;               ProbLogitGAM=&lt;a href="http://inside-r.org/r-doc/stats/predict"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;predict&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;logit.seed.gam&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;15&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;type=&lt;span style="color: blue;"&gt;"response"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;df2=&lt;a href="http://inside-r.org/r-doc/base/merge"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;df2&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ProbFreq=win.pct&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;all.x=T&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;df2=&lt;a href="http://inside-r.org/r-doc/base/merge"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;df2&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff=seed.diffs&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ProbScore=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/stats/pnorm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;pnorm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;means&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sds&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;all.x=T&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;df2&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;SeedDiff&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;linetype=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbLM&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Linear"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbGAM&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"GAM"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbLogit&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Logistic"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbLogitGAM&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Logistic GAM"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbFreq&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Frequencies"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_line&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbScore&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Score Diff"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbFreq&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Frequencies"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;y=ProbScore&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Score Diff"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Seed Difference"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Probability of Higher Seed Winning"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Model"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;df2&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;linetype=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=SeedDiff&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=ProbFreq&lt;span style="color: #339933;"&gt;,&lt;/span&gt;colour=&lt;span style="color: blue;"&gt;"Frequencies"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-hLA30tdetII/UXL4fBT844I/AAAAAAAAHtw/hZiyPKG1o_g/s1600/AllProbs.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-hLA30tdetII/UXL4fBT844I/AAAAAAAAHtw/hZiyPKG1o_g/s1600/AllProbs.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;i&gt;Note that the GAM functions did not have a way to easily restrict the win probability be equal to exactly 0.5 when the seed difference is 0. That is why you may notice the GAM model is a bit above 0.5 at 0.&lt;/i&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/5794704115357371500/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/04/what-is-probability-of-16-seed-beating.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5794704115357371500'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5794704115357371500'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/04/what-is-probability-of-16-seed-beating.html' title='What Is the Probability of a 16 Seed Beating a 1 Seed?'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/-4FoTKgiyX10/UXLrF8YV2tI/AAAAAAAAHtU/jgQ3FfibzQg/s72-c/Frequencies.jpeg' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6410784328450084584</id><published>2013-04-18T08:00:00.000-04:00</published><updated>2013-04-19T10:11:39.684-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='firefox'/><category scheme='http://www.blogger.com/atom/ns#' term='productivity'/><title type='text'>Easily Access Academic Journals Off Campus with a Firefox Bookmark</title><content type='html'>As a grad student, I do lots of searches for research related to my own. When I am off campus, a lot of the relevant results are not open access. In that case, I have to log onto my school's library website and search for the journal or article there. It is quite a hassle. Luckily, I recently noticed that the website is predictably modified after I log into the library. I go to Ohio State University, and before and after logging in the websites will be &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;http://www.jstor.org/...&lt;/span&gt; and &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;http://www.jstor.org.proxy.lib.ohio-state.edu/...&lt;/span&gt;, for example. It doesn't matter which journal or website I am looking at. If OSU has access, it will show up with &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;.proxy.lib.ohio-state.edu&lt;/span&gt; after the .com/.org/etc. &lt;br /&gt;&lt;br /&gt;So I was able to save myself a few steps by typing that in instead of going through the library's website. I should also be sure to note that typing this in brings you to an OSU log in screen. Only those with valid access can use this shortcut, but I assume other schools have the same setup.&lt;br /&gt;&lt;br /&gt;This is still more busy work than I would like, so I searched for ways to automatically do this. &lt;a href="http://lifehacker.com/5731656/how-to-perform-nearly-any-task-from-your-browsers-address-bar"&gt;Lifehacker&lt;/a&gt; has some address bar shortcuts, but nothing that quite works. I came across a&amp;nbsp; Firefox add-on called &lt;a href="https://addons.mozilla.org/en-us/firefox/addon/url-swap/"&gt;URL Swap&lt;/a&gt; that seems like it could do the trick. However, when setting it up, I happened to find &lt;a href="http://stackoverflow.com/questions/13212976/automatically-modify-url-in-firefox"&gt;this post&lt;/a&gt; on Stack Overflow. The second answer has exactly what I am looking for, changing &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;.ExtraPart&lt;/span&gt; to &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;.proxy.lib.ohio-state.edu&lt;/span&gt;. &lt;br /&gt;&lt;br /&gt;I created a bookmark on my bookmarks toolbar with the javascript:&lt;br /&gt;&lt;blockquote class="tr_bq"&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;javascript:(function(){%20var%20curloc%20=%20window.location.toString();%20var%20newloc%20=%20curloc.substring(0,%20curloc.indexOf("/",%208))%20+%20".proxy.lib.ohio-state.edu"%20+%20curloc.substring(curloc.indexOf("/",%208));%20location.href=newloc;%20})()&lt;/span&gt;&lt;/blockquote&gt;&lt;br /&gt;and it works perfectly. This trick is so useful I wanted to share this trick to save others some time.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/6410784328450084584/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/04/easily-access-academic-journals-off.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6410784328450084584'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6410784328450084584'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/04/easily-access-academic-journals-off.html' title='Easily Access Academic Journals Off Campus with a Firefox Bookmark'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846</id><published>2013-02-24T12:19:00.000-05:00</published><updated>2013-02-24T12:19:32.702-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='data'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Copying Data from Excel to R and Back</title><content type='html'>A lot of times we are given a data set in Excel format and we want to run a quick analysis using R's functionality to look at advanced statistics or make better visualizations. There are packages for importing/exporting data from/to Excel, but I have found them to be hard to work with or only work with old versions of Excel (*.xls, not *.xlsx). So for a one time analysis, I usually save the file as a csv and import it into R.&lt;br /&gt;&lt;br /&gt;This can be a little burdensome if you are trying to do something quick and creates a file that needs to be cleaned up later. An easier option is to copy and paste the data directly into R. This can be done by using "clipboard" as the file and specifying that it is tab delimited, since that is how Excel's clipboard stores the data.&lt;br /&gt;&lt;br /&gt;For example, say you have a table in excel you want to copy into R. First, copy it in Excel.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-qPkCaCo_zWw/USpK8GLtKsI/AAAAAAAAHq0/9LrZwb05LVg/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-qPkCaCo_zWw/USpK8GLtKsI/AAAAAAAAHq0/9LrZwb05LVg/s1600/Capture.PNG" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;/div&gt;&lt;br /&gt;Then go into R and use this function.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;read.excel &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;header=&lt;span style="color: black; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;...&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;a href="http://inside-r.org/r-doc/utils/read.table"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;read.table&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"clipboard"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;"&lt;span style="color: #000099; font-weight: bold;"&gt;\t&lt;/span&gt;"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;header=header&lt;span style="color: #339933;"&gt;,&lt;/span&gt;...&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;dat=read.excel&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;This function specifies that you are reading data from the clipboard, that it is tab delimited, and that it has a header.&lt;br /&gt;&lt;br /&gt;Similarly, you can copy from R to Excel using the same logic. Here I also make &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;row.name=FALSE&lt;/span&gt; as default since I rarely have meaningful row names and they mess up the header alignment.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;write.excel &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/row.names"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;row.names&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: black; font-weight: bold;"&gt;FALSE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;col.names=&lt;span style="color: black; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;...&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;a href="http://inside-r.org/r-doc/utils/write.table"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;write.table&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"clipboard"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;"&lt;span style="color: #000099; font-weight: bold;"&gt;\t&lt;/span&gt;"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/row.names"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;row.names&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/row.names"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;row.names&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;col.names=col.names&lt;span style="color: #339933;"&gt;,&lt;/span&gt;...&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;write.excel&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;These functions can be added to you .RProfile so that they are always ready for a quick analysis!&lt;br /&gt;&lt;br /&gt;Obviously, this technique does not encourage reproducible research. It is meant to be used for quick, ad hoc analysis and plotting; not something you would use for an analysis that needs to be done on a regular basis.&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/4486538814101216846/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html#comment-form' title='11 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' title='Copying Data from Excel to R and Back'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/-qPkCaCo_zWw/USpK8GLtKsI/AAAAAAAAHq0/9LrZwb05LVg/s72-c/Capture.PNG' height='72' width='72'/><thr:total>11</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-868247152600882695</id><published>2013-01-23T00:30:00.000-05:00</published><updated>2013-01-23T00:30:03.413-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='statistics'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='Bayesian'/><category scheme='http://www.blogger.com/atom/ns#' term='optimization'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Text Decryption Using MCMC</title><content type='html'>The famous probabilist and statistician Persi Diaconis wrote an article not too long ago about the "&lt;a href="http://math.uchicago.edu/~shmuel/Network-course-readings/MCMCRev.pdf" target="_blank"&gt;Markov chain Monte Carlo (MCMC) Revolution&lt;/a&gt;." The paper describes how we are able to solve a diverse set of problems with MCMC. The first example he gives is a text decryption problem solved with a simple Metropolis Hastings sampler.&lt;br /&gt;&lt;br /&gt;I was always stumped by those &lt;a href="https://en.wikipedia.org/wiki/Cryptogram" target="_blank"&gt;cryptograms&lt;/a&gt; in the newspaper and thought it would be pretty cool if I could crack them with statistics. So I decided to try it out on my own. The example Diaconis gives is fleshed out in more details by its original authors in its own &lt;a href="http://probability.ca/jeff/ftpdir/decipherart.pdf" target="_blank"&gt;article&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;The decryption I will be attempting is called &lt;a href="https://en.wikipedia.org/wiki/Substitution_cipher" target="_blank"&gt;substitution cipher&lt;/a&gt;, where each letter of the alphabet corresponds to another letter (possibly the same one). This is the rule that you must follow for the cryptogram game too. There are 26! = 4e26 possible mappings of the letters of the alphabet to one another. This seems like a hopeless problem to solve, but I will show you that a relatively simple solution can be found as long as your reference text is large enough and the text you are trying to decipher is also large enough.&lt;br /&gt;&lt;br /&gt;The strategy is to use a reference text to create transition probabilities from each letter to the next. This can be stored in a 26 by 26 matrix, where the ith row and jth column is the probability of the jth letter, given the ith letter preceded it. For example, the given the previous letter was a Q, U almost always follows it, so the Q-row and U-column would be close to probability of 1. Assuming these one step transition probabilities are what matter, the likelihood of any mapping is the product of the transition probabilities observed.&lt;br /&gt;&lt;br /&gt;To create a transition matrix, I downloaded &lt;i&gt;War and Peace &lt;/i&gt;from &lt;a href="http://www.gutenberg.org/dirs/2/6/0/2600/2600.txt" target="_blank"&gt;Project Gutenberg&lt;/a&gt;. I looped through each letter and kept track of the number of number of times each letter followed the previous. I also kept track of a 27th character, which was anything that was not a letter -- for example periods, commas, spaces, etc. This lets me know which letters are more likely to start a word or end a word. Consecutive entries of these special characters are not considered.&lt;br /&gt;&lt;br /&gt;After I have these counts, I normalize by dividing by the row total. Before normalizing, I add 1 to each cell so that there are no probabilities of 0. This also corresponds to prior information of each transition being equally likely. I could have tried to give more informative prior information (like Q to U being likely), but it would have been difficult and probably inaccurate for the whole matrix.&lt;br /&gt;&lt;br /&gt;Below is the code for creating the transition probability matrix. Note that I loop through each line and within each line I loop through each character.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;reference=&lt;a href="http://inside-r.org/r-doc/base/readLines"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;readLines&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"warandpeace.txt"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;reference=&lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;reference&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;trans.mat=&lt;a href="http://inside-r.org/r-doc/base/matrix"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;=&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;lastletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;&lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;ln &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/length"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;reference&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;ln %% &lt;span style="color: #cc66cc;"&gt;1000&lt;/span&gt; ==&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/cat"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;cat&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"Line"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;ln&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"&lt;span style="color: #000099; font-weight: bold;"&gt;\n&lt;/span&gt;"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;pos &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/nchar"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nchar&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;reference&lt;span style="color: #009900;"&gt;[&lt;/span&gt;ln&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    curletter=&lt;a href="http://inside-r.org/r-doc/base/substring"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;substring&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;reference&lt;span style="color: #009900;"&gt;[&lt;/span&gt;ln&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pos&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pos&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;curletter %in% &lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      trans.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;                &lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==curletter&lt;span style="color: #009900;"&gt;]&lt;/span&gt;=&lt;br /&gt;        trans.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;                  &lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==curletter&lt;span style="color: #009900;"&gt;]&lt;/span&gt;+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;      lastletter=curletter&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt; &lt;span style="color: black; font-weight: bold;"&gt;else&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;lastletter!=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;        trans.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;=&lt;br /&gt;          trans.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;        lastletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  curletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;lastletter!=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    trans.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;=&lt;br /&gt;      trans.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  lastletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;trans.prob.mat=&lt;a href="http://inside-r.org/r-doc/base/sweep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sweep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rowSums"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rowSums&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;FUN=&lt;span style="color: blue;"&gt;"/"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I like to visualize my data to make sure everything looks correct. Below is a plot of the transition matrix.&amp;nbsp; The blank space corresponds to non-letter character. A lot of insights can be garnered from this plot. The Q-U relationship pops out. T is the most likely letter to start a word. E is a popular letter to follow many others. Y is likely to end a word.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;melt&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.prob.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Var2&lt;span style="color: #339933;"&gt;,&lt;/span&gt;Var1&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_tile&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fill=value&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  scale_fill_gradient&lt;span style="color: #009900;"&gt;(&lt;/span&gt;low=&lt;span style="color: blue;"&gt;"white"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;high=&lt;span style="color: blue;"&gt;"black"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;limits=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Probability of Second Letter"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: blue;"&gt;"Conditioning on First Letter"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;fill=&lt;span style="color: blue;"&gt;"Prob"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  scale_y_discrete&lt;span style="color: #009900;"&gt;(&lt;/span&gt;limits = &lt;a href="http://inside-r.org/r-doc/base/rev"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rev&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/levels"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;levels&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;melt&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.prob.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;$Var1&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  coord_equal&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-rOSjww2Z0q0/UPlrNU1mO2I/AAAAAAAAHqM/NizWxWZ8K88/s1600/trans.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-rOSjww2Z0q0/UPlrNU1mO2I/AAAAAAAAHqM/NizWxWZ8K88/s1600/trans.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;/div&gt;&lt;br /&gt;The desired solution will be the one that gives the highest likelihood. This is an &lt;a href="https://en.wikipedia.org/wiki/NP-hard" target="_blank"&gt;NP-hard&lt;/a&gt; problem so the only way to find the solution is to try all 26! combinations of mappings, which is infeasible, and report the one with the highest likelihood.&lt;br /&gt;&lt;br /&gt;With the MCMC approach you start with a random mapping of letters. Next you propose a new mapping by randomly switching 2 of the characters in the mapping. So if A mapped to G and L mapped to Z and you switched those two, A would map to Z and L would map to G. With this new mapping, you measure the likelihood and divide it by the likelihood of the previous mapping. If this ratio is greater than 1, then move to this new mapping. If the ratio is less than 1, meaning the new mapping is less likely, then move to this new mapping with a probability equal to the ratio. (Practically, this is done by drawing a random uniform number between 0 and 1 and moving to the proposed mapping if the uniform number is less than the ratio.) Repeat this process until you think you have found a solution.&lt;br /&gt;&lt;br /&gt;To do this, I first wrote a few functions. One to decode the coded text based on the mapping. The other was to calculate the log likelihood of the decoded text.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;decode &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mapping&lt;span style="color: #339933;"&gt;,&lt;/span&gt;coded&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  coded=&lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;coded&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  decoded=coded&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/nchar"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nchar&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;coded&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/substring"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;substring&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;coded&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;)&lt;/span&gt; %in% &lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;a href="http://inside-r.org/r-doc/base/substring"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;substring&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;decoded&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;)&lt;/span&gt;=&lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;mapping==&lt;a href="http://inside-r.org/r-doc/base/substring"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;substring&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;coded&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  decoded&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;log.prob &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mapping&lt;span style="color: #339933;"&gt;,&lt;/span&gt;decoded&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  logprob=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;  lastletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/nchar"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nchar&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;decoded&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    curletter=&lt;a href="http://inside-r.org/r-doc/base/substring"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;substring&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;decoded&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;curletter %in% &lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      logprob=logprob+&lt;a href="http://inside-r.org/r-doc/base/log"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.prob.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;                                         &lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==curletter&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;      lastletter=curletter&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt; &lt;span style="color: black; font-weight: bold;"&gt;else&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;lastletter!=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;        logprob=logprob+&lt;a href="http://inside-r.org/r-doc/base/log"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.prob.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;        lastletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;lastletter!=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    logprob=logprob+&lt;a href="http://inside-r.org/r-doc/base/log"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.prob.mat&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/rownames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rownames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;trans.mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;==lastletter&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;27&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    lastletter=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  logprob&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;To show how this works, I will use the same Shakespeare text that is used in the MCMC Revolution paper. I let it run until it tries out 2000 different mappings (not the same as 2000 iterations, because rejected proposals are not counted). Along the way I am keeping track of the most likely mapping visited, and that will be the final estimate. It should be noted that I am only considering the mapping of letters and it is assumed that the special characters are known. For example spaces and periods are assumed to be the same.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;correctTxt=&lt;span style="color: blue;"&gt;"ENTER HAMLET HAM TO BE OR NOT TO BE THAT IS THE QUESTION WHETHER TIS NOBLER IN THE MIND TO SUFFER THE SLINGS AND ARROWS OF OUTRAGEOUS FORTUNE OR TO TAKE ARMS AGAINST A SEA OF TROUBLES AND BY OPPOSING END"&lt;/span&gt;&lt;br /&gt;coded=decode&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/sample"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sample&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;correctTxt&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# randomly scramble the text&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;mapping=&lt;a href="http://inside-r.org/r-doc/base/sample"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sample&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/toupper"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;toupper&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: black; font-weight: bold;"&gt;letters&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# initialize a random mapping&lt;/span&gt;&lt;br /&gt;i=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;iters=&lt;span style="color: #cc66cc;"&gt;2000&lt;/span&gt;&lt;br /&gt;cur.decode=decode&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mapping&lt;span style="color: #339933;"&gt;,&lt;/span&gt;coded&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;cur.loglike=log.prob&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mapping&lt;span style="color: #339933;"&gt;,&lt;/span&gt;cur.decode&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;max.loglike=cur.loglike&lt;br /&gt;max.decode=cur.decode&lt;br /&gt;&lt;span style="color: black; font-weight: bold;"&gt;while&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i&amp;lt;=iters&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  proposal=&lt;a href="http://inside-r.org/r-doc/base/sample"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sample&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;26&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# select 2 letters to switch&lt;/span&gt;&lt;br /&gt;  prop.mapping=mapping&lt;br /&gt;  prop.mapping&lt;span style="color: #009900;"&gt;[&lt;/span&gt;proposal&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;=mapping&lt;span style="color: #009900;"&gt;[&lt;/span&gt;proposal&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;  prop.mapping&lt;span style="color: #009900;"&gt;[&lt;/span&gt;proposal&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;=mapping&lt;span style="color: #009900;"&gt;[&lt;/span&gt;proposal&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;  prop.decode=decode&lt;span style="color: #009900;"&gt;(&lt;/span&gt;prop.mapping&lt;span style="color: #339933;"&gt;,&lt;/span&gt;coded&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  prop.loglike=log.prob&lt;span style="color: #009900;"&gt;(&lt;/span&gt;prop.mapping&lt;span style="color: #339933;"&gt;,&lt;/span&gt;prop.decode&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/runif"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;runif&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&amp;lt;exp&lt;span style="color: #009900;"&gt;(&lt;/span&gt;prop.loglike-cur.loglike&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    mapping=prop.mapping&lt;br /&gt;    cur.decode=prop.decode&lt;br /&gt;    cur.loglike=prop.loglike&lt;br /&gt;&amp;nbsp;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;cur.loglike&amp;gt;max.loglike&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      max.loglike=cur.loglike&lt;br /&gt;      max.decode=cur.decode&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;    &lt;a href="http://inside-r.org/r-doc/base/cat"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;cat&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;cur.decode&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"&lt;span style="color: #000099; font-weight: bold;"&gt;\n&lt;/span&gt;"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    i=i+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The output of this example is below. You can see that it comes close but it doesn't quite find the correct mapping. I attribute this to the fact that the text I was trying to decode only had 203 characters. In the paper mentioned above, they decoded the whole play. They further say that their methods work just as well if you randomly sample a text snippet 2000 characters long. Obviously my example had well less than this. This is also a problem in trying to solve a cryptogram because those are even smaller than the Hamlet example I used. So unfortunately this simple method cannot be used for that. (Note that I ran the MCMC chain a several times, using different random starting points, until it came reasonably close to the solution. This is something that the authors also suggested doing.)&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-DABUm0zHOa4/UPmFEVqbsWI/AAAAAAAAHqc/UgIi3nx4VTk/s1600/Iters.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-DABUm0zHOa4/UPmFEVqbsWI/AAAAAAAAHqc/UgIi3nx4VTk/s1600/Iters.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;I want to also note that I originally used Alice and Wonderland as the reference text. It had more trouble decoding since this book is much smaller than War and Peace, and therefore the transition probabilities were not as good.&lt;br /&gt;&lt;br /&gt;The MCMC method is a greedy approach in that you are moving to any mapping that increases the likelihood. Greedy methods are not optimal in general because they can get stuck at local modes, especially in high dimensional problems. MCMC avoids this be moving to less likely mappings with some probability, which ensures that it will find the correct solution with enough time.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/868247152600882695/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html#comment-form' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html' title='Text Decryption Using MCMC'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591</id><published>2013-01-14T03:30:00.000-05:00</published><updated>2013-01-14T03:30:05.208-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Deep Learning'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='machine learning'/><category scheme='http://www.blogger.com/atom/ns#' term='collaborative filtering'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Restricted Boltzmann Machines in R</title><content type='html'>&lt;a href="http://en.wikipedia.org/wiki/Boltzmann_machine#Restricted_Boltzmann_machine"&gt;Restricted Boltzmann Machines&lt;/a&gt; (RBMs) are an unsupervised learning method (like principal components).  An RBM is a probabilistic and undirected graphical model. They are  becoming more popular in machine learning due to recent success in  training them with &lt;a href="http://deeplearning.net/tutorial/rbm.html#contrastive-divergence-cd-k"&gt;contrastive divergence&lt;/a&gt;. They have been proven useful in collaborative filtering, being one of the most successful methods in the Netflix challenge (&lt;a href="http://www.machinelearning.org/proceedings/icml2007/papers/407.pdf"&gt;paper&lt;/a&gt;). Furthermore, they have been tantamount to training &lt;a href="http://www.nytimes.com/2012/11/24/science/scientists-see-advances-in-deep-learning-a-part-of-artificial-intelligence.html"&gt;deep learning&lt;/a&gt; models, which appear to be the best current models for image and digit recognition.&lt;br /&gt;&lt;br /&gt;I do not want to go into too much detail, but I would like to give a high level overview of RBMs. &lt;a href="http://blog.echen.me/2011/07/18/introduction-to-restricted-boltzmann-machines/"&gt;Edwin Chen&lt;/a&gt; has an introduction that is much better. The usual version of an RBM is  a probabilistic model for binary vectors. An image can be represented  as a binary vector if each pixel that is dark enough is represented as a  1 and the non-dark pixels are 0's. In addition to the visible binary  vector, it is assumed that there is a hidden binary vector, and each  element of the hidden unit is connected to each unit of the visible unit  by symmetric weights. The weights are represented by the matrix &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-1-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-1"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 1.042em;"&gt;&lt;span style="clip: rect(1.775em, 1000em, 2.897em, -0.574em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-2"&gt;&lt;span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math; font-style: italic;"&gt;W&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.104em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 1.013em; overflow: hidden; vertical-align: -0.11em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt;, where the &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-2-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-4"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 1.944em;"&gt;&lt;span style="clip: rect(1.719em, 1000em, 3.218em, -0.604em); left: 0em; position: absolute; top: -2.806em;"&gt;&lt;span class="mrow" id="MathJax-Span-5"&gt;&lt;span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math; font-style: italic;"&gt;i&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-7" style="font-family: MathJax_Main;"&gt;,&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-8" style="padding-left: 0.167em;"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 1.186em;"&gt;&lt;span style="clip: rect(1.797em, 1000em, 3.079em, -0.637em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-9" style="font-family: MathJax_Math; font-style: italic;"&gt;j&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.417em; position: absolute; top: -2.569em;"&gt;&lt;span class="texatom" id="MathJax-Span-10"&gt;&lt;span class="mrow" id="MathJax-Span-11"&gt;&lt;span class="mi" id="MathJax-Span-12" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;t&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.806em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 1.466em; overflow: hidden; vertical-align: -0.328em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt; component is the weight between hidden unit &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-3-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-14"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 0.347em;"&gt;&lt;span style="clip: rect(1.797em, 1000em, 2.886em, -0.604em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-15"&gt;&lt;span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math; font-style: italic;"&gt;i&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 0.973em; overflow: hidden; vertical-align: -0.097em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt; and visible unit &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-4-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-17"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 0.417em;"&gt;&lt;span style="clip: rect(1.797em, 1000em, 3.079em, -0.637em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-18"&gt;&lt;span class="mi" id="MathJax-Span-19" style="font-family: MathJax_Math; font-style: italic;"&gt;j&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 1.205em; overflow: hidden; vertical-align: -0.328em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt;.  It is important that there are no connections between hidden units or  between visible units. The probability that visible unit &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-5-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-20"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 0.417em;"&gt;&lt;span style="clip: rect(1.797em, 1000em, 3.079em, -0.637em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-21"&gt;&lt;span class="mi" id="MathJax-Span-22" style="font-family: MathJax_Math; font-style: italic;"&gt;j&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 1.205em; overflow: hidden; vertical-align: -0.328em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt; is 1 is the inverse logistic function of the sum of the weights connected to visible unit &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-6-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-23"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 0.417em;"&gt;&lt;span style="clip: rect(1.797em, 1000em, 3.079em, -0.637em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-24"&gt;&lt;span class="mi" id="MathJax-Span-25" style="font-family: MathJax_Math; font-style: italic;"&gt;j&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 1.205em; overflow: hidden; vertical-align: -0.328em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt;, in which the hidden units are 1. In math notation (where &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-7-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-26"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 0.556em;"&gt;&lt;span style="clip: rect(2.027em, 1000em, 2.886em, -0.594em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-27"&gt;&lt;span class="mi" id="MathJax-Span-28" style="font-family: MathJax_Math; font-style: italic;"&gt;σ&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.001em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 0.697em; overflow: hidden; vertical-align: -0.097em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt; is the inverse logistic, or sigmoid, function):&lt;br /&gt;&lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;br /&gt;&lt;div class="MathJax_Display" role="textbox" style="text-align: center;"&gt;&lt;span class="MathJax" id="MathJax-Element-8-Frame"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-29"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 14.306em;"&gt;&lt;span style="clip: rect(1.647em, 1000em, 4.206em, -0.592em); left: 0em; position: absolute; top: -2.806em;"&gt;&lt;span class="mrow" id="MathJax-Span-30"&gt;&lt;span class="mi" id="MathJax-Span-31" style="font-family: MathJax_Math; font-style: italic;"&gt;P&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.109em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-32" style="font-family: MathJax_Math; font-style: italic;"&gt;r&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-33" style="font-family: MathJax_Main;"&gt;(&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-34"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 0.839em;"&gt;&lt;span style="clip: rect(2.015em, 1000em, 2.886em, -0.604em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-35" style="font-family: MathJax_Math; font-style: italic;"&gt;v&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.486em; position: absolute; top: -2.031em;"&gt;&lt;span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;j&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-37" style="font-family: MathJax_Main; padding-left: 0.278em;"&gt;=&lt;/span&gt;&lt;span class="mn" id="MathJax-Span-38" style="font-family: MathJax_Main; padding-left: 0.278em;"&gt;1&lt;/span&gt;&lt;span class="texatom" id="MathJax-Span-39"&gt;&lt;span class="mrow" id="MathJax-Span-40"&gt;&lt;span class="mo" id="MathJax-Span-41" style="font-family: MathJax_Main;"&gt;|&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-42" style="font-family: MathJax_Math; font-style: italic;"&gt;h&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-43" style="font-family: MathJax_Main;"&gt;,&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-44" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;"&gt;W&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.104em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-45" style="font-family: MathJax_Main;"&gt;)&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-46" style="font-family: MathJax_Main; padding-left: 0.278em;"&gt;=&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-47" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;"&gt;σ&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.001em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-48" style="font-family: MathJax_Main;"&gt;(&lt;/span&gt;&lt;span class="munderover" id="MathJax-Span-49"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 1.458em;"&gt;&lt;span style="clip: rect(2.758em, 1000em, 4.575em, -0.57em); left: 0em; position: absolute; top: -3.917em;"&gt;&lt;span class="mo" id="MathJax-Span-50" style="font-family: MathJax_Size2; vertical-align: 0em;"&gt;∑&lt;/span&gt;&lt;span style="display: inline-block; height: 3.917em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="clip: rect(1.505em, 1000em, 2.497em, -0.61em); left: 0.59em; position: absolute; top: -1.096em;"&gt;&lt;span class="mi" id="MathJax-Span-51" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;i&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-52" style="padding-left: 0.167em;"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 0.908em;"&gt;&lt;span style="clip: rect(1.764em, 1000em, 2.886em, -0.577em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-53" style="font-family: MathJax_Math; font-style: italic;"&gt;h&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.556em; position: absolute; top: -2.031em;"&gt;&lt;span class="mi" id="MathJax-Span-54" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;i&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-55"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 1.777em;"&gt;&lt;span style="clip: rect(1.775em, 1000em, 2.897em, -0.574em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-56" style="font-family: MathJax_Math; font-style: italic;"&gt;W&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.104em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.938em; position: absolute; top: -2.169em;"&gt;&lt;span class="texatom" id="MathJax-Span-57"&gt;&lt;span class="mrow" id="MathJax-Span-58"&gt;&lt;span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;i&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-60" style="font-family: MathJax_Main; font-size: 70.7%;"&gt;,&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-61" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.319em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-62" style="font-family: MathJax_Main;"&gt;)&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-63" style="font-family: MathJax_Main;"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.806em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 2.737em; overflow: hidden; vertical-align: -1.514em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;The weights are symmetric, so&lt;br /&gt;&lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;br /&gt;&lt;div class="MathJax_Display" role="textbox" style="text-align: center;"&gt;&lt;span class="MathJax" id="MathJax-Element-9-Frame"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-64"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 14.167em;"&gt;&lt;span style="clip: rect(1.647em, 1000em, 4.342em, -0.592em); left: 0em; position: absolute; top: -2.806em;"&gt;&lt;span class="mrow" id="MathJax-Span-65"&gt;&lt;span class="mi" id="MathJax-Span-66" style="font-family: MathJax_Math; font-style: italic;"&gt;P&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.109em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-67" style="font-family: MathJax_Math; font-style: italic;"&gt;r&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-68" style="font-family: MathJax_Main;"&gt;(&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-69"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 0.908em;"&gt;&lt;span style="clip: rect(1.764em, 1000em, 2.886em, -0.577em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-70" style="font-family: MathJax_Math; font-style: italic;"&gt;h&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.556em; position: absolute; top: -2.031em;"&gt;&lt;span class="mi" id="MathJax-Span-71" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;i&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-72" style="font-family: MathJax_Main; padding-left: 0.278em;"&gt;=&lt;/span&gt;&lt;span class="mn" id="MathJax-Span-73" style="font-family: MathJax_Main; padding-left: 0.278em;"&gt;1&lt;/span&gt;&lt;span class="texatom" id="MathJax-Span-74"&gt;&lt;span class="mrow" id="MathJax-Span-75"&gt;&lt;span class="mo" id="MathJax-Span-76" style="font-family: MathJax_Main;"&gt;|&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-77" style="font-family: MathJax_Math; font-style: italic;"&gt;v&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-78" style="font-family: MathJax_Main;"&gt;,&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-79" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;"&gt;W&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.104em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-80" style="font-family: MathJax_Main;"&gt;)&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-81" style="font-family: MathJax_Main; padding-left: 0.278em;"&gt;=&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-82" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;"&gt;σ&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.001em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-83" style="font-family: MathJax_Main;"&gt;(&lt;/span&gt;&lt;span class="munderover" id="MathJax-Span-84"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 1.458em;"&gt;&lt;span style="clip: rect(2.758em, 1000em, 4.575em, -0.57em); left: 0em; position: absolute; top: -3.917em;"&gt;&lt;span class="mo" id="MathJax-Span-85" style="font-family: MathJax_Size2; vertical-align: 0em;"&gt;∑&lt;/span&gt;&lt;span style="display: inline-block; height: 3.917em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="clip: rect(1.505em, 1000em, 2.633em, -0.633em); left: 0.59em; position: absolute; top: -1.096em;"&gt;&lt;span class="mi" id="MathJax-Span-86" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;j&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-87" style="padding-left: 0.167em;"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 0.839em;"&gt;&lt;span style="clip: rect(2.015em, 1000em, 2.886em, -0.604em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-88" style="font-family: MathJax_Math; font-style: italic;"&gt;v&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.486em; position: absolute; top: -2.031em;"&gt;&lt;span class="mi" id="MathJax-Span-89" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;j&lt;/span&gt;&lt;span style="display: inline-block; height: 2.181em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="msubsup" id="MathJax-Span-90"&gt;&lt;span style="display: inline-block; height: 0px; position: relative; width: 1.777em;"&gt;&lt;span style="clip: rect(1.775em, 1000em, 2.897em, -0.574em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mi" id="MathJax-Span-91" style="font-family: MathJax_Math; font-style: italic;"&gt;W&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.104em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="left: 0.938em; position: absolute; top: -2.169em;"&gt;&lt;span class="texatom" id="MathJax-Span-92"&gt;&lt;span class="mrow" id="MathJax-Span-93"&gt;&lt;span class="mi" id="MathJax-Span-94" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;i&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-95" style="font-family: MathJax_Main; font-size: 70.7%;"&gt;,&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-96" style="font-family: MathJax_Math; font-size: 70.7%; font-style: italic;"&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.319em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-97" style="font-family: MathJax_Main;"&gt;)&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-98" style="font-family: MathJax_Main;"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.806em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 2.901em; overflow: hidden; vertical-align: -1.677em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt;&lt;/div&gt;As you can see, the model is defined by its conditional probabilities. The task is to find the weight matrix &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-10-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-99"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 1.042em;"&gt;&lt;span style="clip: rect(1.775em, 1000em, 2.897em, -0.574em); left: 0em; position: absolute; top: -2.667em;"&gt;&lt;span class="mrow" id="MathJax-Span-100"&gt;&lt;span class="mi" id="MathJax-Span-101" style="font-family: MathJax_Math; font-style: italic;"&gt;W&lt;span style="display: inline-block; height: 1px; overflow: hidden; width: 0.104em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.667em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 1.013em; overflow: hidden; vertical-align: -0.11em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt; that best explains the visible data for a given number of hidden units.&lt;br /&gt;&lt;br /&gt;I have been taking Geoff Hinton's &lt;a href="https://class.coursera.org/neuralnets-2012-001/"&gt;coursera course&lt;/a&gt; on neural networks, which I would recommend to anyone interested. One  of the programming assignments was to fill in code to write an RBM in  Matlab/Octave. I have since tried to find a version for R, but have not  had any luck, so I decided to translate the code myself. Below is the  code to calculate the weight matrix. It is fairly simple and I only use  contrastive divergence 1. The input data is &lt;span class="MathJax_Preview"&gt;&lt;/span&gt;&lt;span class="MathJax" id="MathJax-Element-11-Frame" role="textbox"&gt;&lt;nobr&gt;&lt;span class="math" id="MathJax-Span-102"&gt;&lt;span style="display: inline-block; font-size: 120%; height: 0px; position: relative; width: 2.292em;"&gt;&lt;span style="clip: rect(2.106em, 1000em, 3.208em, -0.664em); left: 0em; position: absolute; top: -2.806em;"&gt;&lt;span class="mrow" id="MathJax-Span-103"&gt;&lt;span class="mi" id="MathJax-Span-104" style="font-family: MathJax_Math; font-style: italic;"&gt;p&lt;/span&gt;&lt;span class="mo" id="MathJax-Span-105" style="font-family: MathJax_Main; padding-left: 0.222em;"&gt;×&lt;/span&gt;&lt;span class="mi" id="MathJax-Span-106" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;"&gt;n&lt;/span&gt;&lt;/span&gt;&lt;span style="display: inline-block; height: 2.806em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="border-left: 0em solid; display: inline-block; height: 0.989em; overflow: hidden; vertical-align: -0.316em; width: 0px;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt; instead of the usual transpose.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;span style="color: #666666; font-style: italic;"&gt;# rbm_w is a matrix of size &amp;lt;number of hidden units&amp;gt; by &amp;lt;number of visible units&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;# visible_state is matrix of size &amp;lt;number of visible units&amp;gt; by &amp;lt;number of data cases&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;# hidden_state is a binary matrix of size &amp;lt;number of hidden units&amp;gt; by &amp;lt;number of data cases&amp;gt;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;visible_state_to_hidden_probabilities &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; visible_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;/&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;+&lt;a href="http://inside-r.org/r-doc/base/exp"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;exp&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;-rbm_w %*% visible_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;hidden_state_to_visible_probabilities &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; hidden_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;/&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;+&lt;a href="http://inside-r.org/r-doc/base/exp"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;exp&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;-&lt;a href="http://inside-r.org/r-doc/base/t"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;t&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #009900;"&gt;)&lt;/span&gt; %*% hidden_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;configuration_goodness &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; visible_state&lt;span style="color: #339933;"&gt;,&lt;/span&gt; hidden_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  out=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/dim"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;dim&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    out=out+&lt;a href="http://inside-r.org/r-doc/base/t"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;t&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;hidden_state&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; %*% rbm_w %*% visible_state&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  out/dim&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;configuration_goodness_gradient &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_state&lt;span style="color: #339933;"&gt;,&lt;/span&gt; hidden_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  hidden_state %*% &lt;a href="http://inside-r.org/r-doc/base/t"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;t&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;/dim&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;sample_bernoulli &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  dims=&lt;a href="http://inside-r.org/r-doc/base/dim"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;dim&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  &lt;a href="http://inside-r.org/r-doc/base/matrix"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/rbinom"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rbinom&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/prod"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;prod&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dims&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/prob"&gt;prob&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mat&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;dims&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;dims&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;cd1 &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; visible_data&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  visible_data = sample_bernoulli&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_data&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  H0=sample_bernoulli&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_state_to_hidden_probabilities&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; visible_data&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  vh0=configuration_goodness_gradient&lt;span style="color: #009900;"&gt;(&lt;/span&gt;visible_data&lt;span style="color: #339933;"&gt;,&lt;/span&gt; H0&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  V1=sample_bernoulli&lt;span style="color: #009900;"&gt;(&lt;/span&gt;hidden_state_to_visible_probabilities&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; H0&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  H1=visible_state_to_hidden_probabilities&lt;span style="color: #009900;"&gt;(&lt;/span&gt;rbm_w&lt;span style="color: #339933;"&gt;,&lt;/span&gt; V1&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  vh1=configuration_goodness_gradient&lt;span style="color: #009900;"&gt;(&lt;/span&gt;V1&lt;span style="color: #339933;"&gt;,&lt;/span&gt; H1&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  vh0-vh1&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;rbm &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;num_hidden&lt;span style="color: #339933;"&gt;,&lt;/span&gt; training_data&lt;span style="color: #339933;"&gt;,&lt;/span&gt; learning_rate&lt;span style="color: #339933;"&gt;,&lt;/span&gt; n_iterations&lt;span style="color: #339933;"&gt;,&lt;/span&gt; mini_batch_size=&lt;span style="color: #cc66cc;"&gt;100&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; momentum=&lt;span style="color: #cc66cc;"&gt;0.9&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; quiet=&lt;span style="color: black; font-weight: bold;"&gt;FALSE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;#   This trains a model that's defined by a single matrix of weights.&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;#   &amp;lt;num_hidden&amp;gt; is the number of hidden units&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;#   cd1 is a function that takes parameters &amp;lt;model&amp;gt; and &amp;lt;data&amp;gt; and returns the gradient (or approximate gradient in the case of CD-1) of the function that we're maximizing. Note the contrast with the loss function that we saw in PA3, which we were minimizing. The returned gradient is an array of the same shape as the provided &amp;lt;model&amp;gt; parameter.&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;#   This uses mini-batches no weight decay and no early stopping.&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;#   This returns the matrix of weights of the trained model.&lt;/span&gt;&lt;br /&gt;  n=&lt;a href="http://inside-r.org/r-doc/base/dim"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;dim&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;training_data&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;  p=&lt;a href="http://inside-r.org/r-doc/base/dim"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;dim&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;training_data&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;n %% mini_batch_size != &lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;a href="http://inside-r.org/r-doc/base/stop"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;stop&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"the number of test cases must be divisable by the mini_batch_size"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  model = &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/matrix"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/runif"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;runif&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;num_hidden*p&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;num_hidden&lt;span style="color: #339933;"&gt;,&lt;/span&gt;p&lt;span style="color: #009900;"&gt;)&lt;/span&gt; * &lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt; - &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; * &lt;span style="color: #cc66cc;"&gt;0.1&lt;/span&gt;&lt;br /&gt;  momentum_speed = &lt;a href="http://inside-r.org/r-doc/base/matrix"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;num_hidden&lt;span style="color: #339933;"&gt;,&lt;/span&gt;p&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;  start_of_next_mini_batch = &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;iteration_number &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:n_iterations&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;!quiet&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/cat"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;cat&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"Iter"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;iteration_number&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"&lt;span style="color: #000099; font-weight: bold;"&gt;\n&lt;/span&gt;"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;    mini_batch = training_data&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; start_of_next_mini_batch:&lt;span style="color: #009900;"&gt;(&lt;/span&gt;start_of_next_mini_batch + mini_batch_size - &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;    start_of_next_mini_batch = &lt;span style="color: #009900;"&gt;(&lt;/span&gt;start_of_next_mini_batch + mini_batch_size&lt;span style="color: #009900;"&gt;)&lt;/span&gt; %% n&lt;br /&gt;    gradient = cd1&lt;span style="color: #009900;"&gt;(&lt;/span&gt;model&lt;span style="color: #339933;"&gt;,&lt;/span&gt; mini_batch&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    momentum_speed = momentum * momentum_speed + gradient&lt;br /&gt;    model = model + momentum_speed * learning_rate&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;a href="http://inside-r.org/r-doc/base/return"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;return&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;model&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;I loaded the hand written digit data that was given in the class. To train the RBM, use the syntax below.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/stats/weights"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;weights&lt;/span&gt;&lt;/a&gt;=rbm&lt;span style="color: #009900;"&gt;(&lt;/span&gt;num_hidden=&lt;span style="color: #cc66cc;"&gt;30&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; training_data=train&lt;span style="color: #339933;"&gt;,&lt;/span&gt; learning_rate=&lt;span style="color: #cc66cc;"&gt;.09&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; n_iterations=&lt;span style="color: #cc66cc;"&gt;5000&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;            mini_batch_size=&lt;span style="color: #cc66cc;"&gt;100&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; momentum=&lt;span style="color: #cc66cc;"&gt;0.9&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;After training the weights, I can visualize them. Below is a plot of  strength of the weights going to each pixel. Each facet displays the  weights going to/coming from one of the hidden units. I trained 30 units  so that it would be easy to show them all on one plot. You can see that  most of the hidden units correspond strongly to one digit or another. I  think this means it is finding the joint structure of all of the pixels  and that pixels representing those numbers are darkened together often.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot2"&gt;ggplot2&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;reshape2&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;mw=melt&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/weights"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;weights&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt; mw$Var3=&lt;a href="http://inside-r.org/r-doc/base/floor"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;floor&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mw$Var2-&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;/&lt;span style="color: #cc66cc;"&gt;16&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt; mw$Var2=&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mw$Var2-&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;%%16 + &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt; mw$Var3=&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;-mw$Var3&lt;span style="color: #339933;"&gt;;&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=mw&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_tile&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Var2&lt;span style="color: #339933;"&gt;,&lt;/span&gt;Var3&lt;span style="color: #339933;"&gt;,&lt;/span&gt;fill=value&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+facet_wrap&lt;span style="color: #009900;"&gt;(&lt;/span&gt;~Var1&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/nrow"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nrow&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #cc66cc;"&gt;5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  scale_fill_continuous&lt;span style="color: #009900;"&gt;(&lt;/span&gt;low=&lt;span style="color: blue;"&gt;'white'&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;high=&lt;span style="color: blue;"&gt;'black'&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+coord_equal&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x=&lt;span style="color: black; font-weight: bold;"&gt;NULL&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: black; font-weight: bold;"&gt;NULL&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/graphics/title"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: blue;"&gt;"Visualization of Weights"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  theme&lt;span style="color: #009900;"&gt;(&lt;/span&gt;legend.position=&lt;span style="color: blue;"&gt;"none"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-ZSuYvhPTiI4/UPAlFt8sYJI/AAAAAAAAHpo/DcATXHnKMPU/s1600/unnamed-chunk-4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-ZSuYvhPTiI4/UPAlFt8sYJI/AAAAAAAAHpo/DcATXHnKMPU/s1600/unnamed-chunk-4.png" /&gt;&lt;/a&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/5218793146762245591/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html#comment-form' title='9 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' title='Restricted Boltzmann Machines in R'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/-ZSuYvhPTiI4/UPAlFt8sYJI/AAAAAAAAHpo/DcATXHnKMPU/s72-c/unnamed-chunk-4.png' height='72' width='72'/><thr:total>9</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-774467731251872201</id><published>2013-01-09T11:32:00.000-05:00</published><updated>2013-01-09T11:32:09.227-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='statistics'/><category scheme='http://www.blogger.com/atom/ns#' term='Hall of Fame'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='baseball'/><category scheme='http://www.blogger.com/atom/ns#' term='Factor Analysis'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Factor Analysis of Baseball's Hall of Fame Voters</title><content type='html'>&lt;!-- saved from url=(0014)about:internet --&gt;&lt;html&gt;&lt;head&gt;  &lt;title&gt;Factor Analysis of Baseball's Hall of Fame Voters&lt;/title&gt; &lt;style type="text/css"&gt;body, td {    font-family: sans-serif;    background-color: white;    font-size: 12px;    margin: 8px; }  tt, code, pre {    font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace; }  h1 {     font-size:2.2em;  }  h2 {     font-size:1.8em;  }  h3 {     font-size:1.4em;  }  h4 {     font-size:1.0em;  }  h5 {     font-size:0.9em;  }  h6 {     font-size:0.8em;  }  a:visited {    color: rgb(50%, 0%, 50%); }  pre {     margin-top: 0;    max-width: 95%;    border: 1px solid #ccc;    white-space: pre-wrap; }  pre code {    display: block; padding: 0.5em; }  code.r, code.cpp {    background-color: #F8F8F8; }  table, td, th {   border: none; }  blockquote {    color:#666666;    margin:0;    padding-left: 1em;    border-left: 0.5em #EEE solid; }  hr {    height: 0px;    border-bottom: none;    border-top-width: thin;    border-top-style: dotted;    border-top-color: #999999; }  @media print {    * {        background: transparent !important;        color: black !important;        filter:none !important;        -ms-filter: none !important;     }     body {        font-size:12pt;        max-width:100%;     }            a, a:visited {        text-decoration: underline;     }     hr {        visibility: hidden;       page-break-before: always;    }     pre, blockquote {        padding-right: 1em;        page-break-inside: avoid;     }     tr, img {        page-break-inside: avoid;     }     img {        max-width: 100% !important;     }     @page :left {        margin: 15mm 20mm 15mm 10mm;     }          @page :right {        margin: 15mm 10mm 15mm 20mm;     }     p, h2, h3 {        orphans: 3; widows: 3;     }     h2, h3 {        page-break-after: avoid;     } }  &lt;/style&gt; &lt;style type="text/css"&gt;   pre .operator,    pre .paren {      color: rgb(104, 118, 135)    }     pre .literal {      color: rgb(88, 72, 246)    }     pre .number {      color: rgb(0, 0, 205);    }     pre .comment {      color: rgb(76, 136, 107);    }     pre .keyword {      color: rgb(0, 0, 255);    }     pre .identifier {      color: rgb(0, 0, 0);    }     pre .string {      color: rgb(3, 106, 7);    } &lt;/style&gt; &lt;script type="text/javascript"&gt;var hljs=new function(){function m(p){return p.replace(/&amp;/gm,"&amp;amp;").replace(/&lt;/gm,"&amp;lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p&lt;r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&amp;&amp;q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r&lt;t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q&lt;r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r&lt;s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&amp;&amp;w.length){if(y[0].offset!=w[0].offset){return(y[0].offset&lt;w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="&lt;"+D.nodeName.toLowerCase();for(var B=0;B&lt;D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&amp;&amp;C.value!==false&amp;&amp;C.value!==null){A+='="'+m(C.value)+'"'}}return A+"&gt;"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("&lt;/"+p.nodeName.toLowerCase()+"&gt;")}while(p!=v.node);s.splice(r,1);while(r&lt;s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&amp;&amp;!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t&lt;x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L&lt;M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&amp;&amp;D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&amp;&amp;L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L&lt;N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&amp;&amp;M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='&lt;span class="'+N[0]+'"&gt;'+M[0]+"&lt;/span&gt;"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&amp;&amp;e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'&lt;span class="'+M.cN+'"&gt;':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"&lt;/span&gt;":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L&gt;1){O=D[D.length-2].cN?"&lt;/span&gt;":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length&gt;1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r&gt;r.keyword_count+r.r){r=s}if(s.keyword_count+s.r&gt;p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((&lt;[^&gt;]+&gt;|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"&lt;br&gt;")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&amp;&amp;t.tagName=="CODE"&amp;&amp;t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="&lt;pre&gt;&lt;code&gt;"+y.value+"&lt;/code&gt;&lt;/pre&gt;";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p&lt;r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&amp;|&amp;&amp;|&amp;=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|&lt;|&lt;&lt;|&lt;&lt;=|&lt;=|=|==|===|&gt;|&gt;=|&gt;&gt;|&gt;&gt;=|&gt;&gt;&gt;|&gt;&gt;&gt;=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"&lt;/",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*&lt;",e:"&gt;",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"&lt;\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\-&gt;|&lt;\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:"&gt;=|&lt;=|==|!=|\\|\\||&amp;&amp;|=|\\+|\\-|\\*|/|\\^|&gt;|&lt;|!|&amp;|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}}; hljs.initHighlightingOnLoad(); &lt;/script&gt;        &lt;br /&gt;Recently, Nate Silver wrote &lt;a href="http://fivethirtyeight.blogs.nytimes.com/2013/01/08/suspicion-of-steroid-use-could-keep-bagwell-and-piazza-out-of-hall/"&gt;a post&lt;/a&gt; which analyzed how voters who voted for and against Barry Bonds for Baseball's Hall of Fame differed. Not surprisingly, those who voted for Bonds were more likely to vote for other suspected steroids users (like Roger Clemens). This got me thinking that this would make an interesting case study for factor analysis to see if there are latent factors that drive hall of fame voting.&lt;br /&gt;&lt;br /&gt;The Twitter user @leokitty has kept track of all the known ballots of the voters in a &lt;a href="https://docs.google.com/spreadsheet/ccc?key=0Aqc4QTMoPrdtdDQxaDYzd1lLOGpOdUdrcnNNNWNXa2c&amp;amp;authkey=CPyuwqIJ&amp;amp;authkey=CPyuwqIJ#gid=6"&gt;spreadsheet&lt;/a&gt;. The spreadsheet is a matrix that has one row for each voter and one column for each player being voted upon. (Players need 75% of the vote to make it to the hall of fame.) I removed all players that had no votes and all voters that had given a partial ballot.&lt;br /&gt;&lt;br /&gt;(This matrix either has a 1 or a 0 in each entry, corresponding to whether a voter voted for the player or not. Note that this kind of matrix is similar to the data that is analyzed in information retrieval. I will be decomposing the (centered) matrix using singular value decomposition to run the factor analysis. This is the same technique used for latent semantic indexing in information retrieval.)&lt;br /&gt;&lt;br /&gt;Starting with the analysis, there is a drop off of the variance  after the first 2 factors, which means it might make sense to look only at the first 2 (which is good because I was only planning on doing so).&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;votes = read.csv("HOF votes.csv", row.names = 1, header = TRUE)&lt;br /&gt;pca = princomp(votes)&lt;br /&gt;screeplot(pca, type = "l", main = "Scree Plot")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-hLkeU-zL-Ak/UO2Yd0B5z4I/AAAAAAAAHo4/dH27nksEiHM/s1600/unnamed-chunk-2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-hLkeU-zL-Ak/UO2Yd0B5z4I/AAAAAAAAHo4/dH27nksEiHM/s1600/unnamed-chunk-2.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Looking at the loadings, it appears that the first principal component corresponds strongly to steroid users, which Bonds and Clemens having large negative values and other suspected steroid users being on the negative end. The players on the positive end have no steroid suspicions.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;dotchart(sort(pca$loadings[, 1]), main = "First Principal Component")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-K6MEN_9PcHs/UO2Yd69LeeI/AAAAAAAAHok/Lcb2apHZdC0/s1600/unnamed-chunk-3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-K6MEN_9PcHs/UO2Yd69LeeI/AAAAAAAAHok/Lcb2apHZdC0/s1600/unnamed-chunk-3.png" /&gt;&lt;/a&gt;&lt;/div&gt;The second component isn't as easy to decipher. The players at the negative end seem to players that are preferred by analytically minded analysts (think Moneyball). Raines, Trammell, and Martinez have more support among this group of voters. Morris, however, has less support among these voters and he isn't that far separated from them.&lt;br /&gt;&lt;br /&gt;There also may be some secondary steroid association in the component as well separating players who have proof of steroid use versus those which have no proof but “look like” they took steroids. For example, there is no hard evidence that Bagwell or Piazza took steroids, but they were very muscular and hit a lot of home runs, so they are believed to have taken steroids. There is some sort of evidence the top five players of this component did take steroids.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;dotchart(sort(pca$loadings[, 2]), main = "Second Principal Component")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-mKFEcj6ISQU/UO2Yd7ZFDQI/AAAAAAAAHoo/ZBwJgKbcLI4/s1600/unnamed-chunk-4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-mKFEcj6ISQU/UO2Yd7ZFDQI/AAAAAAAAHoo/ZBwJgKbcLI4/s1600/unnamed-chunk-4.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Projecting the votes onto two dimensions, we can look at how the voters for Bonds and Clemens split up. You can see there is a strong horizontal split between the voters for and against Bonds/Clemens. There are also 3 voters that voted for Bonds, but not Clemens.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;ggplot(data.frame(cbind(pca$scores[, 1:2], votes))) + geom_point(aes(Comp.1, &lt;br /&gt;    Comp.2, colour = as.factor(Barry.Bonds), shape = as.factor(Roger.Clemens)), &lt;br /&gt;    size = 4) + coord_equal() + labs(colour = "Bonds", shape = "Clemens")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-nQoFe3Gnk4c/UO2YeZBYwkI/AAAAAAAAHos/KftZv63_S6E/s1600/unnamed-chunk-5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-nQoFe3Gnk4c/UO2YeZBYwkI/AAAAAAAAHos/KftZv63_S6E/s1600/unnamed-chunk-5.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Similarly, I can look at how the voters split up on the issue of steroids by looking at both Bonds and Bagwell. The voters in the upper left do not care about steroid use, but believe that Bagwell wasn't good enough to make it to the hall of fame. The voters in the lower right do care about steroid use, but believe that Bagwell was innocent of any wrongdoing.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;ggplot(data.frame(cbind(pca$scores[, 1:2], votes))) + geom_point(aes(Comp.1, &lt;br /&gt;    Comp.2, colour = as.factor(paste(Roger.Clemens, "/", Jeff.Bagwell))), size = 4) + &lt;br /&gt;    geom_hline(aes(0), size = 0.2) + geom_vline(aes(0), size = 0.2) + coord_equal() + &lt;br /&gt;    labs(colour = "Bonds / Bagwell")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-k4AoH_kJlyc/UO2YfOqnS0I/AAAAAAAAHow/mETFQ33dXVI/s1600/unnamed-chunk-6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-k4AoH_kJlyc/UO2YfOqnS0I/AAAAAAAAHow/mETFQ33dXVI/s1600/unnamed-chunk-6.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;We can also look at a similar plot with Schilling instead of Bagwell. The separation here appears to be stronger.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;ggplot(data.frame(cbind(pca$scores[, 1:2], votes))) + geom_point(aes(Comp.1, &lt;br /&gt;    Comp.2, colour = as.factor(paste(Barry.Bonds, "/", Curt.Schilling))), size = 4) + &lt;br /&gt;    geom_hline(aes(0), size = 0.2) + geom_vline(aes(0), size = 0.2) + coord_equal() + &lt;br /&gt;    labs(colour = "Bonds / Schilling")&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-aSA3fUNxSGY/UO2YftHu8HI/AAAAAAAAHo0/e2Itd9TkE60/s1600/unnamed-chunk-7.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-aSA3fUNxSGY/UO2YftHu8HI/AAAAAAAAHo0/e2Itd9TkE60/s1600/unnamed-chunk-7.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Finally, we can look at a biplot (using code from &lt;a href="http://stackoverflow.com/questions/6578355/plotting-pca-biplot-with-ggplot2"&gt;here&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code class="r"&gt;PCbiplot &amp;lt;- function(PC = fit, x = "PC1", y = "PC2") {&lt;br /&gt;    # PC being a prcomp object&lt;br /&gt;    library(grid)&lt;br /&gt;    data &amp;lt;- data.frame(obsnames = row.names(PC$x), PC$x)&lt;br /&gt;    plot &amp;lt;- ggplot(data, aes_string(x = x, y = y)) + geom_text(alpha = 0.4, &lt;br /&gt;        size = 3, aes(label = obsnames))&lt;br /&gt;    plot &amp;lt;- plot + geom_hline(aes(0), size = 0.2) + geom_vline(aes(0), size = 0.2)&lt;br /&gt;    datapc &amp;lt;- data.frame(varnames = rownames(PC$rotation), PC$rotation)&lt;br /&gt;    mult &amp;lt;- min((max(data[, y]) - min(data[, y])/(max(datapc[, y]) - min(datapc[, &lt;br /&gt;        y]))), (max(data[, x]) - min(data[, x])/(max(datapc[, x]) - min(datapc[, &lt;br /&gt;        x]))))&lt;br /&gt;    datapc &amp;lt;- transform(datapc, v1 = 0.7 * mult * (get(x)), v2 = 0.7 * mult * &lt;br /&gt;        (get(y)))&lt;br /&gt;    plot &amp;lt;- plot + coord_equal() + geom_text(data = datapc, aes(x = v1, y = v2, &lt;br /&gt;        label = varnames), size = 5, vjust = 1, color = "red")&lt;br /&gt;    plot &amp;lt;- plot + geom_segment(data = datapc, aes(x = 0, y = 0, xend = v1, &lt;br /&gt;        yend = v2), arrow = arrow(length = unit(0.2, "cm")), alpha = 0.75, color = "red")&lt;br /&gt;    plot&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;fit &amp;lt;- prcomp(votes, scale = F)&lt;br /&gt;PCbiplot(fit)&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-MPuCAW6v_zw/UO2YgMRas1I/AAAAAAAAHpA/pHzLYPdb0k4/s1600/unnamed-chunk-8.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/-MPuCAW6v_zw/UO2YgMRas1I/AAAAAAAAHpA/pHzLYPdb0k4/s1600/unnamed-chunk-8.png" /&gt;&lt;/a&gt;&lt;/div&gt;I could have also attempted to rotate the factors to make them more interpretable, but they appeared to have easy interpretation as is. Since we were looking at 2-d plots, rotation would not have made a difference in interpreting the plots. It is also common to use a likelihood approach to estimate factors. I chose to use the principal component method because the data are definitely not normal (being 0's and 1's).&lt;/head&gt;&lt;/html&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/774467731251872201/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2013/01/factor-analysis-of-baseballs-hall-of.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/774467731251872201'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/774467731251872201'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/factor-analysis-of-baseballs-hall-of.html' title='Factor Analysis of Baseball&apos;s Hall of Fame Voters'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/-hLkeU-zL-Ak/UO2Yd0B5z4I/AAAAAAAAHo4/dH27nksEiHM/s72-c/unnamed-chunk-2.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8435700917450999634</id><published>2012-11-05T20:38:00.003-05:00</published><updated>2012-11-05T20:40:39.939-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Election'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='Polls'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Quick Post About Getting and Plotting Polls in R</title><content type='html'>With the election nearly upon us, I wanted to share an easy way I just found to download polling data and graph a few with ggplot2. &lt;a href="https://github.com/dlinzer/pollstR/"&gt;dlinzer &lt;/a&gt;at github created a function to download poll data from the &lt;a href="http://elections.huffingtonpost.com/pollster/api"&gt;Huffington Post's Pollster API&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;The default is to download national tracking polls from the presidential election. After sourcing the function, I load the required packages, download the data, and make the plot.&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/XML"&gt;XML&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/reshape"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;reshape&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot2"&gt;ggplot2&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt; theme_set&lt;span style="color: #009900;"&gt;(&lt;/span&gt;theme_bw&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;dat &amp;lt;- pollstR&lt;span style="color: #009900;"&gt;(&lt;/span&gt;pages=&lt;span style="color: #cc66cc;"&gt;20&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;end.date&lt;span style="color: #339933;"&gt;,&lt;/span&gt;Obama/&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Obama+Romney&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;alpha=&lt;span style="color: #cc66cc;"&gt;.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;weight=&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;N&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;lty=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/graphics/title"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: blue;"&gt;"Proportion of Vote for Obama"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Last Date of Poll"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: black; font-weight: bold;"&gt;NULL&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s1600/PollsPlot1.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="512" src="http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s1600/PollsPlot1.jpeg" style="cursor: move;" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;I have used transparency so that you can see when there are many polls on top of each other. You can see that Obama's lead decreased substantially after the first debate but has crawled back up since then. Of course, I am treating all polls as equal (although I am weighting by sample size) when the truth is that some polls are better than others and some are biased.&lt;br /&gt;&lt;br /&gt;To have some more fun, I will show what some of the data from swing states look like. The code below loops through the swing states and downloads the polls. Then it plots the polls for each state in different facets.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s1600/PollsPlot1.jpeg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;/a&gt;&lt;a href="http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s1600/PollsPlot1.jpeg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;/a&gt;swing.states=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"ohio"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"florida"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"virginia"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"colorado"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"nevada"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"north-carolina"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt; &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; swing.states&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;a href="http://inside-r.org/r-doc/base/print"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;print&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  dat.state &amp;lt;- pollstR&lt;span style="color: #009900;"&gt;(&lt;/span&gt;chart=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"2012-"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"-president-romney-vs-obama"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;pages=&lt;span style="color: blue;"&gt;"all"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  dat.state=&lt;a href="http://inside-r.org/r-doc/base/subset"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat.state&lt;span style="color: #339933;"&gt;,&lt;/span&gt;select=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"id"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"pollster"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"start.date"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"end.date"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"method"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"N"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"Obama"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"Romney"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  dat.state$State=&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/mgcv/s"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;s&lt;/span&gt;&lt;/a&gt;==&lt;span style="color: blue;"&gt;"ohio"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    dat=dat.state&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt; &lt;span style="color: black; font-weight: bold;"&gt;else&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    dat=&lt;a href="http://inside-r.org/r-doc/base/rbind"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rbind&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat&lt;span style="color: #339933;"&gt;,&lt;/span&gt;dat.state&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;lubridate&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;dat$end.date=ymd&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/as.character"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.character&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat$end.date&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;end.date&lt;span style="color: #339933;"&gt;,&lt;/span&gt;Obama/&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Obama+Romney&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_point&lt;span style="color: #009900;"&gt;(&lt;/span&gt;alpha=&lt;span style="color: #cc66cc;"&gt;.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;weight=&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;N&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;lty=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/graphics/title"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: blue;"&gt;"Proportion of Vote for Obama"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Last Date of Poll"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: black; font-weight: bold;"&gt;NULL&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+facet_wrap&lt;span style="color: #009900;"&gt;(&lt;/span&gt;~State&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+xlim&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mdy&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"8/1/2012"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;mdy&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"11/6/2012"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-FwY5UtHzB-4/UJhkl-qrDgI/AAAAAAAAHXM/LzcRBLshLRM/s1600/PollsPlot2.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="512" src="http://2.bp.blogspot.com/-FwY5UtHzB-4/UJhkl-qrDgI/AAAAAAAAHXM/LzcRBLshLRM/s1600/PollsPlot2.jpeg" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;Unfortunately the x-axis didn't show up very well, but it starts at August 1. There have been quite a few polls in Ohio and Florida, haven't there? The state polls did not have nearly the same shift that the national poll did in reaction to the first debate. The state with the largest bump is Colorado, where the debate was held.&lt;br /&gt;&lt;a href="http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s1600/PollsPlot1.jpeg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;/a&gt;&lt;a href="http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s1600/PollsPlot1.jpeg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;/a&gt;&lt;br /&gt;By just looking at the tracking polls, I think you would make the same conclusions that &lt;a href="http://fivethirtyeight.blogs.nytimes.com/"&gt;Nate Silver&lt;/a&gt; has with his fancy model. Ohio, Virginia, Nevada, and Colorado favor Obama. North Carolina favors Romney and Florida just barely tips toward Romney as well.&lt;br /&gt;&lt;br /&gt;Finally, here are just the smoothed running means, all on one plot. You can see that There was also a first debate effect in Ohio.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;dat&lt;span style="color: #339933;"&gt;,&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;end.date&lt;span style="color: #339933;"&gt;,&lt;/span&gt;Obama/&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Obama+Romney&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_smooth&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;colour=State&lt;span style="color: #339933;"&gt;,&lt;/span&gt;weight=&lt;a href="http://inside-r.org/r-doc/base/sqrt"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;N&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se=&lt;span style="color: black; font-weight: bold;"&gt;FALSE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+geom_hline&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;yintercept=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;lty=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;size=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+&lt;br /&gt;  labs&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/graphics/title"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: blue;"&gt;"Proportion of Vote for Obama"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;x=&lt;span style="color: blue;"&gt;"Last Date of Poll"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;y=&lt;span style="color: black; font-weight: bold;"&gt;NULL&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;+xlim&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mdy&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"8/1/2012"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;mdy&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"11/6/2012"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-nN9GHK_W6Zs/UJhpDsnKArI/AAAAAAAAHXc/RBVNGzoM7tQ/s1600/PollsPlot3.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://3.bp.blogspot.com/-nN9GHK_W6Zs/UJhpDsnKArI/AAAAAAAAHXc/RBVNGzoM7tQ/s1600/PollsPlot3.jpeg" height="347" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/8435700917450999634/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html#comment-form' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/8435700917450999634'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/8435700917450999634'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html' title='Quick Post About Getting and Plotting Polls in R'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/-KXjQJ7sJ0eI/UJhfahhVZCI/AAAAAAAAHW8/nRxJVgXK5Fs/s72-c/PollsPlot1.jpeg' height='72' width='72'/><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-55907730613093548</id><published>2012-08-24T14:36:00.000-04:00</published><updated>2012-08-24T14:36:14.512-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='GAM'/><category scheme='http://www.blogger.com/atom/ns#' term='ggplot'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='optimization'/><category scheme='http://www.blogger.com/atom/ns#' term='tabu search'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Finding the Best Subset of a GAM using Tabu Search and Visualizing It in R</title><content type='html'>Finding the best subset of variables for a regression is a very common task in statistics and machine learning. There are statistical methods based on asymptotic normal theory that can help you decide whether to add or remove a variable at a time. The problem with this is that it is a greedy approach and you can easily get stuck in a local mode. Another approach is to look at all possible subsets of the variables and see which one maximizes an objective function (accuracy on a test set, for example).&lt;br /&gt;&lt;br /&gt;Heuristics are required if the number of variables, &lt;i&gt;p&lt;/i&gt;, gets large (&amp;gt;40) because the number of possible subsets is equal to 2^&lt;i&gt;p&lt;/i&gt;, excluding interactions. One method that works well is called &lt;a href="http://en.wikipedia.org/wiki/Tabu_search"&gt;tabu search&lt;/a&gt; (TS). It is a more general optimization method, but in the case of finding the best subset, it is similar to stepwise methods. At any point, it will try to improve the objective function the most by adding or removing one variable. One difference is that TS will not add or remove variables that have been recently added or removed. This avoids the optimization from getting stuck at a local maximum. There are more details to the algorithm that you can read up on if you would like.&lt;br /&gt;&lt;br /&gt;There is a &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;tabuSearch&lt;span style="font-family: Arial,Helvetica,sans-serif;"&gt; &lt;/span&gt;&lt;/span&gt;package in &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;R&lt;/span&gt; that implements this algorithm. I wanted to find a best subset regression using generalized additive models (GAMs) of the package &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;mgcv&lt;/span&gt;. An issue arose, because you need to specify which terms are smooth and which are not in a formula to use &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;mgcv&lt;/span&gt;. The general form of the formula looks like:&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;gam(y ~ s(x1) + s(x2) + x3, data=train)&lt;/span&gt;&lt;br /&gt;where &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;x1&lt;/span&gt; and &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;x2&lt;/span&gt; are smooth terms and &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;x3&lt;/span&gt; is treated like it is in a linear model.&lt;br /&gt;&lt;br /&gt;My data set has a combination of continuous variables, which I want to treat as smooth, and categorical variables, which I want to treat as factors. For each variable in the subset, I need to identify whether it is a factor or not, and then creating a string of the variable with or without &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;s()&lt;/span&gt;. &lt;br /&gt;&lt;br /&gt;For example, &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;th&lt;/span&gt; is a vector of 0's and 1's which indicate whether each variable (column) is in the regression. I used the housing data set from &lt;a href="http://archive.ics.uci.edu/ml/datasets/Housing"&gt;UCI ML repository&lt;/a&gt;. With 13 explanatory variables, there are 8192 possible main effects models. I am predicting MEDV, so I start the formula string with "MEDV ~". Then I loop through each element of &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;th&lt;/span&gt;. If it is 1 then I want to add it to the formula. I check if it is a factor and if so I just add the name of the variable plus a "+". If it is continuous, I add the column name with "&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;s()&lt;/span&gt;" around it. Finally I convert the string to a formula using &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;formula()&lt;/span&gt;. I can plug in this formula into the &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;gam&lt;/span&gt; function. &lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;num.cols=&lt;a href="http://inside-r.org/r-doc/base/sum"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sum&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;fo.str=&lt;span style="color: blue;"&gt;"MEDV ~"&lt;/span&gt;&lt;br /&gt;cum.cols=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;br /&gt;&lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/length"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&amp;gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/is.factor"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;is.factor&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      fo.str=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;" "&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt; &lt;span style="color: black; font-weight: bold;"&gt;else&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      fo.str=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;" s("&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;")"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;    cum.cols=cum.cols+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;cum.cols&amp;lt;num.cols&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      fo.str=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"+"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;fo=&lt;a href="http://inside-r.org/r-doc/stats/as.formula"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.formula&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;For evaluating the subsets, I split the data into training, validation, and testing. I trained the subset on the training data set and measured the R-squared on the prediction of the validation set. The full code can be found below.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/mgcv/mgcv"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mgcv&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabuSearch&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;# http://archive.ics.uci.edu/ml/datasets/Housing&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/utils/read.table"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;read.table&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"http://archive.ics.uci.edu/ml/machine-learning-databases/housing/housing.data"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"CRIM"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"ZN"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"INDUS"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"CHAS"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"NOX"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"RM"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"AGE"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"DIS"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"RAD"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"TAX"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"PTRATIO"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"B"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"LSTAT"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: blue;"&gt;"MEDV"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;$CHAS=&lt;a href="http://inside-r.org/r-doc/base/as.factor"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.factor&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;$CHAS&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;$RAD=&lt;a href="http://inside-r.org/r-doc/base/as.factor"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.factor&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;$RAD&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# Changed to factor bc only 9 unique values&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/summary"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;summary&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/set.seed"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;set.seed&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;20120823&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;cv=&lt;a href="http://inside-r.org/r-doc/base/sample"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sample&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/nrow"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nrow&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;train=&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;cv&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;300&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;valid=&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;cv&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;301&lt;/span&gt;:&lt;span style="color: #cc66cc;"&gt;400&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;test=&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;cv&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;401&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/nrow"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nrow&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/MASS/housing"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;housing&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;ssto=&lt;a href="http://inside-r.org/r-doc/base/sum"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sum&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;valid$MEDV-&lt;a href="http://inside-r.org/r-doc/base/mean"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;valid$MEDV&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;evaluate &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;{&lt;/span&gt; &lt;br /&gt;  num.cols=&lt;a href="http://inside-r.org/r-doc/base/sum"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sum&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;num.cols == &lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/return"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;return&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  fo.str=&lt;span style="color: blue;"&gt;"MEDV ~"&lt;/span&gt;&lt;br /&gt;  cum.cols=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: black; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: black; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/length"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;th&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&amp;gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/is.factor"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;is.factor&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;        fo.str=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;" "&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: #009900;"&gt;}&lt;/span&gt; &lt;span style="color: black; font-weight: bold;"&gt;else&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;        fo.str=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;" s("&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;")"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;sep=&lt;span style="color: blue;"&gt;""&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;      cum.cols=cum.cols+&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: black; font-weight: bold;"&gt;if&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;cum.cols&amp;lt;num.cols&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;&lt;br /&gt;        fo.str=&lt;a href="http://inside-r.org/r-doc/base/paste"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"+"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;      &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;  &lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #666666; font-style: italic;"&gt;#   colnames(train)[c(th,0)==1]&lt;/span&gt;&lt;br /&gt;  fo=&lt;a href="http://inside-r.org/r-doc/stats/as.formula"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.formula&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo.str&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  gam1 &amp;lt;- &lt;a href="http://inside-r.org/r-doc/mgcv/gam"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;gam&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fo&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  pred1 &amp;lt;- &lt;a href="http://inside-r.org/r-doc/stats/predict"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;predict&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;gam1&lt;span style="color: #339933;"&gt;,&lt;/span&gt;valid&lt;span style="color: #339933;"&gt;,&lt;/span&gt;se=&lt;span style="color: black; font-weight: bold;"&gt;FALSE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  sse &amp;lt;- &lt;a href="http://inside-r.org/r-doc/base/sum"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sum&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;pred1-valid$MEDV&lt;span style="color: #009900;"&gt;)&lt;/span&gt;^&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;na.rm=&lt;span style="color: black; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;  &lt;a href="http://inside-r.org/r-doc/base/return"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;return&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;-sse/ssto&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;res &amp;lt;- tabuSearch&lt;span style="color: #009900;"&gt;(&lt;/span&gt;size = &lt;a href="http://inside-r.org/r-doc/base/ncol"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ncol&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;-&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; iters = &lt;span style="color: #cc66cc;"&gt;20&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; objFunc = evaluate&lt;span style="color: #339933;"&gt;,&lt;/span&gt; listSize = &lt;span style="color: #cc66cc;"&gt;5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;br /&gt;                  config = &lt;a href="http://inside-r.org/r-doc/stats/rbinom"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rbinom&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/ncol"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ncol&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;-&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;.5&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; nRestarts = &lt;span style="color: #cc66cc;"&gt;4&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;verbose=&lt;span style="color: black; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;It was able to find a subset with a 0.8678 R-squared on the validation set (and 0.8349 on the test set). The formula found was:&lt;br /&gt;&lt;span class="Apple-style-span" style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: #e1e2e5; border-collapse: separate; color: black; font-family: 'Lucida Console'; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 15px; orphans: 2; text-align: -webkit-left; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px;"&gt;&lt;/span&gt;&lt;br /&gt;&lt;pre class="GDXA2EVBEAB" style="border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; font-family: 'Lucida Console'; font-size: 10pt !important; line-height: 1.2; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: none; outline-width: initial; white-space: pre-wrap !important;" tabindex="0"&gt;MEDV ~ s(CRIM) + s(INDUS) + s(NOX) + s(RM) + s(DIS) + RAD + s(TAX) + s(PTRATIO) + s(LSTAT).&lt;/pre&gt;&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Visualizing the results&lt;/h3&gt;The tabu search gave me a subset which it thinks is best. But I would like to get a better handle on how it derived it, or if there were lots of models with similar quality, but different variables. Or if there were variables that were always in the top performing models. I created a heat plot that showed whether or not a variable was in the regression or not at each iteration.&lt;br /&gt;&lt;br /&gt;Below you can see which variables were included in each iteration. There are a few variables that seem to be more important because they are included in almost every iteration, like LSAT, PTRATIO,and RM. But this doesn't tell me which iterations were the best.&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-h7QkQGRQv7c/UDZm5Lfp40I/AAAAAAAAHKY/EDABwfjZ5R8/s1600/tabu1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-h7QkQGRQv7c/UDZm5Lfp40I/AAAAAAAAHKY/EDABwfjZ5R8/s1600/tabu1.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;In the chart below, I shaded each region by the ranking of model in that iteration. The higher ranking mean it did better. It is not easy, but we can glean a little more information from this chart. The models with RAD and DIS do significantly better than the models without them, even though they are not in every iteration. Further, the models with AGE seem a bit worse than those without it.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-TJKQO3ItVkQ/UDZm5o2REyI/AAAAAAAAHKg/UqqyqZ6EELs/s1600/tabu2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://2.bp.blogspot.com/-TJKQO3ItVkQ/UDZm5o2REyI/AAAAAAAAHKg/UqqyqZ6EELs/s1600/tabu2.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;The R code to make these plots is below.&lt;br /&gt;&lt;br /&gt;&lt;div style="overflow: auto;"&gt;&lt;div class="geshifilter"&gt;&lt;pre class="r geshifilter-R" style="font-family: monospace;"&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/stats/reshape"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;reshape&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/library"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/ggplot2"&gt;ggplot2&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt; theme_set&lt;span style="color: #009900;"&gt;(&lt;/span&gt;theme_bw&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;tabu.df=&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;res$configKeep&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.df&lt;span style="color: #009900;"&gt;)&lt;/span&gt;=&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/ncol"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ncol&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;train&lt;span style="color: #009900;"&gt;)&lt;/span&gt;-&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;br /&gt;tabu.df$Iteration=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;:&lt;a href="http://inside-r.org/r-doc/base/nrow"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;nrow&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.df&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;tabu.df$RSquared=res$eUtilityKeep&lt;br /&gt;tabu.df$Rank=&lt;a href="http://inside-r.org/r-doc/base/rank"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rank&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.df$RSquared&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;tabu.melt=melt&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.df&lt;span style="color: #339933;"&gt;,&lt;/span&gt;id=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: blue;"&gt;"Iteration"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"RSquared"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: blue;"&gt;"Rank"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;tabu.melt$RSquared=&lt;a href="http://inside-r.org/r-doc/base/ifelse"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ifelse&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.melt$value==&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;tabu.melt$RSquared&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;tabu.melt$Rank=&lt;a href="http://inside-r.org/r-doc/base/ifelse"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ifelse&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.melt$value==&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;tabu.melt$Rank&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;pHeat01 &amp;lt;- &lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.melt&lt;span style="color: #339933;"&gt;,&lt;/span&gt; aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Iteration&lt;span style="color: #339933;"&gt;,&lt;/span&gt;variable&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; + geom_tile&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fill = value&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; +&lt;br /&gt;  scale_fill_gradient&lt;span style="color: #009900;"&gt;(&lt;/span&gt;low = &lt;span style="color: blue;"&gt;"white"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; high = &lt;span style="color: blue;"&gt;"steelblue"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;guide=&lt;span style="color: black; font-weight: bold;"&gt;FALSE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;pHeatRank &amp;lt;- &lt;a href="http://inside-r.org/packages/cran/ggplot"&gt;ggplot&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;tabu.melt&lt;span style="color: #339933;"&gt;,&lt;/span&gt; aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;Iteration&lt;span style="color: #339933;"&gt;,&lt;/span&gt;variable&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; + geom_tile&lt;span style="color: #009900;"&gt;(&lt;/span&gt;aes&lt;span style="color: #009900;"&gt;(&lt;/span&gt;fill = Rank&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; +&lt;br /&gt;  scale_fill_gradient&lt;span style="color: #009900;"&gt;(&lt;/span&gt;low = &lt;span style="color: blue;"&gt;"white"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; high = &lt;span style="color: blue;"&gt;"steelblue"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org"&gt;Created by Pretty R at inside-R.org&lt;/a&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/55907730613093548/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html#comment-form' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html' title='Finding the Best Subset of a GAM using Tabu Search and Visualizing It in R'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/-h7QkQGRQv7c/UDZm5Lfp40I/AAAAAAAAHKY/EDABwfjZ5R8/s72-c/tabu1.png' height='72' width='72'/><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-2016937083551675933</id><published>2012-08-10T11:40:00.003-04:00</published><updated>2012-08-22T14:55:47.387-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='libFM'/><category scheme='http://www.blogger.com/atom/ns#' term='baseball'/><category scheme='http://www.blogger.com/atom/ns#' term='collaborative filtering'/><category scheme='http://www.blogger.com/atom/ns#' term='Matrix Factorization'/><title type='text'>A Matrix Factorization Model for Hitter/Pitcher Matchups</title><content type='html'>&lt;h3&gt;Introduction &lt;/h3&gt;Matrix factorization has been proven to be one of the best ways to do collaborative filtering. The most common example of collaborative filtering is to predict how much a viewer will like a movie. The power of matrix factorization was a key development of the Netflix Prize (see &lt;a href="http://www2.research.att.com/%7Evolinsky/papers/ieeecomputer.pdf"&gt;http://www2.research.att.com/~volinsky/papers/ieeecomputer.pdf&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;Using the movie rating example, the idea is that there are some underlying features of the movie and underlying attributes of the user that interact to determine if the user will like the movie. So if the user typically likes comedies, and the movie is a comedy, these will interact and the user will like the movie. The best part is that in order to determine these features, we do not need to use any background information on the movie or the user. For example, we don't need someone to manually code whether each movie is a comedy or not. Matrix factorization just needs a set of historical ratings, which is usually easily available.&lt;br /&gt;&lt;br /&gt;Using only a few features, we could probably interpret what each of them mean (comedy, drama, foreign, blockbuster, ...). They found in the Netflix competition that increasing the number of underlying features that make up a user and a movie almost always improved accuracy (they used up to 1500 features). With that many features, they can no longer be interpreted as in the example.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Baseball Data&lt;/h3&gt;I find this method interesting, and I wanted to apply it to some real data. One idea I had is predicting whether the result of a pitcher-batter match-up in baseball. Usually in baseball, the analysts cry "small sample size" if someone reports that a pitcher is particularly good/bad versus a batter. In order to get an accurate assessment that does not suffer from random variation, we need 100 or more at bats, which usually takes a few years at least.&lt;br /&gt;&lt;br /&gt;It seems that matrix factorization might be a natural fit, because we are not predicting the specific interaction of the batter/pitcher. Instead, we are estimating some underlying features of the batter and the pitcher. We can estimate these features from all of the match-ups that the batter and pitcher have been in -- not just the ones against each other.&lt;br /&gt;&lt;br /&gt;One example of a feature that I hoped to extract is batter and pitcher handedness. It is well known that batters fair poorly against pitchers of the same handedness and do better against pitchers of the opposite handedness. Other examples might relate to whether the pitcher can throw fast and how well the batter does against fast pitches; similarly with breaking balls, etc.&lt;br /&gt;&lt;br /&gt;In the Netflix competition, each user rates movies on a 1 to 5 star scale, and rates the movie only once. The outcome of a match-up is different as there is no obvious "rating" of the outcome. I used improvement in expected number of runs scored of the outcome of a plate appearance as the "rating" to be predicted (from &lt;a href="http://www.tangotiger.net/RE9902event.html"&gt;here&lt;/a&gt;). So a single is worth 0.474 runs and an out is worth -0.299 runs. Also, in baseball, there will be many match-ups between the batter and pitcher. I could have averaged the outcomes, but I left the multiple records in the data as is.&lt;br /&gt;&lt;br /&gt;I used 2010 data and removed all pitchers that were hitting and batters that were pitching. According to my data, there were 65,128 unique batter-pitcher match-ups (with about 173,000 plate appearances). I used 5,000 match-ups as validation, 5,000 as testing, and the remaining as training.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Model Fitting&lt;/h3&gt;The first model I used as a baseline just included "biases" for the batter and pitcher, as well as an overall league average bias. In the baseline, there are no factors or interactions. So the result of the match-up between a batter i and pitcher j would be estimated as the overall average bias plus the batter i bias plus the pitcher j bias. In math terms:&lt;br /&gt;&lt;br /&gt;&lt;a href="http://www.codecogs.com/eqnedit.php?latex=%5Cdpi%7B120%7D%20%5Cmu@plus;b_i@plus;p_j" target="_blank"&gt;&lt;img src="http://latex.codecogs.com/png.latex?%5Cdpi%7B120%7D%20%5Cmu+b_i+p_j" title="\dpi{120} \mu+b_i+p_j" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Higher values for the batter bias mean the batter is better better than average and lower values for the pitcher bias means the pitcher is better than average.&lt;br /&gt;&lt;br /&gt;So as to not overfit the data, I used L2 regularization on the batter and pitcher biases. For this and future estimation, I used the validation data to determine the best penalty and I used a gradient descent method to solve for the parameters.&lt;br /&gt;&lt;br /&gt;Adding in the factor interaction, the result of the match-up between a batter i and pitcher j is&lt;br /&gt;&lt;br /&gt;&lt;a href="http://www.codecogs.com/eqnedit.php?latex=%5Cdpi%7B120%7D%20%5Cmu@plus;b_i@plus;p_j%20@plus;%20%5Cboldsymbol%7Bo%7D_i%5ET%20%5Cboldsymbol%7Bd%7D_j" target="_blank"&gt;&lt;img src="http://latex.codecogs.com/png.latex?%5Cdpi%7B120%7D%20%5Cmu+b_i+p_j%20+%20%5Cboldsymbol%7Bo%7D_i%5ET%20%5Cboldsymbol%7Bd%7D_j" title="\dpi{120} \mu+b_i+p_j + \boldsymbol{o}_i^T \boldsymbol{d}_j" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;where &lt;a href="http://www.codecogs.com/eqnedit.php?latex=%5Cdpi%7B120%7D%20%5Cboldsymbol%7Bo%7D_i" target="_blank"&gt;&lt;img src="http://latex.codecogs.com/png.latex?%5Cdpi%7B120%7D%20%5Cboldsymbol%7Bo%7D_i" title="\dpi{120} \boldsymbol{o}_i" /&gt;&lt;/a&gt; is a vector of offensive features for batter i and &lt;a href="http://www.codecogs.com/eqnedit.php?latex=%5Cdpi%7B120%7D%20%5Cboldsymbol%7Bd%7D_j" target="_blank"&gt;&lt;img src="http://latex.codecogs.com/png.latex?%5Cdpi%7B120%7D%20%5Cboldsymbol%7Bd%7D_j" title="\dpi{120} \boldsymbol{d}_j" /&gt;&lt;/a&gt; is a set of defensive features for pitcher j. The two vectors must be of the same length which we can determine. Again, I used L2 regularization on the feature vectors.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Results&lt;/h3&gt;I fit the matrix factorization model using 0, 1, 2, 5, and 10 features. The model with 0 features corresponds to the baseline model. As stated above, I was hoping to see that handedness would show up as one of the first features.&lt;br /&gt;&lt;br /&gt;I fit the models with the training set, tuned the regularization parameters with the validation set, and finally I am comparing the models with the test set. Unfortunately, the baseline model performed the best of all and the performance degraded as more features were added. A plot of the test mean squared errors is below. The difference between the models is small, but I believe that is because the regularization parameter is shrinking the factor vectors to 0.&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-8doS-OZmBzs/UCUmUQWdo_I/AAAAAAAAHKA/CmE1rs9YYOc/s1600/MatFactTestMSE.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-8doS-OZmBzs/UCUmUQWdo_I/AAAAAAAAHKA/CmE1rs9YYOc/s1600/MatFactTestMSE.png" /&gt;&lt;/a&gt;&lt;/div&gt;A further baseline model could have been used -- an overall mean with no biases. The MSE for all but the 10-factor  model were better than this average. So the biases help, but unfortunately the factorization did not.&lt;br /&gt;&lt;br /&gt;I compared the factor vectors of the pitchers by their handedness and I found no difference between righties and lefties.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Summary&lt;/h3&gt;The outcome of this analysis was not what I hoped for, but I still learned something about matrix factorization and its implementation. I think the moral of the story is that it is hard to predict batter-pitcher match-ups, probably because there is a lot of variation in every at bat. Matrix factorization has been successfully applied in situations where the data is much more sparse than this application, so this difference may be a reason for its failure. I plan to try this again with the &lt;a href="http://www.libfm.org/"&gt;libFM&lt;/a&gt; software to see if I get the same results.&lt;br /&gt;&lt;br /&gt;&lt;i&gt;&lt;b&gt;Update:&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;I implemented this in libFM and basically got the same results, so I guess I was doing it correctly. If I work on this further, I wonder if adding attributes about the pitcher explicitly would help. I would include an indicator for righty/lefty or maybe home/away.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/2016937083551675933/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/08/a-matrix-factorization-model-for.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/2016937083551675933'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/2016937083551675933'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/a-matrix-factorization-model-for.html' title='A Matrix Factorization Model for Hitter/Pitcher Matchups'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/-8doS-OZmBzs/UCUmUQWdo_I/AAAAAAAAHKA/CmE1rs9YYOc/s72-c/MatFactTestMSE.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4918950607887721736</id><published>2012-07-20T13:47:00.000-04:00</published><updated>2012-07-20T13:47:14.728-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='data'/><category scheme='http://www.blogger.com/atom/ns#' term='MATLAB'/><title type='text'>The Magical Sparse Matrix</title><content type='html'>I have been toying around with Kaggle's &lt;a href="http://www.kaggle.com/c/msdchallenge/"&gt;Million Song Dataset Challenge&lt;/a&gt; recently because I have some interest in &lt;a href="http://en.wikipedia.org/wiki/Collaborative_filtering"&gt;collaborative filtering&lt;/a&gt; (using &lt;a href="http://www2.research.att.com/%7Evolinsky/papers/ieeecomputer.pdf" target="_blank"&gt;matrix factorization&lt;/a&gt;). I haven't made much progress with the competition (all 3 of my submissions are below the baseline), but I have learned a few things about dealing with large amounts of data.&lt;br /&gt;&lt;br /&gt;The goal of the competition is to predict the 500 most likely songs each of 110,000 users will listen to next. As the name implies, there are 1,000,000 songs in the full dataset. To simplify things, I decided to concentrate on the most popular songs. I created a 110,000 x 2,000 matrix of 0's and 1's. Row i, column j is 1 if user i had listened to song j (the jth most popular song) and 0 if user i had not. As you can imagine, there are a lot more 0's than 1's in this matrix. The first few rows and columns look like this:&lt;br /&gt;&lt;br /&gt;&lt;div style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;span style="font-size: small;"&gt;0 0 1 0 0 0 1 0 0 1 0 0 1 0 0 0 0 0 0 0 0 0 ...&lt;/span&gt;&lt;/div&gt;&lt;div style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;span style="font-size: small;"&gt;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ...&lt;/span&gt;&lt;/div&gt;&lt;div style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;span style="font-size: small;"&gt;1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ...&lt;/span&gt;&lt;/div&gt;&lt;div style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;span style="font-size: small;"&gt;...&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;This matrix was about 430 Mb and took a while to load into MATLAB. So I wisened up and created a &lt;a href="http://en.wikipedia.org/wiki/Sparse_matrix"&gt;sparse matrix&lt;/a&gt;. A sparse matrix realizes that most of the values are 0's and does not record them. Instead, it lists the locations of the non-zero elements and what the value is. For example, this is what the first few rows of the sparse matrix looks like:&lt;br /&gt;&lt;br /&gt;&lt;div style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;span style="font-size: small;"&gt;1 3 1&lt;br /&gt;1 7 1&lt;br /&gt;1 10 1&lt;br /&gt;1 13 1&lt;br /&gt;1 82 1&lt;br /&gt;1 717 1&lt;br /&gt;2 1111 1&lt;br /&gt;2 2972 1&lt;br /&gt;2 3516 1&lt;/span&gt;&lt;/div&gt;&lt;div style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;span style="font-size: small;"&gt;...&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;The first column is the row number, the second is the column number, and the third is the value at that location. In this application, all the values are 1. For this matrix, I used the 50,000 most popular songs (instead of just 2,000), and the size was much smaller -- just 17 Mb.&lt;br /&gt;&lt;br /&gt;It is easy to load the sparse matrix into MATLAB with the &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;spconvert&lt;/span&gt; command, and many of MATLAB's functions (like singular value decomposition) are optimized for sparse matrices.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/4918950607887721736/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/07/the-magical-sparse-matrix.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4918950607887721736'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4918950607887721736'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/the-magical-sparse-matrix.html' title='The Magical Sparse Matrix'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215</id><published>2012-07-19T09:50:00.000-04:00</published><updated>2012-07-19T09:50:31.904-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='statistics'/><category scheme='http://www.blogger.com/atom/ns#' term='Random forest'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Random Forest Variable Importance</title><content type='html'>&lt;a href="http://en.wikipedia.org/wiki/Random_forest"&gt;Random&lt;/a&gt; &lt;a href="http://www.stat.berkeley.edu/%7Ebreiman/RandomForests/"&gt;forests&lt;/a&gt; ™ are great. They are one of the best "black-box" supervised learning methods. If you have lots of data and lots of predictor variables, you can do worse than random forests. They can deal with messy, real data. If there are lots of extraneous predictors, it has no problem. It automatically does a good job of finding interactions as well. There are no assumptions that the response has a linear (or even smooth) relationship with the predictors.&lt;br /&gt;&lt;br /&gt;As cited in the Wikipedia article, they do lack some interpretability. But what they lack in interpretation, they more than make up for in prediction power, which I believe is much more important than interpretation in most cases. Even though you cannot easily tell how one variable affects the prediction, you can easily create a &lt;i&gt;partial dependence plot&lt;/i&gt; which shows how the response will change as you change the predictor. You can also do this for two variables at once to see the interaction of the two.&lt;br /&gt;&lt;br /&gt;Also helping in the interpretation is that they can output a list of predictor variables that they believe to be important in predicting the outcome. If nothing else, you can subset the data to only include the most "important" variables, and use that with another model. The randomForest package in R has two measures of importance. &lt;a href="http://rss.acs.unt.edu/Rdoc/library/randomForest/html/importance.html"&gt;One &lt;/a&gt;is "total decrease in node impurities from splitting on the variable, averaged over all trees." I do not know much about this one, and will not talk about it further. The other is based on a &lt;a href="http://en.wikipedia.org/wiki/Resampling_%28statistics%29#Permutation_tests"&gt;permutation test&lt;/a&gt;. The idea is that if the variable is not important (the null hypothesis), then rearranging the values of that variable will not degrade prediction accuracy. Random forests use out-of-bag (OOB) samples to measure prediction accuracy.&lt;br /&gt;&lt;br /&gt;In my experience, it does a pretty good job of finding the most important predictors, but it has issues with correlated predictors. For example, I was working on a problem where I was predicting the price that electricity trades. One feature that I knew would be very important was the amount of electricity being used at that same time. But I thought there might also be a relationship between price and the electricity being used a few hours before and after. When I ran the random forest with these variables, the electricity used 1 hour after was found to be more important than the electricity used at the same time. When including the 1 hour after electricity use instead of the current hour electricity use, the cross validation (CV) error increased. Using both did not significantly change the CV error compared to using just current hour. Because the electricity used at the current hour and the hour after are very correlated, it had trouble telling which one was more important. In truth, given the electricity use at the current hour, the electricity use at the hour after did not improve the predictive accuracy.&lt;br /&gt;&lt;br /&gt;Why does the importance measure give more weight correlated predictors? &lt;a href="http://www.biomedcentral.com/1471-2105/9/307/"&gt;Strobl et al.&lt;/a&gt; give some intuition behind what is happening and propose a solution. Basically, the permutation test is ill-posed. The permutation test is testing that the variable is independent of the response as well as all other predictors. Since the correlated predictors are obviously not independent, we get high importance scores. They propose a permutation test where you condition on the correlated predictors. This is a little tricky when the correlated predictors are continuous, but you can read the paper for more details.&lt;br /&gt;&lt;br /&gt;Another way to think of it is that, since each split only considers a subset of the possible variables, a variable that is correlated with an "important" variable may be considered without the "important" variable. This would cause the correlated variable to be selected for the split. The correlated value does hold some predictive value, but only because of the truly important variable, so it is understandable why this procedure would consider it important.&lt;br /&gt;&lt;br /&gt;I ran a simulation experiment (similar to the one in the paper) to demonstrate the issue. I simulated 5 predictor variables. Only the first one is related to the response, but the second one has a correlation of about 0.7 with the first one. Luckily, Strobl et al. included their version of importance in the package &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;party&lt;/span&gt; in &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;R&lt;/span&gt;. I compare variable importance from the &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;randomForest &lt;/span&gt;package and the importance with and without taking correlated predictors into account from the &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;party&lt;span style="font-family: inherit;"&gt; &lt;/span&gt;&lt;/span&gt;&lt;span style="font-family: inherit;"&gt;pac&lt;/span&gt;kage.&lt;br /&gt;&lt;br /&gt;&lt;pre class="brush: r"&gt;# simulate the data&lt;br /&gt;x1=rnorm(1000)&lt;br /&gt;x2=rnorm(1000,x1,1)&lt;br /&gt;y=2*x1+rnorm(1000,0,.5)&lt;br /&gt;df=data.frame(y,x1,x2,x3=rnorm(1000),x4=rnorm(1000),x5=rnorm(1000))&lt;br /&gt;&lt;br /&gt;# run the randomForest implementation&lt;br /&gt;library(randomForest)&lt;br /&gt;rf1 &amp;lt;- randomForest(y~., data=df, mtry=2, ntree=50, importance=TRUE)&lt;br /&gt;importance(rf1,type=1)&lt;br /&gt;&lt;br /&gt;# run the party implementation&lt;br /&gt;library(party)&lt;br /&gt;cf1 &amp;lt;- cforest(y~.,data=df,control=cforest_unbiased(mtry=2,ntree=50))&lt;br /&gt;varimp(cf1)&lt;br /&gt;varimp(cf1,conditional=TRUE)&lt;br /&gt;&lt;/pre&gt;&lt;br /&gt;For the &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;randomForest&lt;/span&gt;, the ratio of importance of the the first and second variable is 4.53. For &lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;party&lt;/span&gt; without accounting for correlation it is 7.35. And accounting for correlation, it is 369.5. The higher ratios are better because it means that the importance of the first variable is more prominent. party's implementation is clearly doing the job.&lt;br /&gt;&lt;br /&gt;There is a downside. It takes much longer to calculate importance with correlated predictors than without. For the party package in this example, it took 0.39 seconds to run without and 204.34 seconds with. I could not even run the correlated importance on the electricity price example. There might be a research opportunity to get a quicker approximation.&lt;br /&gt;&lt;br /&gt;Possibly up next: confidence limits for random forest predictions.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/7751526614210012215/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html#comment-form' title='10 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' title='Random Forest Variable Importance'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>10</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778</id><published>2012-06-15T10:57:00.000-04:00</published><updated>2012-06-15T10:57:21.592-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MATLAB'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Rounding in R</title><content type='html'>Forgive me if you are already aware of this, but I found it quite alarming. I know that most code is interpreted by the computer in binary and we input in decimal, so problems can arise in conversion and with &lt;a href="http://en.wikipedia.org/wiki/Floating_point"&gt;floating point&lt;/a&gt;. But the example I have below is so simple that it really surprised me.&lt;br /&gt;&lt;br /&gt;I was converting a function from R into MATLAB so that a colleague could use it. I tested it out on the same data and got slightly different results. Digging into the problem, the difference was due to the fact that R was rounding 4.5 to 4 and MATLAB was rounding it to 5. I thought the "4.5" must have really been "4.49999...". But that was not so.&lt;br /&gt;&lt;br /&gt;For example, this is the result of the &lt;a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/Round.html"&gt;round&lt;/a&gt; function for a few numbers.&lt;br /&gt;&lt;pre class="brush: r"&gt;&amp;gt; round(0.5,0)&lt;br /&gt;[1] 0&lt;br /&gt;&amp;gt; round(1.5,0)&lt;br /&gt;[1] 2&lt;br /&gt;&amp;gt; round(2.5,0)&lt;br /&gt;[1] 2&lt;br /&gt;&amp;gt; round(3.5,0)&lt;br /&gt;[1] 4&lt;br /&gt;&amp;gt; round(4.5,0)&lt;br /&gt;[1] 4&lt;br /&gt;&amp;gt; round(5.5,0)&lt;br /&gt;[1] 6&lt;br /&gt;&amp;gt; round(6.5,0)&lt;br /&gt;[1] 6&lt;br /&gt;&lt;/pre&gt;&lt;br /&gt;Do you see a pattern?&lt;br /&gt;&lt;br /&gt;I tried this on versions 2.13.1 and 2.14.0. I ran the same with MATLAB and it gave the expected results. I am not any kind of expert on computer sciences, so I was not sure why this is happening. &lt;a href="http://www.mathsisfun.com/binary-decimal-hexadecimal-converter.html"&gt;Converting &lt;/a&gt;any decimal number that ends in .5 into binary results in a finite length binary number. For example, 4.5 is 100.1 in binary. Because of this, I wouldn't think the error would be due to floating points, but I really don't know.&lt;br /&gt;&lt;br /&gt;Looking at the &lt;a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/Round.html"&gt;documentation&lt;/a&gt; for round, I found the reason. It states in the notes, "Note that for rounding off a 5, the &lt;a href="http://en.wikipedia.org/wiki/IEEE_754-2008#Rounding_rules"&gt;IEC 60559 standard&lt;/a&gt; is expected to be used, ‘&lt;em&gt;go to the even digit&lt;/em&gt;’." It is a little comforting knowing that there is a logic behind it and that R is abiding to some standard. But why isn't MATLAB abiding by the same standard? Also, I think most people expect numbers ending in .5 to round up, not the nearest even digit.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/4887954296093717778/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html#comment-form' title='9 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' title='Rounding in R'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>9</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5639619691675035219</id><published>2012-05-30T08:00:00.001-04:00</published><updated>2012-06-01T10:00:28.560-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='GAM'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='baseball'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Space Time Swing Probability Plot for Ichiro</title><content type='html'>I was having some fun with PITCHf/x data and generalize additive models. &lt;a href="http://en.wikipedia.org/wiki/PITCHf/x"&gt;PITCHf/x&lt;/a&gt; keeps track of the trajectory, path, location of every pitch in the MLB. It is pretty accurate and opens up baseball to more analyses than ever before. &lt;a href="http://en.wikipedia.org/wiki/Generalized_additive_model"&gt;Generalized additive models&lt;/a&gt; (GAMs) are statistical models that put minimal assumptions on the type of model you are fitting. Traditional statistical models are linear, in that they assume that the response variable you are modelling is a linear function of the explanatory variables. GAMs just assumes that the relationship is "smooth." &lt;a href="http://www.stat.ubc.ca/%7Ematias/rgam/binomial.png"&gt;Here &lt;/a&gt;is a good example of a relationship that may have traditionally been modeled as linear, but it is a much better assumption that the relationship is smooth.&lt;br /&gt;&lt;br /&gt;I fit a GAM to PITCHf/x data. The response is whether or not Ichiro swung. The explanatory variables are pitch location on the x, pitch location on the z, and the day of the year. Obviously, we expect the probability of swinging to change as the pitch is closer or further away from the center of the strike zone. Additionally, I was interested in seeing his swinging propensity changed as the year went on.&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;object class="BLOGGER-youtube-video" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" data-thumbnail-src="http://i.ytimg.com/vi/44X9VXXjYPI/0.jpg" height="266" width="320"&gt;&lt;param name="movie" value="http://www.youtube.com/v/44X9VXXjYPI?version=3&amp;f=user_uploads&amp;c=google-webdrive-0&amp;app=youtube_gdata" /&gt;  &lt;param name="bgcolor" value="#FFFFFF" /&gt;  &lt;embed width="320" height="266"  src="http://www.youtube.com/v/44X9VXXjYPI?version=3&amp;f=user_uploads&amp;c=google-webdrive-0&amp;app=youtube_gdata" type="application/x-shockwave-flash"&gt;&lt;/embed&gt;&lt;/object&gt;&lt;/div&gt;&lt;br /&gt;You can see that the probability of swinging is smooth in both location and time. Also, you can see (ever so slightly) that the probability of swinging increased as the year went on. Looking at &lt;a href="http://www.baseball-reference.com/players/split.cgi?id=suzukic01&amp;amp;year=2010&amp;amp;t=b#half"&gt;the splits&lt;/a&gt;, you can see that his walk percentage was 28/395 (7.1%) in the first half and 17/337 (5.0%) in the second half. This is in agreement with the swing probability increasing,&lt;br /&gt;&lt;br /&gt;I used the &lt;a href="http://people.bath.ac.uk/sw283/mgcv/tampere/mgcv.pdf"&gt;mgcv &lt;/a&gt;package in R to run the GAM. I created an image for every day and stitched them together into a movie with &lt;a href="http://ffmpeg.org/"&gt;ffmpeg&lt;/a&gt;. The R code is &lt;a href="https://docs.google.com/open?id=0B21DLJKq18K9ejNUX0RXQnlJam8"&gt;here&lt;/a&gt;.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/5639619691675035219/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/05/space-time-swing-probability-plot-for.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5639619691675035219'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5639619691675035219'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/05/space-time-swing-probability-plot-for.html' title='Space Time Swing Probability Plot for Ichiro'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5971089528229365733</id><published>2012-05-25T16:18:00.001-04:00</published><updated>2012-05-25T16:58:03.688-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Sending a Text in R</title><content type='html'>Don't you hate it when you are running a long piece of code and you keep checking the results every 15 minutes, hoping it will finish? There is a better way.&lt;br /&gt;&lt;br /&gt;I got the idea from &lt;a href="http://jbdeaton.com/2012/send-yourself-an-sms-via-python/"&gt;here&lt;/a&gt;. He uses a Python script and the text interface is not free. I thought someone must have already thought of this for R. There is an easy solution. You can send an email fairly easily in R. You can also send &lt;a href="http://allthingsmarked.com/2006/09/04/howto-send-free-text-messages-through-email/"&gt;text messages as emails&lt;/a&gt;. &lt;a href="http://www.decisionstats.com/send-email-by-r/"&gt;This page &lt;/a&gt;gives a few examples of how to send an email in R. Sending a text via email will depend on what carrier you have and I am sure standard text message fees apply.You can only send 20 emails a day with this package, but that probably won't be a big deal.&lt;br /&gt;&lt;br /&gt;It is basically a one-liner. Here is the code I used:&lt;br /&gt;&lt;pre class="brush: r"&gt;install.packages("mail",repos="http://cran.case.edu/")&lt;br /&gt;library(mail)&lt;br /&gt;sendmail("5555555555@txt.att.net", &lt;br /&gt;         subject="Notification from R",message="MCMC Finished", password="rmail")&lt;br /&gt;&lt;/pre&gt;&lt;br /&gt;That's it!&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-DaUTmyXUfks/T7_mu1CRtII/AAAAAAAAG8Y/Ike9L7_C_yI/s1600/photo.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="320" src="http://1.bp.blogspot.com/-DaUTmyXUfks/T7_mu1CRtII/AAAAAAAAG8Y/Ike9L7_C_yI/s320/photo.PNG" width="212" /&gt;&lt;/a&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/5971089528229365733/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/05/sending-text-in-r.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5971089528229365733'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/5971089528229365733'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/05/sending-text-in-r.html' title='Sending a Text in R'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/-DaUTmyXUfks/T7_mu1CRtII/AAAAAAAAG8Y/Ike9L7_C_yI/s72-c/photo.PNG' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-366845894530580964</id><published>2012-05-20T13:43:00.005-04:00</published><updated>2013-09-21T21:16:31.984-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='baseball'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Cleveland Indians' Attendance</title><content type='html'>Recently, Chris Perez, the closer for the Indians, displayed &lt;a href="http://throwinheat.mlblogs.com/2012/05/20/chris-perez-expands-on-his-comments-mark-shapiro-responds/"&gt;some frustration &lt;/a&gt;with the fans for not supporting the team. Currently, they have the &lt;a href="http://www.baseball-reference.com/leagues/current_attendance.shtml"&gt;lowest attendance &lt;/a&gt;in the majors -- by a decent margin. The Indians are averaging about 15,000 fans per home game, while the next closest team, the Oakland A's, is averaging 19,000. It seemed like an odd time for Perez to bring this up because they &lt;a href="http://www.baseball-reference.com/teams/CLE/2012-schedule-scores.shtml"&gt;have had &lt;/a&gt;attendance in the 29,000s each of the last two home games. So that intrigued me to look into the numbers of what causes attendance to vary.&lt;br /&gt;&lt;br /&gt;I looked at &lt;a href="http://www.baseball-reference.com/teams/CLE/2011-schedule-scores.shtml"&gt;2011 attendance data &lt;/a&gt;for the Cleveland Indians only. I had a strong suspicion that a popular opponent would definitely and weekend games cause attendance to increase. Also, there is usually some press at the beginning of the season that claims no one wants to go to the games because it is too cold for baseball. (There is also more competing entertainment at the beginning of the season.)&lt;br /&gt;&lt;br /&gt;What I found to be significant (based on an exploratory approach) are summarized in the graph below. This plot explores the relationship of attendance with 5 other variables. I plotted attendance on the y-axis and the date on the x-axis. I don't expect date to have any effect, but it organizes other aspects well (and you can see opening day had the highest attendance of the year). Instead of plotting points, I plotted the name of the opponent. You can see there are some larger attendances when they are playing the New York Yankees and the Cincinnati Reds, for example. The color of the team name indicates whether they are playing on the weekend or not and the size indicates the &lt;a href="http://academic.udayton.edu/kissock/http/Weather/citylistUS.htm"&gt;temperature&lt;/a&gt;. Probably the biggest effect, weekend games outdraw weekday games consistently. The colder temperatures are only in the beginning of the season, and seem to have a noticeable effect (at least for the coldest days).&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-c7JBG0k4OBQ/T7kvpyZYOmI/AAAAAAAAG20/tC71mpum_lA/s1600/IndainsAttendance2011.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="633" src="https://lh3.ggpht.com/-c7JBG0k4OBQ/T7kvpyZYOmI/AAAAAAAAG20/tC71mpum_lA/s640/IndainsAttendance2011.jpeg" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;I also looked into how many games above .500 the team was and how close they were in the division race. Neither of these showed any correlation, at least at the marginal level. This is interesting because the main reason Chris Perez is frustrated is that the team is winning, so the fans should be supporting them. This shows that wining did not make much of a difference within a single year. This should be more prevalent over multiple years.&lt;br /&gt;&lt;br /&gt;Some other information that might be useful is the quality of the opponent or whether the ace of the opposing pitching staff is starting. I only included temperature and not precipitation or any other weather information.&lt;br /&gt;&lt;br /&gt;Here is the basic R code I used: &lt;br /&gt;&lt;pre class="brush: r"&gt;library(ggplot2)&lt;br /&gt;ggplot(data=home.attend,aes(x=Date,y=Attendance,colour=Weekend,label=Opp,size=Temp))+&lt;br /&gt;  geom_text()+scale_size(to = c(2, 5))+theme_bw()&amp;nbsp;&lt;/pre&gt;&lt;pre class="brush: r"&gt;&amp;nbsp;&lt;/pre&gt;&lt;i&gt;&lt;b&gt;Update (9/21/2013)&lt;/b&gt;&lt;/i&gt;:&lt;br /&gt;Since attendance is still a hot topic, I created the same plot for the 2013 season so far.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-MiH0WF4KyGU/Uj5E45dKMSI/AAAAAAAAH9A/3MoE4VGYjUA/s1600/IndainsAttendance2013.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="426" src="https://lh3.ggpht.com/-MiH0WF4KyGU/Uj5E45dKMSI/AAAAAAAAH9A/3MoE4VGYjUA/s1600/IndainsAttendance2013.jpeg" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-mT8HBGEKwak/Uj5EauQomGI/AAAAAAAAH84/qB4e0VE6n94/s1600/IndainsAttendance2013.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/366845894530580964/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/05/cleveland-indians.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/366845894530580964'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/366845894530580964'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/05/cleveland-indians.html' title='Cleveland Indians&apos; Attendance'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-3346091704775056004</id><published>2012-05-05T16:24:00.002-04:00</published><updated>2012-05-25T16:22:41.826-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Bayesian'/><category scheme='http://www.blogger.com/atom/ns#' term='baseball'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>What's Up with Albert Pujols?</title><content type='html'>After signing a huge deal with the Angels, Pujols has been having a really bad year. He hasn't hit a home run this year, breaking a career long streak. So I thought it would be a good idea to use some statistics to tell how good or bad we think Pujols will actually be this year.&lt;br /&gt;&lt;br /&gt;Coming into the year, he had a career .328/.420/.617 career AVG/OBP/SLG. Through one month, he has a .194/.237/.269. So what do we expect out of Pujols for the rest of the year?&lt;br /&gt;&lt;br /&gt;In Bayesian statistical terms, we can quantify our prior beliefs about Pujols from his history before this year. Below are histograms and fitted distributions of Pujols' yearly batting lines from 2001 to 2011. His numbers are well above normal and he has been the best player in baseball for a while.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-eBkY_jm8kn0/T6WDvtfUlZI/AAAAAAAAGss/dNE4TkjFC6I/s1600/pujols.bmp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-eBkY_jm8kn0/T6WDvtfUlZI/AAAAAAAAGss/dNE4TkjFC6I/s1600/pujols.bmp" /&gt;&lt;/a&gt;&lt;/div&gt;So coming into this year, we would expect him to have a batting average between .290 and .370, with .330 being the most likely, for example.&lt;br /&gt;&lt;br /&gt;Combining our prior expectations with the data we have observed from this year, we can get our posterior beliefs. When we do that, we get a posterior expectation that Pujols is a true .312/.379/.451 hitter. The league averages from 2001 to 2011 are .263/.331/.418, so he is still expected to be well above the average player, even with the poor start. If we use data from just this year, we do not have enough data to give us an accurate reflection of how good he is. If we combine the data with our prior beliefs, we get a better indication of what to expect. Below is a table that compares these numbers.&lt;br /&gt;&lt;br /&gt;&lt;style type="text/css"&gt;.nobrtable br { display: none } &lt;/style&gt;&lt;br /&gt;&lt;div class="nobrtable"&gt;&lt;table border="2" bordercolor="#3366cc" cellpadding="3" cellspacing="3" style="background-color: white;"&gt;&lt;tbody&gt;&lt;tr style="background-color: #3366cc; color: white; padding-bottom: 4px; padding-top: 5px;"&gt; &lt;th&gt;&lt;br /&gt;&lt;/th&gt;&lt;th&gt;AVG&lt;/th&gt;&lt;th&gt;OBP&lt;/th&gt;&lt;th&gt;SLG&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;League&lt;/td&gt;&lt;td&gt;.263&lt;/td&gt;&lt;td&gt;.331&lt;/td&gt;&lt;td&gt;.418&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Prior&lt;/td&gt;&lt;td&gt;.328&lt;/td&gt;&lt;td&gt;.420&lt;/td&gt;&lt;td&gt;.617&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;This Year&lt;/td&gt;&lt;td&gt;.194&lt;/td&gt;&lt;td&gt;.237&lt;/td&gt;&lt;td&gt;.269&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Posterior&lt;/td&gt;&lt;td&gt;.312&lt;/td&gt;&lt;td&gt;.379&lt;/td&gt;&lt;td&gt;.451&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;br /&gt;Finally, we can also get the whole posterior distribution (not just the expectation). I have plotted the prior and posterior distributions on the same graph. You can see that Pujols' bad month has caused our beliefs about him to decrease quite a bit. Most notable is the slugging percentage, which is likely because of his career-long homerless streak.&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-ZmO18a8vj0w/T6WLW6LnjsI/AAAAAAAAGs4/ll2ab7sGJAg/s1600/pujols-prior+and+posterior.bmp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/-ZmO18a8vj0w/T6WLW6LnjsI/AAAAAAAAGs4/ll2ab7sGJAg/s1600/pujols-prior+and+posterior.bmp" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;What Bayesian analysis does is shrinks (or regresses) the data from this year to the prior average. This is&amp;nbsp; the same idea of regressing to the overall mean that is talked about frequently in sabermetric blogs. The difference is that regressing to the mean usually regresses to the average player in the league. With Bayesian analysis, we can regress to our prior expectation about the specific player (Albert Pujols). I believe this approach will give us better results in most cases.&lt;br /&gt;&lt;br /&gt;The R code to do the analysis can be found &lt;a href="https://docs.google.com/open?id=0B21DLJKq18K9NkNJb0lQRHNqbHM"&gt;here&lt;/a&gt;. I used data from &lt;a href="http://www.baseball-reference.com/players/p/pujolal01.shtml"&gt;Baseball Reference&lt;/a&gt;.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/3346091704775056004/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/05/whats-up-with-alber-pujols.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/3346091704775056004'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/3346091704775056004'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/05/whats-up-with-alber-pujols.html' title='What&apos;s Up with Albert Pujols?'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/-eBkY_jm8kn0/T6WDvtfUlZI/AAAAAAAAGss/dNE4TkjFC6I/s72-c/pujols.bmp' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-1524012296660020795</id><published>2012-04-01T12:08:00.001-04:00</published><updated>2012-06-15T11:07:59.476-04:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Expository'/><title type='text'>Maximum Likelihood Bracket Picks</title><content type='html'>This post is more expository.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/1524012296660020795'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/1524012296660020795'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6113606630091087239</id><published>2012-03-13T18:29:00.001-04:00</published><updated>2012-03-13T18:29:45.156-04:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Let's Go to Vegas</title><content type='html'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6113606630091087239'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6113606630091087239'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4354169942520038802</id><published>2012-02-17T17:19:00.000-05:00</published><updated>2012-02-17T17:19:16.648-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Visualizing the Correlations of a Matrix</title><content type='html'>Correlation matrices are a common way to look at the dependence of a set of variables. When the variables have spatial relationships, the correlation matrix loses some information.&lt;br /&gt;&lt;br /&gt;Lets say you have repeated observations, each one being a matrix. For example, you could have yearly observations of health statistics for a spatial grid. Lets say the grid is n by p (n*p variables) and there are m observations of the grid. If we want to get the correlations of each element of the grid, the typical way to do that would be to convert the matrix of variables into a vector of length n*p, and then calculate the correlation matrix of the vector. When you do that, however, it will no longer be obvious which of the variables are on the same row/column or are close to each other. So the typical correlation matrix is not satisfactory.&lt;br /&gt;&lt;br /&gt;What I propose is a set of &lt;a href="http://en.wikipedia.org/wiki/Small_multiple"&gt;small multiples &lt;/a&gt;of correlation matrices. Instead of having an n*p by n*p correlation matrix, we will have an n by p grid of correlation matrices, each correlation matrix representing the correlation with the variable in that position of the matrix. Below is an example.&lt;br /&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-uKlTWBzaYhQ/Tz7SB8nALQI/AAAAAAAAF7c/ioCipoIuVgg/s1600/matrix+cor+plot.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://2.bp.blogspot.com/-uKlTWBzaYhQ/Tz7SB8nALQI/AAAAAAAAF7c/ioCipoIuVgg/s1600/matrix+cor+plot.png" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-lv9XCCr-k0E/Tz7PVojdkfI/AAAAAAAAF7U/tFH2H8im_3Q/s1600/matrix+cor+plot.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;The above example is just random data, so all correlations are spurious. Blue is positive, red is negative, and white is no correlation. You can see in the row 1, column 1 matrix that the 1st row and 1st column is dark blue. This is because this is the correlation with itself. Similarly in all other rows and columns.&lt;br /&gt;&lt;br /&gt;Using a real example might display the usefulness more clearly. I am on a project estimating elements of a matrix with only the row totals and column totals. I simulated data many times and kept track of the errors. I was interested in how the errors in the different cells are correlated with each other. Below, you can see that the errors in the same row or column are positively correlated with each other, while the errors in other rows and columns are negatively correlated. This pops out at you with the below plot, but would have been difficult to figure out with a typical correlation matrix.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-wSVkWLxaxH8/Tz7NN6lNobI/AAAAAAAAF7M/wQ7T-B-3Kx0/s1600/Correlation+of+Errors+Matrix1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="400" src="http://1.bp.blogspot.com/-wSVkWLxaxH8/Tz7NN6lNobI/AAAAAAAAF7M/wQ7T-B-3Kx0/s400/Correlation+of+Errors+Matrix1.jpg" width="400" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Code:&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace; font-size: small;"&gt;# Generate random data for the example&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace; font-size: small;"&gt;reps=10&lt;br /&gt;mat.data=array(0,c(4,5,reps))&lt;br /&gt;for (i in 1:reps) {&lt;br /&gt;&amp;nbsp; mat.data[,,i]=matrix(rmultinom(1,20,rep(1,4*5)/(4*5)),4,5)&lt;br /&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace; font-size: small;"&gt;matrix.cor.plot(mat.data)&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace; font-size: small;"&gt;&lt;br /&gt;# the function&lt;br /&gt;matrix.cor.plot &amp;lt;- function(mat.data) {&lt;br /&gt;&amp;nbsp; #mat.data should be a nrow by ncol by nrep array&lt;br /&gt;&amp;nbsp; &lt;br /&gt;&amp;nbsp; nrow=dim(mat.data)[1]&lt;br /&gt;&amp;nbsp; ncol=dim(mat.data)[2]&lt;br /&gt;#&amp;nbsp;&amp;nbsp; nrep=dim(mat.data)[3]&lt;br /&gt;&amp;nbsp; &lt;br /&gt;&amp;nbsp; par(mfrow=c(nrow,ncol),cex=.75,bty="o",mar=c(1, 1, 1, 1) + 0.1)&lt;br /&gt;&amp;nbsp; &lt;br /&gt;&amp;nbsp; # red is -1, white is 0, blue is +1&lt;br /&gt;&amp;nbsp; rgb.palette &amp;lt;- colorRampPalette(c("red","white","blue"), space = "rgb")&lt;br /&gt;&amp;nbsp; &lt;br /&gt;&amp;nbsp; for (r in 1:nrow) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; for (c in 1:ncol) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; cor.mat=matrix(0,nrow,ncol)&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; for (r2 in 1:nrow) { for (c2 in 1:ncol) {cor.mat[r2,c2]=cor(mat.data[r,c,],mat.data[r2,c2,]) } }&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; cor.mat=t(cor.mat)&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; cor.mat=cor.mat[,ncol(cor.mat):1]&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; image(cor.mat,zlim=c(-1,1),col=rgb.palette(120),axes = FALSE,main=paste("Row:",r,"Col:",c))&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; box()&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;br /&gt;&amp;nbsp; }&lt;br /&gt;}&lt;/span&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/4354169942520038802/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/02/visualizing-correlations-of-matrix.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4354169942520038802'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4354169942520038802'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/02/visualizing-correlations-of-matrix.html' title='Visualizing the Correlations of a Matrix'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://2.bp.blogspot.com/-uKlTWBzaYhQ/Tz7SB8nALQI/AAAAAAAAF7c/ioCipoIuVgg/s72-c/matrix+cor+plot.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-21335881113356183</id><published>2012-02-12T13:39:00.003-05:00</published><updated>2013-04-23T16:25:35.291-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='image segmentation'/><category scheme='http://www.blogger.com/atom/ns#' term='spectral clustering'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Unsupervised Image Segmentation with Spectral Clustering with R</title><content type='html'>That title is quite a mouthful. This quarter, I have been reading papers on &lt;a href="http://en.wikipedia.org/wiki/Spectral_clustering"&gt;Spectral Clustering&lt;/a&gt; for a reading group. The basic goal of clustering is to find groups of data points that are similar to each other. Also, data points in one group should be dissimilar to data in other clusters. This way you can summarize your data by saying there are a few groups to consider instead of all the points. Clustering is an unsupervised learning method in that there are no "true" groups that you are comparing the clusters to.&lt;br /&gt;&lt;br /&gt;There are many ways to do this, two of the most popular are k-means and hierarchical clustering. Spectral clustering is nice because it gives you as much flexibility as you want to define how pairs of data points are similar or dissimilar. K-means only works well for data that are grouped in elliptically shaped, whereas spectral clustering can theoretically work well for any group. For example, the data in &lt;a href="http://www.ml.uni-saarland.de/code/pSpectralClustering/images/clusters_11b_notitle2.png" target="_blank"&gt;this image&lt;/a&gt; is easily clustered by spectral, but would not be by k-means. The flexibility of spectral clustering can also be a burden in that there are an infinite ways to group points.&lt;br /&gt;&lt;br /&gt;The basic idea (and all the flexibility) behind spectral clustering is that you define the similarity between any two data points however you want, and put them in a matrix. So if you have 100 data points, you will end up with a 100x100 matrix, where the rth row and cth column is the similarity between the rth data point and the cth data point. You can define "similarity" any way you want. Popular methods are Euclidean distance, a kernel function of the Euclidean distance, or a k nearest neighbors approach.&lt;br /&gt;&lt;br /&gt;Once you have the similarity matrix, you need to create a normalized/unnormalized &lt;a href="http://en.wikipedia.org/wiki/Laplacian_matrix"&gt;Laplacian&lt;/a&gt; matrix, then calculate the eigenvectors and eigenvalues of the the Laplacian. Finally, use the k-means algorithm on the eigenvalues corresponding to the k smallest eigenvectors. This will give you k clusters (something else you need to specify).&lt;br /&gt;&lt;br /&gt;The other day, someone in my office was working a project of &lt;a href="http://en.wikipedia.org/wiki/Image_segmentation"&gt;Image Segmentation&lt;/a&gt; (a topic I know nothing about) for a machine learning class. I thought this would be a perfect application for spectral clustering because you can define similarity of pixels in terms of both the contrast of the pixel as well as the proximity to nearby pixels. I downloaded a few pictures from the&lt;span id="goog_358016683"&gt;&lt;/span&gt;&lt;span id="goog_358016684"&gt;&lt;/span&gt; &lt;a href="http://www.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/"&gt;Berkeley Segmentation Dataset Benchmark&lt;/a&gt; website.&lt;br /&gt;&lt;br /&gt;One thing I quickly found was that even these moderately sized pictures were too big to create a similarity matrix for in R. A typical image is 481x321=154401 pixels. So a similarity matrix between all the pixels would be 154401x154401=23 billion elements. R only allows 2^31-1=2.1 billion elements in a matrix. Even if I could create the matrix, it would take forever to calculate the eigenvectors and eigenvalues. [Note: Some people from my department actually tackled &lt;a href="http://www.stat.osu.edu/~taoshi/research/papers/2011_Schuetter_Shi_JCGS.pdf" target="_blank"&gt;this exact problem&lt;/a&gt; using sampling methods.]&lt;br /&gt;&lt;br /&gt;So I had to reduce the size of the image. For this I just created an image of a factor of the original dimension (about 10 to 20 times smaller), and averaged the contrast of all the points that were collapsed. I also experimented with smoothing the image first and then doing the averaging In some cases it helped in some it hurt, I think.&lt;br /&gt;&lt;br /&gt;For example here is an original picture.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://www.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/BSDS300/html/images/plain/normal/gray/86016.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://www.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/BSDS300/html/images/plain/normal/gray/86016.jpg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Then I smoothed using the image.smooth function of the fields package.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/-Rd4S9Z1Y5IE/Tzf9PWxlGII/AAAAAAAAF6M/xBUzV_EMDrE/s1600/smooth.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-Rd4S9Z1Y5IE/Tzf9PWxlGII/AAAAAAAAF6M/xBUzV_EMDrE/s1600/smooth.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;Then I reduced the dimension by a factor of 10 and averaged the original pixels. The resulting image is below. You can see there is a decent loss of information in the averaging.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-tzIV9TQYHVI/Tzf9cKaR9YI/AAAAAAAAF6U/2sne_VgLUJQ/s1600/averaged.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-tzIV9TQYHVI/Tzf9cKaR9YI/AAAAAAAAF6U/2sne_VgLUJQ/s1600/averaged.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Finally, for the similarity, I only considered pixels that were within 3 horizontally or vertically to be similar (otherwise 0). Also, for those within 3, I used a Gaussian kernel of the difference in contrast with variance equal to 0.01. I chose this number because the variance in the data was about 0.01. Varying both of these parameters wildly affected quality of the results. I also tried using a k nearest neighbors similarity and I did not get any good results. Hence, you can see both the positive and negative of the flexibility.&lt;br /&gt;&lt;br /&gt;Anyway, here are the two clusters (white and black) using the unnormalized Laplacian.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-dtUccbD9WeM/TzgAJH51ZAI/AAAAAAAAF6c/eUL8YFLOETE/s1600/clusters.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-dtUccbD9WeM/TzgAJH51ZAI/AAAAAAAAF6c/eUL8YFLOETE/s1600/clusters.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;It looks very good and encouraging for future problems. As stated before, however, I am not sure how to determine the parameters for a generic problem.&lt;br /&gt;&lt;br /&gt;Overlaying the cluster on the original image, you can see the two segments of the image clearly. You can also see the loss in fidelity due to reducing the size of the image.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-FqY4mvTF2Yo/TzgKwX9ZlBI/AAAAAAAAF68/_WpfIetZVmc/s1600/overlay1b.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-FqY4mvTF2Yo/TzgKwX9ZlBI/AAAAAAAAF68/_WpfIetZVmc/s1600/overlay1b.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-LDWLf0qEKCo/TzgAJciHcaI/AAAAAAAAF6k/c4veitNzH4A/s1600/overlay.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;Here are a couple of other examples that worked well. With the airplane one, in particular, you can see that the clustering was able to identify an unusual shape. I was not able to get it to work well with more than two clusters, although I only tried one image that was not that easy.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://2.bp.blogspot.com/-k-7m1FTg_fI/TzgKx9lj0XI/AAAAAAAAF7E/LDjpO3w1JBg/s1600/overlay3b.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-k-7m1FTg_fI/TzgKx9lj0XI/AAAAAAAAF7E/LDjpO3w1JBg/s1600/overlay3b.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/-EVSnrPb3CaA/TzgD21GoJoI/AAAAAAAAF60/y6NlonQ8Nw0/s1600/overlay3.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://3.bp.blogspot.com/-36TaE1FBMGg/TzgD2VmAOFI/AAAAAAAAF6s/W0SsqyG-J_M/s1600/overlay2.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.ggpht.com/-36TaE1FBMGg/TzgD2VmAOFI/AAAAAAAAF6s/W0SsqyG-J_M/s1600/overlay2.jpeg" /&gt;&lt;/a&gt;&lt;/div&gt;For posterity, here is the code I used.&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Import the image &lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;library(jpeg)&lt;br /&gt;# http://www.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/BSDS300/html/images/plain/normal/gray/86016.jpg&lt;br /&gt;rawimg=readJPEG("segment.jpeg")&lt;br /&gt;rawimg=t(rawimg)&lt;br /&gt;rawimg=rawimg[,ncol(rawimg):1]&lt;br /&gt;image(rawimg,col = grey((0:12)/12))&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Smooth the image&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;library(fields)&lt;br /&gt;smoothimg=image.smooth(rawimg,theta=2)&lt;br /&gt;image(smoothimg,col = grey((0:12)/12))&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Reduce Size of Image&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;olddim=dim(rawimg)&lt;br /&gt;newdim=c(round(olddim/10))&lt;br /&gt;prod(newdim)&amp;gt;2^31&lt;br /&gt;img=matrix(NA,newdim[1],newdim[2])&lt;br /&gt;for (r in 1:newdim[1]) {&lt;br /&gt;&amp;nbsp; centerx=(r-1)/newdim[1]*olddim[1]+1&lt;br /&gt;&amp;nbsp; lowerx=max(1,round(centerx-olddim[1]/newdim[1]/2,0))&lt;br /&gt;&amp;nbsp; upperx=min(olddim[1],round(centerx+olddim[1]/newdim[1]/2,0))&lt;br /&gt;&amp;nbsp; for (c in 1:newdim[2]) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; centery=(c-1)/newdim[2]*olddim[2]+1&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; lowery=max(1,round(centery-olddim[2]/newdim[2]/2,0))&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; uppery=min(olddim[2],round(centery+olddim[2]/newdim[2]/2,0))&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; img[r,c]=mean(smoothimg$z[lowerx:upperx,lowery:uppery])&lt;br /&gt;&amp;nbsp; }&lt;br /&gt;}&lt;br /&gt;image(img,col = grey((0:12)/12))&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Convert matrix to vector&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;imgvec=matrix(NA,prod(dim(img)),3)&lt;br /&gt;counter=1&lt;br /&gt;for (r in 1:nrow(img)) {&lt;br /&gt;&amp;nbsp; for (c in 1:ncol(img)) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; imgvec[counter,1]=r&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; imgvec[counter,2]=c&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; imgvec[counter,3]=img[r,c]&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; counter=counter+1&lt;br /&gt;&amp;nbsp; }&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Similarity Matrix&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;pixdiff=2&lt;br /&gt;sigma2=.01 #&lt;/span&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;var(imgvec[,3])&lt;/span&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;&lt;br /&gt;simmatrix=matrix(0,nrow(imgvec),nrow(imgvec))&lt;br /&gt;for(r in 1:nrow(imgvec)) {&lt;br /&gt;&amp;nbsp; cat(r,"out of",nrow(imgvec),"\n")&lt;br /&gt;&amp;nbsp; simmatrix[r,]=ifelse(abs(imgvec[r,1]-imgvec[,1])&amp;lt;=pixdiff &amp;amp; abs(imgvec[r,2]-imgvec[,2])&amp;lt;=pixdiff,exp(-(imgvec[r,3]-imgvec[,3])^2/sigma2),0)&lt;br /&gt;}&lt;br /&gt;&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Weighted and Unweighted Laplacian&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;D=diag(rowSums(simmatrix))&lt;br /&gt;Dinv=diag(1/rowSums(simmatrix))&lt;br /&gt;L=diag(rep(1,nrow(simmatrix)))-Dinv %*% simmatrix&lt;br /&gt;U=D-simmatrix&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Eigen and k-means&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;evL=eigen(L,symmetric=TRUE)&lt;br /&gt;evU=eigen(U,symmetric=TRUE)&lt;br /&gt;&lt;br /&gt;kmL=kmeans(evL$vectors[,(ncol(simmatrix)-1):(ncol(simmatrix)-0)],centers=2,nstart=5)&lt;br /&gt;segmatL=matrix(kmL$cluster-1,newdim[1],newdim[2],byrow=T)&lt;br /&gt;if(max(segmatL) &amp;amp; sum(segmatL==1)&amp;lt;sum(segmatL==0)) {segmatL=abs(segmatL-1)}&lt;br /&gt;&lt;br /&gt;kmU=kmeans(evU$vectors[,(ncol(simmatrix)-1):(ncol(simmatrix)-0)],centers=2,nstart=5)&lt;br /&gt;segmatU=matrix(kmU$cluster-1,newdim[1],newdim[2],byrow=T)&lt;br /&gt;if(max(segmatU) &amp;amp;sum(segmatU==1)&amp;lt;sum(segmatU==0)) {segmatU=abs(segmatU-1)}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Plotting the clusters&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;image(segmatL, col=grey((0:15)/15))&lt;br /&gt;image(segmatU, col=grey((0:12)/12))&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;# Overlaying the original and the clusters&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;############&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;"&gt;image(seq(0,1,length.out=olddim[1]),seq(0,1,length.out=olddim[2]),rawimg,col = grey((0:12)/12),xlim=c(-.1,1.1),ylim=c(-.1,1.1),xlab="",ylab="")&lt;br /&gt;&lt;br /&gt;segmat=segmatU&lt;br /&gt;linecol=2&lt;br /&gt;linew=3&lt;br /&gt;for(r in 2:newdim[1]) {&lt;br /&gt;&amp;nbsp; for (c in 2:newdim[2]) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(abs(segmat[r-1,c]-segmat[r,c])&amp;gt;0) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; xloc=(r-1)/(newdim[1])&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ymin=(c-1)/(newdim[2])&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ymax=(c-0)/(newdim[2])&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; segments(xloc,ymin,xloc,ymax,col=linecol,lwd=linew)&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(abs(segmat[r,c-1]-segmat[r,c])&amp;gt;0) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; yloc=(c-1)/(newdim[2])&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; xmin=(r-1)/(newdim[1])&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; xmax=(r-0)/(newdim[1])&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; segments(xmin,yloc,xmax,yloc,col=linecol,lwd=linew)&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;br /&gt;&amp;nbsp; }&lt;br /&gt;}&lt;/span&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/21335881113356183/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2012/02/unsupervised-image-segmentation-with.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/21335881113356183'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/21335881113356183'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/02/unsupervised-image-segmentation-with.html' title='Unsupervised Image Segmentation with Spectral Clustering with R'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-3906340685162104609</id><published>2011-07-23T13:56:00.001-04:00</published><updated>2012-04-01T12:00:44.208-04:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>James Franco in Wired</title><content type='html'>"I just saw the movie, Limitless, which was, you know, really well made, but it was weird. The main character is a novelist, and he takes a pill and realizes all his intellectual potential. He can do anything now, because he's so smart. So he writes his novel in four days, and then he gives up writing to go into, like, speculating on the market. And there's no critique of that. That's our hero - this guy who's going to make a lot of money. On the other hand, maybe that's a great reflection of how our country operates. Granted, I fell asleep, so maybe they critique his actions a little bit in the end. But I don't think so."</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/3906340685162104609'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/3906340685162104609'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6407919239061470226</id><published>2011-03-10T19:44:00.000-05:00</published><updated>2012-05-25T16:23:16.076-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='JMP'/><category scheme='http://www.blogger.com/atom/ns#' term='Visualization'/><title type='text'>Using JMP to Create a Map</title><content type='html'>I am a big fan of SAS's JMP software. It is the first statistical program I learned and I really like how the emphasize visualization. In their most recent update, JMP 9 now has the ability to create maps. I have been itching to test this out for a little while and I came across a &lt;a href="http://blog.cgpgrey.com/how-many-americans-have-a-passport-the-percentages-state-by-state/"&gt;map on the internet &lt;/a&gt;that I thought would be a good test. It is the percentage of the population of each state that has a passport.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://andrewsullivan.theatlantic.com/.a/6a00d83451c45669e2014e868f74e0970d-550wi" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="353" src="http://andrewsullivan.theatlantic.com/.a/6a00d83451c45669e2014e868f74e0970d-550wi" width="400" /&gt;&amp;nbsp;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;Luckily, the website has the source data so I "jumped" right in. It was really easy.&lt;br /&gt;&lt;ol&gt;&lt;li&gt;Copy and paste the data into JMP.&amp;nbsp;&lt;/li&gt;&lt;li&gt;Open the Graph Builder under the Graph menu.&amp;nbsp;&lt;/li&gt;&lt;li&gt;Drag the State field into the shape area on the lower left corner.&lt;/li&gt;&lt;/ol&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="https://lh4.googleusercontent.com/-lfAtOpUGw0w/TXltfam1YpI/AAAAAAAAFrc/9Prld6kfodc/s1600/JMPMAP1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="404" src="https://lh4.googleusercontent.com/-lfAtOpUGw0w/TXltfam1YpI/AAAAAAAAFrc/9Prld6kfodc/s640/JMPMAP1.png" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;You can see the outline of the USA in the map. JMP recognizes that the state field is filled with US state names, so it knows to open the shapefile of the US states.&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; 4. Drag the Population with Passport field onto the main map. You can also drag it into the Color area.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="https://lh6.googleusercontent.com/-DPzzTB6dRYc/TXlvrZUn45I/AAAAAAAAFrg/8JoGc11lp5Y/s1600/JMPMAP2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="377" src="https://lh6.googleusercontent.com/-DPzzTB6dRYc/TXlvrZUn45I/AAAAAAAAFrg/8JoGc11lp5Y/s640/JMPMAP2.png" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; 5. Right click on the color and select "Gradient..." to customize the colors as you like. I changed it to "White to Blue" and checked the "Reverse Colors" check box to match the original map.&lt;br /&gt;&lt;br /&gt;Below is the final result. Very quick and easy with a pretty result.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="https://lh3.googleusercontent.com/-uahR9PsA2D4/TXlvrybSM0I/AAAAAAAAFrk/FB-iMviw_oA/s1600/JMPMAP3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="https://lh3.googleusercontent.com/-uahR9PsA2D4/TXlvrybSM0I/AAAAAAAAFrk/FB-iMviw_oA/s1600/JMPMAP3.png" /&gt;&lt;/a&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/6407919239061470226/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2011/03/using-jmp-to-create-map.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6407919239061470226'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/6407919239061470226'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2011/03/using-jmp-to-create-map.html' title='Using JMP to Create a Map'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh4.googleusercontent.com/-lfAtOpUGw0w/TXltfam1YpI/AAAAAAAAFrc/9Prld6kfodc/s72-c/JMPMAP1.png' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4463056949842575789</id><published>2010-12-31T00:55:00.000-05:00</published><updated>2012-05-25T16:23:34.106-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Bayesian'/><category scheme='http://www.blogger.com/atom/ns#' term='baseball'/><category scheme='http://www.blogger.com/atom/ns#' term='R'/><title type='text'>Empirical Bayes Estimation of On Base Percentage</title><content type='html'>I guess you could call this On Bayes Percentage. *cough*&lt;br /&gt;&lt;br /&gt;Fresh off learning Bayesian techniques in one of my classes last quarter, I thought it would be fun to try to apply the method. I was able to find some examples of &lt;a href="http://en.wikipedia.org/wiki/Hierarchical_Bayes_model"&gt;Hierarchical Bayes &lt;/a&gt;being used to analyze baseball data at &lt;a href="http://www-stat.wharton.upenn.edu/%7Estjensen/"&gt;Wharton&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;b&gt;Setting up the problem&lt;/b&gt;&lt;br /&gt;On base percentage (OBP) is probably the most important basic offensive statistic in baseball. Getting a reliable estimate of a players true ability to get on base is therefore important. The basic problem is that the sample size we get from one season rarely has enough observations so that we are certain of a player's ability. Even though there are 162 games in a season, there is a possibility that the actual OBP is the result of luck rather than skill. Bayesian analysis will "regress" the actual observed OBP to the mean, in that if a player has a small number of plate appearances (PA) it doesn't give them very much weight and the result will be something closer to the overall (MLB) average. On the other hand, if a player has quite a few PAs then it believes that the results are not the result of luck and it gives the observations a lot of weight.&lt;br /&gt;We are trying to estimate the "true" OBP of each batter. Bayesian analysis assumes that the true OBP is random. &lt;a href="http://en.wikipedia.org/wiki/Empirical_Bayes_method"&gt;Empirical Bayes&lt;/a&gt; is a method of figuring out the distribution of "true" OBP using the data. OBP is times on base divided by PA. Times on base (X) for each batter is distributed &lt;a href="http://en.wikipedia.org/wiki/Binomial_distribution"&gt;binomial&lt;/a&gt; with n=PA and p=true OBP. We further assume that p is distributed &lt;a href="http://en.wikipedia.org/wiki/Beta_distribution"&gt;Beta&lt;/a&gt; with parameters a and b. It follows from this that the marginal distribution of X is distributed according to the distribution:&lt;br /&gt;gamma(a+b)*gamma(a+x)*gamma(n-x+b)*(n choose x)/(gamma(a)*gamma(b)*gamma(a+b+n))&lt;br /&gt;where gamma is the &lt;a href="http://en.wikipedia.org/wiki/Gamma_function"&gt;gamma function&lt;/a&gt;.&lt;br /&gt;We will estimate the parameters a and b based on the data (X), using its marginal distribution (the "empirical" part of Bayes). To do this I found that likelihood of the marginal distribution of all the batters. Then I maximized this likelihood by adjusting the parameters a and b. This is called the ML-II.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The Analysis&lt;/b&gt;&lt;br /&gt;I used data for all non-pitchers in 2010. I assume that each player is independent. In doing that, I just have to multiply all the marginals for each player together to get the likelihood. When I do this and maximize it with respect to a and b, I get estimates that a = 83.48291 and b = 174.9038. I think this can be interpreted that prior mean (what we would assume that average OBP of a batter is before seeing him bat) is a/(a+b) = 0.323. This is pretty close to what the overall OBP of the league was (0.330). I think it makes sense that the prior is lower than the league average because batters who do well will get more opportunities and players that do poorly will get fewer. So the league average is biased high. &lt;br /&gt;Below is a graph of the prior distribution and the updated posteriors of every batter. You can (sort of) see that the posteriors have tighter distributions than the prior does. (The posterior distribution of each batter in this case is the distribution of OBP after we have observed PA and the actual OBP.)&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/_qD9db1gpElc/TR1lbFd8yfI/AAAAAAAAFhQ/IkoRr-9FrZw/s1600/dist.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/_qD9db1gpElc/TR1lbFd8yfI/AAAAAAAAFhQ/IkoRr-9FrZw/s1600/dist.jpg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;One way to see why this Bayesian analysis is useful is to compare the posterior means with the observed OBP. If someone has only a few PAs, their OBP could be very high or very low and this may mislead you into thinking that this batter is very good or bad. However, the posterior mean takes into account the number of PAs. Below is a graph comparing the two. You can see that the range of values for posterior mean is pretty small, especially compare to actual OBP.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/_qD9db1gpElc/TR1mzX6IK2I/AAAAAAAAFhU/hlrgx0oDK38/s1600/OBPvsPostMean.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://4.bp.blogspot.com/_qD9db1gpElc/TR1mzX6IK2I/AAAAAAAAFhU/hlrgx0oDK38/s1600/OBPvsPostMean.jpg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Here is a list of the highest posterior mean OBP:&lt;br /&gt;&lt;br /&gt;&lt;table border="0" cellpadding="0" cellspacing="0" style="width: 252px;"&gt;&lt;colgroup&gt;&lt;col style="width: 87pt;" width="116"&gt;&lt;/col&gt;  &lt;col style="width: 54pt;" width="72"&gt;&lt;/col&gt;  &lt;col style="width: 48pt;" width="64"&gt;&lt;/col&gt;  &lt;/colgroup&gt;&lt;tbody&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="height: 15pt; width: 87pt;" width="116"&gt;&lt;b&gt;Batter&lt;/b&gt;&lt;/td&gt;   &lt;td class="xl65" style="border-left: medium none; width: 54pt;" width="72"&gt;&lt;b&gt;Posterior Mean&lt;/b&gt;&lt;/td&gt;   &lt;td class="xl65" style="border-left: medium none; width: 48pt;" width="64"&gt;&lt;b&gt;Actual OBP&lt;/b&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Joey Votto&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.396&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.424&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Miguel Cabrera&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.392&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.420&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Albert Pujols&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.390&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.414&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Justin Morneau&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.388&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.437&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Josh Hamilton&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.383&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.411&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Prince Fielder&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.380&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.401&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Shin-Soo Choo&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.379&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.401&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Kevin Youkilis&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.379&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.412&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Joe Mauer&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.378&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.402&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Adrian   Gonzalez&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.374&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.393&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Daric Barton&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.374&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.393&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Jim Thome&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.373&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.412&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Paul Konerko&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.373&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.393&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Jason Heyward&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.373&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.393&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Matt Holliday&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.371&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.390&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Carlos Ruiz&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.371&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.400&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Manny Ramirez&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.371&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.409&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Billy Butler&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.370&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.388&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Jayson Werth&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.370&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.388&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl65" height="20" style="border-top: medium none; height: 15pt;"&gt;Ryan Zimmerman&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.369&lt;/td&gt;   &lt;td align="right" class="xl66" style="border-left: medium none; border-top: medium none;"&gt;0.388&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;And here is a list of the lowest posterior mean OBP:&lt;br /&gt;&lt;br /&gt;&lt;table border="0" cellpadding="0" cellspacing="0" style="width: 245px;"&gt;&lt;colgroup&gt;&lt;col style="width: 98pt;" width="131"&gt;&lt;/col&gt;  &lt;col style="width: 29pt;" width="39"&gt;&lt;/col&gt;  &lt;col style="width: 56pt;" width="75"&gt;&lt;/col&gt;  &lt;/colgroup&gt;&lt;tbody&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="height: 15pt; width: 98pt;" width="131"&gt;&lt;b&gt;Batter&lt;/b&gt;&lt;/td&gt;   &lt;td class="xl66" style="border-left: medium none; width: 29pt;" width="39"&gt;&lt;b&gt;Posterior Mean&lt;/b&gt;&lt;/td&gt;   &lt;td class="xl66" style="border-left: medium none; width: 56pt;" width="75"&gt;&lt;b&gt;Actual OBP&lt;/b&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Brandon Wood&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.252&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.175&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Pedro Feliz&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.271&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.240&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Jeff Mathis&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.276&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.219&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Garret   Anderson&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.277&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.204&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Adam Moore&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.281&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.230&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Josh Bell&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.285&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.224&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Jose Lopez&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.286&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.270&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Peter Bourjos&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.287&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.237&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Aaron Hill&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.287&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.271&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Tony Abreu&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.288&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.244&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Koyie Hill&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.291&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.254&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Gerald Laird&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.291&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.263&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Drew Butera&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.291&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.237&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Jeff Clement&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.291&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.237&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Matt Carson&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.291&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.193&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Humberto   Quintero&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.292&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.262&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Wil Nieves&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.292&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.244&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Matt   Tuiasosopo&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.292&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.234&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Luis Montanez&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.292&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.155&lt;/td&gt;  &lt;/tr&gt;&lt;tr height="20" style="height: 15pt;"&gt;   &lt;td class="xl66" height="20" style="border-top: medium none; height: 15pt;"&gt;Cesar Izturis&lt;/td&gt;   &lt;td align="right" class="xl65"&gt;0.292&lt;/td&gt;   &lt;td align="right" class="xl67" style="border-top: medium none;"&gt;0.277&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;You can see that all of the posterior means are pulled closer to the overall mean (the good players look worse and the bad players look better). The order changes a little bit but not too much. &lt;br /&gt;&lt;br /&gt;You can see the effect of sample size (PAs) by comparing Justin Morneau with Joey Votto. Morneau had a higher OBP, but Votto ended up with a higher posterior mean because he had more PAs (Votto had 648 while Morneau had 348). Here are their posterior distributions:&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/_qD9db1gpElc/TR1tYF814sI/AAAAAAAAFhY/4-gKxwH1JgY/s1600/distcompare.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"&gt;&lt;img border="0" src="http://1.bp.blogspot.com/_qD9db1gpElc/TR1tYF814sI/AAAAAAAAFhY/4-gKxwH1JgY/s1600/distcompare.jpg" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;Because of the additional PAs, you can see that the distribution of Votto is a little tighter than Morneau. We are more sure that Votto is excellent than we are sure that Morneau is excellent.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/4463056949842575789/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2010/12/empirical-bayes-estimation-of-on-base.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4463056949842575789'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4463056949842575789'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/12/empirical-bayes-estimation-of-on-base.html' title='Empirical Bayes Estimation of On Base Percentage'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/_qD9db1gpElc/TR1lbFd8yfI/AAAAAAAAFhQ/IkoRr-9FrZw/s72-c/dist.jpg' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-1501239447253551611</id><published>2010-09-21T21:42:00.000-04:00</published><updated>2010-09-21T21:42:10.465-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Week 3 NFL Survival Odds</title><content type='html'>Continuing my series of trying to figure out which team is best to pick for survival football and then ignoring it, I present my week 3 analysis. I used the same method as the &lt;a href="http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html"&gt;past 2&lt;/a&gt; &lt;a href="http://alandgraf.blogspot.com/2010/09/week-2-nfl-survival-odds.html"&gt;weeks&lt;/a&gt;, and didn't make any updates to it since last week. &lt;br /&gt;Here we go:&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/_qD9db1gpElc/TJlSf0OSRNI/AAAAAAAAFfk/NXfI3JzlHKg/s1600/NFLsurvOddsWk3.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="640" src="http://1.bp.blogspot.com/_qD9db1gpElc/TJlSf0OSRNI/AAAAAAAAFfk/NXfI3JzlHKg/s640/NFLsurvOddsWk3.jpg" width="146" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt; &lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;br /&gt;&lt;/div&gt;NE (53%), BAL (20%), WAS (8%), and MIN (7%) are the most common teams picked in the Yahoo! leagues. They are also the top four teams according to my metric in a different order.&lt;br /&gt;This week has NE favored by the most that they will be favored by for the rest of the season and by quite a bit so it makes sense that they are ranked at the top. Maybe the biggest difference between this analysis and the Yahoo! distribution is that Baltimore has 20% of Yahoo! but is just fourth best here. I would have to say that my numbers make more sense because Baltimore has three more games with a spread of 10 or higher and couple more with a spread higher than 6. I am surprised that Washington is up on both lists because they are only favored by 4 and playing an away game. Although they only have one more playable game and that is a 6 point favorite.&lt;br /&gt;I would definitely pick New England this week if perfection is your goal.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/1501239447253551611/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2010/09/week-3-nfl-survival-odds.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/1501239447253551611'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/1501239447253551611'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/09/week-3-nfl-survival-odds.html' title='Week 3 NFL Survival Odds'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/_qD9db1gpElc/TJlSf0OSRNI/AAAAAAAAFfk/NXfI3JzlHKg/s72-c/NFLsurvOddsWk3.jpg' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-877862656650519469</id><published>2010-09-20T21:07:00.000-04:00</published><updated>2010-09-20T21:07:15.503-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Week 2 NFL Survival Odds</title><content type='html'>So this is late, but I already did the analysis and I wanted to share my results for posterity. I used the same method as &lt;a href="http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html"&gt;last time &lt;/a&gt;to try to evaluate who should be picked in a survival football pick 'em. This method basically only tries to figure out which teams, or combinations of teams, give you the best chance of getting all of your picks correct for the entire year. Obviously you want to pick a team this week that has the best chance of winning. But you do not want to pick a team that also has a lot of future value, where they will be favored by quite a bit in their remaining games. To reiterate, the way I did this is that I randomly picked a teams for the remainder of the season. I then used the Las Vegas point spreads of all the games to give determine the probability of winning each game and the rest of the games. Finally, I compared the average probability of winning every game when picking team X next week to the average probability of winning every game when picking a random team next week. I express this as a ratio - the higher, the better.&lt;br /&gt;&lt;br /&gt;There are a couple of differences to how I did this last week.&lt;br /&gt;&lt;ul&gt;&lt;li&gt;I modified the sampling of teams so that it does not choose teams on a bye week. This saved a lot of wasted simulations, and helps to make the results more stable. Therefore, I only simulated 100,000 seasons worth of picks compared to 1,000,000 last week.&lt;/li&gt;&lt;li&gt;I omitted the team I picked last week from consideration of being picked for the rest of the season. Last week I picked Chicago, so they are not included.&amp;nbsp;&lt;/li&gt;&lt;li&gt;The bar charts on the graphic start at zero. I committed a cardinal sin of graphing last week because of Excel's defaults.&lt;/li&gt;&lt;/ul&gt;Here is what I came up with for Week 2:&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://4.bp.blogspot.com/_qD9db1gpElc/TJgAZzaW1MI/AAAAAAAAFfc/G6J06nJzRpE/s1600/NFLsurvOddsWk2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="640" src="http://4.bp.blogspot.com/_qD9db1gpElc/TJgAZzaW1MI/AAAAAAAAFfc/G6J06nJzRpE/s640/NFLsurvOddsWk2.jpg" width="152" /&gt;&lt;/a&gt;&lt;/div&gt;What this is saying is that you are about 48% more likely to go 16 - 0 for the rest of the year if you choose Green Bay than if you pick a random team. &lt;br /&gt;One aspect this method does not address is that your goal is not always to have a perfect season. If the league is small enough, you just want to outlast your opponents. My league only had about 10 people to start. If you looked at Yahoo!'s dashboard, you'd see that 56% of people chose GB this week. If they go down and you didn't pick them, your chances of winning increase dramatically. That is why I didn't choose GB and why I lost.&lt;br /&gt;I chose DAL, because the spread was high, the percent taking them was low, and they had less future value. It was almost entirely on the recommendation of Vegas Watch. Maybe I should have looked at my ranking and picked Oakland, Atlanta or Cleveland since there was even a lower percentage picking those teams and a higher ranking than Dallas. With hindsight, we now know that Green Bay, Oakland, and Atlanta won and Cleveland and Dallas lost. But there was a strategy to it because 4 of the 9 teams that picked took Green Bay. If they lost and my team won, I would have had a much better chance of winning.&lt;br /&gt;I will brainstorm about a way to factor the pick distribution into the rankings, but I do not think it is possible the way it is currently set up.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/877862656650519469/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2010/09/week-2-nfl-survival-odds.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/877862656650519469'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/877862656650519469'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/09/week-2-nfl-survival-odds.html' title='Week 2 NFL Survival Odds'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://4.bp.blogspot.com/_qD9db1gpElc/TJgAZzaW1MI/AAAAAAAAFfc/G6J06nJzRpE/s72-c/NFLsurvOddsWk2.jpg' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-332997924474308060</id><published>2010-09-08T23:21:00.000-04:00</published><updated>2010-09-08T23:21:09.087-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>NFL Survival Odds</title><content type='html'>The NFL season is starting tomorrow night and I am in a survival league this year. If you are not familiar, in a survival league, each week you pick one team to win their game. Once you pick a team, you can no longer pick them for the rest of the season. So you have to balance pick who you think has the best odds of winning this week and what the rest of the team's schedule looks like.&lt;br /&gt;&lt;br /&gt;There are some sites online that are very helpful for deciding which team to pick this week. One of them is &lt;a href="http://www.survivorgrid.com/"&gt;http://www.survivorgrid.com/&lt;/a&gt;. I was wondering if there was a way to use this information to automatically decide which team to pick. This is an optimization problem with a lot of moving pieces, so simulation seemed like a natural choice.&lt;br /&gt;&lt;br /&gt;I downloaded the spreads for each game from that website (using some expert Excel skills). From the lines, I was able to discern the probability of winning the game from &lt;a href="http://www.stanford.edu/class/stats50/handouts/stern.pdf"&gt;this paper&lt;/a&gt;. (I found out about this method from the book &lt;i&gt;Mathletics&lt;/i&gt;.) Basically, I just assume that margin of victory for the game is normally distributed with a mean equal to the spread (meaning the bookies are on average right) and a standard deviation equal to 13.86 points (as found in that paper). I finally calculate the probability that the margin of victory (&amp;gt;0) is in the team's favor. There are obviously a lot of assumptions here (I doubt the spread is normal plus we are dealing with discrete amounts), but at least this gives us a ballpark.&lt;br /&gt;&lt;br /&gt;So now I have the probability of each team winning each of their remaining games. Next, I simulated. If I wanted to spend more time, I would have used a genetic algorithm or some other AI to try to find the best combination of picks. But I decided to go brute force because I didn't want to spend a lot of time. Here was my process:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;I told R to randomly sample which teams to pick each week (SD for week 1, IND for week 2, etc.)&lt;/li&gt;&lt;li&gt;Using the probabilities I created from the spreads, I calculated the probability that this combination of picks goes undefeated the whole season. The probability of going undefeated is the product of winning all of the individual games.&lt;/li&gt;&lt;ul&gt;&lt;li&gt;I wish there was an easy way, but I had to waste a lot of trials here. Whenever a team had bye and the random sample picked that team on that week, they obviously have a 0% chance of advancing. I wanted to prevent the random sample from selecting teams on a bye but it became a little hairy so I gave up.&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Do this 1,000,000 times &lt;/li&gt;&lt;li&gt;Analyze the picks with the highest probability of going undefeated.&lt;/li&gt;&lt;/ul&gt;&amp;nbsp;Here are the 20 best simulations I came up with. You can see that the even the best have pretty low odds of going the distance.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/_qD9db1gpElc/TIhOFzVTMLI/AAAAAAAAFZs/pr1n1IM7KHk/s1600/NFLsurvOdds.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="355" src="http://1.bp.blogspot.com/_qD9db1gpElc/TIhOFzVTMLI/AAAAAAAAFZs/pr1n1IM7KHk/s640/NFLsurvOdds.jpg" width="640" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Finally, I took the average probability of winning it all when each team was selected for the first game. I then compared that to the average overall probability of winning it all. This should give you a good idea of what team to select this week.&lt;br /&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;a href="http://1.bp.blogspot.com/_qD9db1gpElc/TIhRd2RD6PI/AAAAAAAAFZ0/us7E1Nz7A6A/s1600/NFLsurvOdds2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" height="640" src="http://1.bp.blogspot.com/_qD9db1gpElc/TIhRd2RD6PI/AAAAAAAAFZ0/us7E1Nz7A6A/s640/NFLsurvOdds2.jpg" width="147" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;This is probably the best way to use this data rather than looking at the best combination of picks since the lines for the rest of the year will see a significant change as they get closer. This also agrees with &lt;a href="http://vegaswatch.net/2010/09/2010-nfl-survivor-week-1.html"&gt;Vegas Watch's analysis&lt;/a&gt;, which I like to see.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/332997924474308060/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/332997924474308060'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/332997924474308060'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html' title='NFL Survival Odds'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://1.bp.blogspot.com/_qD9db1gpElc/TIhOFzVTMLI/AAAAAAAAFZs/pr1n1IM7KHk/s72-c/NFLsurvOdds.jpg' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4014130557840407691</id><published>2010-08-29T23:25:00.000-04:00</published><updated>2010-08-29T23:25:56.006-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Why We Blog</title><content type='html'>If the past is a predictor of future performance, then there is about a 99.3% chance that I will stop updating this in 2 weeks. But you have to start somewhere. That being said, there are two reasons I want to start a blog:&lt;br /&gt;&lt;ol&gt;&lt;li&gt;I think it would be really awesome if I was able to work as a statistician for a major league baseball team. To get a job like that, I will need to give some sort of reference to baseball statistic-ry that I have done. This gives me such an outlet.&lt;/li&gt;&lt;li&gt;I am pursuing a PhD in statistics. In order to get a PhD, I will have to write a thesis. On the recommendation of &lt;a href="http://matt.might.net/articles/successful-phd-students/"&gt;this website&lt;/a&gt;, a blog is a good way to improve my writing. Quote:&lt;/li&gt;&lt;/ol&gt;&lt;blockquote&gt;&lt;blockquote&gt;That's why I recommend that new students start a blog.  Even if no one else reads it, start one.  You don't even have to write about your research.  Practicing the act of writing is all that matters.&amp;nbsp; &lt;/blockquote&gt;&lt;/blockquote&gt;I found the link above because there was another post on the same website that helped put school in perspective for me that is worth sharing &lt;a href="http://matt.might.net/articles/phd-school-in-pictures/"&gt;http://matt.might.net/articles/phd-school-in-pictures/&lt;/a&gt;.</content><link rel='replies' type='application/atom+xml' href='http://alandgraf.blogspot.com/feeds/4014130557840407691/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://alandgraf.blogspot.com/2010/08/why-we-blog.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4014130557840407691'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/posts/default/4014130557840407691'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/08/why-we-blog.html' title='Why We Blog'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-2929020723427701237</id><published>2010-09-09T00:26:01.613-04:00</published><updated>2010-09-09T00:26:01.613-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Interesting approach.  It seems to me like this sy...</title><content type='html'>Interesting approach.  It seems to me like this system would do a great job of taking into account probability of advancing to next week while saving as much future value as possible, but it doesn&amp;#39;t factor in what % of people are picking each team, does it?  I&amp;#39;ve found -- in much less complex analysis, generally just comparing two options -- that taking a less popular side can make up for a good deal of win probability.  Doubt it will make a difference this week, but eventually there will be a team that&amp;#39;s extremely obvious, so your sim says to take them, but half your pool is taking them as well, which presents a problem.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/332997924474308060/comments/default/2929020723427701237'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/332997924474308060/comments/default/2929020723427701237'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html?showComment=1284006361613#c2929020723427701237' title=''/><author><name>Vegas Watch</name><uri>http://www.blogger.com/profile/02353166004125421683</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-332997924474308060' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/332997924474308060' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-25009369'/><gd:extendedProperty name='blogger.displayTime' value='September 9, 2010 at 12:26 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-7228902959160982075</id><published>2010-09-09T11:51:14.039-04:00</published><updated>2010-09-09T11:51:14.039-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I was thinking the same thing. I cannot think of a...</title><content type='html'>I was thinking the same thing. I cannot think of an easy application to the way I have set up the problem though. I am currently trying to find the best probability of getting them all correct, so I really don&amp;#39;t care who other people are selecting.&lt;br /&gt;I would need to formulate the problem differently to account for that. I think I would also need to have an idea of what teams people have picked in the past and what strategy they will use in the future. Then I could run a simulation and see which team gives the highest probability of finishing in the top x%.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/332997924474308060/comments/default/7228902959160982075'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/332997924474308060/comments/default/7228902959160982075'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html?showComment=1284047474039#c7228902959160982075' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2010/09/nfl-survival-odds.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-332997924474308060' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/332997924474308060' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='September 9, 2010 at 11:51 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-691020218922507166</id><published>2011-04-19T16:32:47.269-04:00</published><updated>2011-04-19T16:32:47.269-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice work. You might try the reverse the labels in...</title><content type='html'>Nice work. You might try the reverse the labels instead of the colors -- I usually like the bigger numbers to be at the top of the legend list. (I also like bigger numbers to be associated with darker colors, but I realize you&amp;#39;re trying to duplicate that feature of the original.)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/6407919239061470226/comments/default/691020218922507166'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/6407919239061470226/comments/default/691020218922507166'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2011/03/using-jmp-to-create-map.html?showComment=1303245167269#c691020218922507166' title=''/><author><name>Xan Gregg</name><uri>http://blogs.sas.com/jmp/index.php?%2Fauthors%2F7-Xan-Gregg</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2011/03/using-jmp-to-create-map.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-6407919239061470226' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/6407919239061470226' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-723946681'/><gd:extendedProperty name='blogger.displayTime' value='April 19, 2011 at 4:32 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-3438036837663251932</id><published>2012-06-16T09:29:46.197-04:00</published><updated>2012-06-16T09:29:46.197-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>To learn something about how computers handle numb...</title><content type='html'>To learn something about how computers handle numbers, especially as it relates to statistics and econometrics:&lt;br /&gt;&lt;br /&gt;B. D. McCullough and H. D. Vinod&lt;br /&gt;&amp;quot;The Numerical Reliability of Econometric Software,&amp;quot;&lt;br /&gt;Journal of Economic Literature 37(2), 633-665, 1999 &lt;br /&gt;&lt;br /&gt;A temporary link is available here:&lt;br /&gt;http://www.pages.drexel.edu/~bdm25/jel.pdf</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/3438036837663251932'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/3438036837663251932'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1339853386197#c3438036837663251932' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-559055232'/><gd:extendedProperty name='blogger.displayTime' value='June 16, 2012 at 9:29 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4733348354651026754</id><published>2012-06-16T22:21:03.181-04:00</published><updated>2012-06-16T22:21:03.181-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi,
I&amp;#39;m not sure I understand what you mean by...</title><content type='html'>Hi,&lt;br /&gt;I&amp;#39;m not sure I understand what you mean by &amp;quot;expected results&amp;quot;?&lt;br /&gt;&lt;br /&gt;Regarding rounding, I was taught to round numbers ending in &amp;quot;1, 2, 3, and 4&amp;quot; *down*, and numbers that ended in &amp;quot;6, 7, 8, 9&amp;quot; *up*. Then, specifically regarding &amp;quot;5&amp;quot;, if the preceding digit is odd, round up and if the preceding digit is even, to round down. &lt;br /&gt;&lt;br /&gt;As you can see, this will then result in 50% of the numbers being rounded up, and 50% rounded down. If you round *down* on &amp;quot;1, 2, 3, 4&amp;quot; and round up on &amp;quot;5, 6, 7, 8, 9&amp;quot; you are rounding up 5/9th&amp;#39;s of the time, and so introducing a bias.&lt;br /&gt;&lt;br /&gt;It sounds like R is handling it the way I would. Is that what you were wondering about?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/4733348354651026754'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/4733348354651026754'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1339899663181#c4733348354651026754' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1264318844'/><gd:extendedProperty name='blogger.displayTime' value='June 16, 2012 at 10:21 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4852168938997539434</id><published>2012-06-17T07:00:15.147-04:00</published><updated>2012-06-17T07:00:15.147-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Wikipedia ( http://en.wikipedia.org/wiki/Rounding#...</title><content type='html'>Wikipedia ( http://en.wikipedia.org/wiki/Rounding#Round_half_to_even ) says of round-to-even:&lt;br /&gt;&lt;br /&gt;This method also treats positive and negative values symmetrically, and therefore is free of overall bias if the original numbers are positive or negative with equal probability. In addition, for most reasonable distributions of y values, the expected (average) value of the rounded numbers is essentially the same as that of the original numbers, even if the latter are all positive (or all negative). However, this rule will still introduce a positive bias for even numbers (including zero), and a negative bias for the odd ones.&lt;br /&gt;&lt;br /&gt;So round-to-even seems to have *slightly* better numerical properties than &amp;quot;round ties away from zero&amp;quot;, which is what is (I think) most often taught, because it&amp;#39;s easier to understand. http://www.mathworks.com/matlabcentral/fileexchange/6752 gives a MATLAB function for &amp;quot;round to even&amp;quot;.&lt;br /&gt;&lt;br /&gt;If I had to guess I would predict that in borderline cases (which this certainly is) MATLAB would favor &amp;quot;do what will lead to happier users&amp;quot; and R would favor &amp;quot;do what is thought to be the best numerical practice&amp;quot;.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/4852168938997539434'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/4852168938997539434'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1339930815147#c4852168938997539434' title=''/><author><name>Ben Bolker</name><uri>http://www.math.mcmaster.ca/bolker</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2035682611'/><gd:extendedProperty name='blogger.displayTime' value='June 17, 2012 at 7:00 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4697338745931034116</id><published>2012-06-17T08:15:47.190-04:00</published><updated>2012-06-17T08:15:47.190-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I was the #2 anonymous poster. Echoing Ben, I thin...</title><content type='html'>I was the #2 anonymous poster. Echoing Ben, I think that for ease of teaching, the &amp;quot;round 5 up&amp;quot; method is taught to children (and adults?) below the university level, and only if you go on for advance work is the more complicated method taught.&lt;br /&gt;&lt;br /&gt;Can you imagine trying to teach a 10 or 12 year old the IEC 60559 standard? Unfortunately, this is the method most adults are used to...&lt;br /&gt;&lt;br /&gt;I agree, it is a little troubling that Matlab doesn&amp;#39;t abide by the standard. Yet another reason to stick with R!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/4697338745931034116'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/4697338745931034116'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1339935347190#c4697338745931034116' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1264318844'/><gd:extendedProperty name='blogger.displayTime' value='June 17, 2012 at 8:15 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-1371885537117966145</id><published>2012-06-17T17:17:24.879-04:00</published><updated>2012-06-17T17:17:24.879-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is discussed in Don Knuth&amp;#39;s 1973 classic ...</title><content type='html'>This is discussed in Don Knuth&amp;#39;s 1973 classic Seminumerical Algorithms. He gives the following example of what can happen when 5s are always rounded upwards. Suppose u = 10000000 and v = 0.5555556. Then u + v = 1.5555556. If we subtract v from this  result we get u&amp;#39; = 1.0000001. Adding and then subtracting v from u&amp;#39; and we get 1.0000002 and if we do it again we get 1.0000003 and so on. He says &amp;quot;This phenomenon, called drift, will not occur when we use a stable rounding rule based on the parity of the least significant digit.&amp;quot;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/1371885537117966145'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/1371885537117966145'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1339967844879#c1371885537117966145' title=''/><author><name>Blaise</name><uri>http://www.blogger.com/profile/12276667747467385669</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-922644036'/><gd:extendedProperty name='blogger.displayTime' value='June 17, 2012 at 5:17 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6442316404108079011</id><published>2012-06-18T03:32:08.941-04:00</published><updated>2012-06-18T03:32:08.941-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;m ever amazed that something so seemingly ba...</title><content type='html'>I&amp;#39;m ever amazed that something so seemingly basic can have so many different approaches.&lt;br /&gt;&lt;br /&gt;I understand that in many middle east countries they start with the far right digit and round up or down, so 2.46 is rounded to 3!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/6442316404108079011'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/6442316404108079011'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1340004728941#c6442316404108079011' title=''/><author><name>a Tom</name><uri>http://www.blogger.com/profile/07509077480190944037</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1513256230'/><gd:extendedProperty name='blogger.displayTime' value='June 18, 2012 at 3:32 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6422687282165162242</id><published>2012-06-18T15:29:15.624-04:00</published><updated>2012-06-18T15:29:15.624-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This &amp;quot;round to even&amp;quot; approach has been a...</title><content type='html'>This &amp;quot;round to even&amp;quot; approach has been accepted by just about everyone (except matlab, and no surprise, except Msoft Excel).  &lt;br /&gt;Sadly, the flame wars over &amp;quot;round to even&amp;quot; vs. &amp;quot;round up&amp;quot; continue, rather the way people argue about &amp;quot;0.999... != 1&amp;quot;&lt;br /&gt;&lt;br /&gt;PS: @a Tom:  I&amp;#39;m highly skeptical of your &lt;br /&gt;claim about 2.46--&amp;gt;3.  Do you have a citation?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/6422687282165162242'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/6422687282165162242'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1340047755624#c6422687282165162242' title=''/><author><name>cellocgw</name><uri>http://www.blogger.com/profile/14770145678802745861</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1416633365'/><gd:extendedProperty name='blogger.displayTime' value='June 18, 2012 at 3:29 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8769261933835847522</id><published>2012-06-20T15:07:30.337-04:00</published><updated>2012-06-20T15:07:30.337-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Andrew wrote &amp;quot;Also, I think most people expec...</title><content type='html'>Andrew wrote &amp;quot;Also, I think most people expect numbers ending in .5 to round up (not the nearest even digit)&amp;quot;. This kind of rounding is in German called &amp;quot;kaufmännische Rundung&amp;quot; (rounding in commerce). For this purpose I use the following function:&lt;br /&gt;&lt;br /&gt;#Definition of a function for &amp;quot;rounding in commerce&amp;quot;&lt;br /&gt;cround = function(x,n){&lt;br /&gt;vorz = sign(x)&lt;br /&gt;z = abs(x)*10^n&lt;br /&gt;z = z + 0.5&lt;br /&gt;z = trunc(z)&lt;br /&gt;z = z/10^n&lt;br /&gt;z*vorz&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;# Example&lt;br /&gt;&amp;gt; round(seq(0.5,6.5,1),0)&lt;br /&gt;[1] 0 2 2 4 4 6 6&lt;br /&gt;&amp;gt; cround(seq(0.5,6.5,1),0)&lt;br /&gt;[1] 1 2 3 4 5 6 7</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/8769261933835847522'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/8769261933835847522'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1340219250337#c8769261933835847522' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-797518970'/><gd:extendedProperty name='blogger.displayTime' value='June 20, 2012 at 3:07 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-1103571044220695938</id><published>2012-07-20T06:18:51.463-04:00</published><updated>2012-07-20T06:18:51.463-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great post!  Thank you.</title><content type='html'>Great post!  Thank you.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/1103571044220695938'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/1103571044220695938'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1342779531463#c1103571044220695938' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-413472258'/><gd:extendedProperty name='blogger.displayTime' value='July 20, 2012 at 6:18 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5792918117435392673</id><published>2012-07-23T02:12:54.810-04:00</published><updated>2012-07-23T02:12:54.810-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great explanation!

I have a question for you: In ...</title><content type='html'>Great explanation!&lt;br /&gt;&lt;br /&gt;I have a question for you: In your text you said:&lt;br /&gt;&lt;br /&gt;&amp;quot;&amp;quot;&amp;quot;&lt;br /&gt; ... Even though you cannot easily tell how one variable affects the prediction, you can easily create a partial dependence plot which shows how the response will change as you change the predictor. You can also do this for two variables at once to see the interaction of the two.&lt;br /&gt;&amp;quot;&amp;quot;&amp;quot;&lt;br /&gt;&lt;br /&gt;Could you provide, please, an example of how build the partial dependence plot?&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Thank you for the post and thanks in advance</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5792918117435392673'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5792918117435392673'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1343023974810#c5792918117435392673' title=''/><author><name>nanounanue</name><uri>http://nano.unanue.myopenid.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1400709685'/><gd:extendedProperty name='blogger.displayTime' value='July 23, 2012 at 2:12 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8401941414389845335</id><published>2012-07-23T12:37:58.498-04:00</published><updated>2012-07-23T12:37:58.498-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The simple answer is using the partialPlot functio...</title><content type='html'>The simple answer is using the partialPlot function in the randomForest package for R (http://rgm2.lab.nig.ac.jp/RGM2/func.php?rd_id=randomForest:partialPlot). &lt;br /&gt;&lt;br /&gt;What it is doing isn&amp;#39;t all that complicated. Say you want a partial dependence plot for the variable X_1. For each value of X_1=x that you want to plot, you take the average of the prediction with X_1=x and the other explanatory variables equal to the n values that they are in the data set. You are trying to average out the other variables.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/8401941414389845335'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/8401941414389845335'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1343061478498#c8401941414389845335' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='July 23, 2012 at 12:37 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4441847160145594575</id><published>2012-08-24T18:09:56.960-04:00</published><updated>2012-08-24T18:09:56.960-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I wonder how this method is better than using F te...</title><content type='html'>I wonder how this method is better than using F test, t test or information criterion? did you compare tabusearch to other methods (for linear models)? maybe it its faster than standard methods? I would be grateful for answers:)  if it its possible maybe you can describe this algorithm more closely.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/4441847160145594575'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/4441847160145594575'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html?showComment=1345846196960#c4441847160145594575' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-55907730613093548' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-407229616'/><gd:extendedProperty name='blogger.displayTime' value='August 24, 2012 at 6:09 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-2659784823135203070</id><published>2012-08-26T16:54:22.769-04:00</published><updated>2012-08-26T16:54:22.769-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Might it be feasible to sample training and test s...</title><content type='html'>Might it be feasible to sample training and test set a few hundred times to see how stable variable selection is?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/2659784823135203070'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/2659784823135203070'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html?showComment=1346014462769#c2659784823135203070' title=''/><author><name>anspiess</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-55907730613093548' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1182302390'/><gd:extendedProperty name='blogger.displayTime' value='August 26, 2012 at 4:54 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-7707092793991167331</id><published>2012-08-27T22:03:06.931-04:00</published><updated>2012-08-27T22:03:06.931-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@anspiess That is probably a good idea. But one re...</title><content type='html'>@anspiess That is probably a good idea. But one reason to use Tabu Search is that it will speed up the time to find the best model. Running it many times will defeat this purpose. Running time for the parameters used was long already because GAMs take longer to train than LMs (~ 9 mins). In terms of better understanding TS, your idea would be useful. For what its worth, I ran it again with a different CV split and the chosen model was the same except it added s(ZN) and removed s(PTRATIO).</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/7707092793991167331'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/7707092793991167331'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html?showComment=1346119386931#c7707092793991167331' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-55907730613093548' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='August 27, 2012 at 10:03 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-2028966683399206074</id><published>2012-08-27T22:24:31.233-04:00</published><updated>2012-08-27T22:24:31.233-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@Anonymous I would also like to see how this does ...</title><content type='html'>@Anonymous I would also like to see how this does compared to the more standard methods. It will take a little effort to implement in this example, though, because these variable selection techniques are not implemented for GAMs (as far as I know). http://www.statmethods.net/stats/regression.html has a nice summary of different methods available for linear models. You are right that the whole point of using a TS is that it will be better than the other methods, so it would be good to have validation. Maybe I could do a comparison for linear models...&lt;br /&gt;&lt;br /&gt;I described the meat of the TS algorithm in the post. If you want more info, I found this reference informative http://www.math.ntua.gr/~fouskakis/Publications/4.pdf </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/2028966683399206074'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/2028966683399206074'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html?showComment=1346120671233#c2028966683399206074' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-55907730613093548' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='August 27, 2012 at 10:24 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-7149441349489238675</id><published>2012-08-29T12:12:37.291-04:00</published><updated>2012-08-29T12:12:37.291-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Good post!

Nice approach with the heat map to go ...</title><content type='html'>Good post!&lt;br /&gt;&lt;br /&gt;Nice approach with the heat map to go beyond just accepting the optimal solution. I agree that variables seem to be important because they are present in every iteration, but this could perhaps also mean that the tabu search was trapped in a subregion - perhaps the search move operator which only adds or deletes a single variable is not powerful enough to escape this region. Some possible remedies for exploring a larger part of the search landscape (if indeed this is a problem) might be:&lt;br /&gt;&lt;br /&gt;- Multiple tabu searches, each with a randomized set of initial variables in the model&lt;br /&gt;- Other move operators. How about finding correlation clusters among the variables, then let a move add or delete the entire cluster? Both move operators can be used in the search, using some metaheuristics to guide them.&lt;br /&gt;- Use metaheuristic techniques like &amp;quot;ruin and recreate&amp;quot; during the tabu search; occasionally, &amp;quot;ruin&amp;quot; the model by removing a random subset of the variables.&lt;br /&gt;&lt;br /&gt;One more thought. With the tabu search already in place for regression, it wouldn´t be too hard to explore some nonlinear models. You could create temp variables that are products of the original variables, then let the tabu search add or delete these as well. Do you think such an approach would have any merit in this case?&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/7149441349489238675'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/55907730613093548/comments/default/7149441349489238675'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html?showComment=1346256757291#c7149441349489238675' title=''/><author><name>anonymous</name><uri>http://www.northpole.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/08/finding-best-subset-of-gam-using-tabu.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-55907730613093548' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/55907730613093548' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-314228164'/><gd:extendedProperty name='blogger.displayTime' value='August 29, 2012 at 12:12 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-400270294521283807</id><published>2012-11-06T04:16:52.525-05:00</published><updated>2012-11-06T04:17:12.437-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'></title><content type='html'>This comment has been removed by the author.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/400270294521283807'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/400270294521283807'/><author><name>Tony Hirst</name><uri>http://www.blogger.com/profile/07192476380420213082</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh4.googleusercontent.com/-GPJIHCdGOHg/AAAAAAAAAAI/AAAAAAAADi8/_5e8zom4n5A/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-8435700917450999634' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/8435700917450999634' type='text/html'/><gd:extendedProperty name='blogger.contentRemoved' value='true'/><gd:extendedProperty name='blogger.itemClass' value='pid-1704464267'/><gd:extendedProperty name='blogger.displayTime' value='November 6, 2012 at 4:16 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8210152466503186412</id><published>2012-11-06T04:17:47.771-05:00</published><updated>2012-11-06T04:17:47.771-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You can tidy up the x-axis labels by rotating them...</title><content type='html'>You can tidy up the x-axis labels by rotating them, eg using something like:&lt;br /&gt;+theme(axis.text.x=element_text(angle=-90))</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/8210152466503186412'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/8210152466503186412'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html?showComment=1352193467771#c8210152466503186412' title=''/><author><name>Tony Hirst</name><uri>http://www.blogger.com/profile/07192476380420213082</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh4.googleusercontent.com/-GPJIHCdGOHg/AAAAAAAAAAI/AAAAAAAADi8/_5e8zom4n5A/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-8435700917450999634' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/8435700917450999634' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1704464267'/><gd:extendedProperty name='blogger.displayTime' value='November 6, 2012 at 4:17 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8646850018729135954</id><published>2012-11-06T12:45:23.035-05:00</published><updated>2012-11-06T12:45:23.035-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the tip. To add more information to the...</title><content type='html'>Thanks for the tip. To add more information to the national tracker plot, you can make the of the points relative to the number polled. Also facet it by the type of poll. Like this:&lt;br /&gt;&lt;br /&gt;ggplot(dat,aes(end.date,Obama/(Obama+Romney)))+&lt;br /&gt;  geom_point(aes(size=sqrt(N)),alpha=.5)+&lt;br /&gt;  geom_smooth(aes(weight=sqrt(N)))+&lt;br /&gt;  geom_hline(aes(yintercept=0.5),lty=2,size=1)+&lt;br /&gt;  labs(title=&amp;quot;Proportion of Vote for Obama&amp;quot;,x=&amp;quot;Last Date of Poll&amp;quot;,y=NULL)+&lt;br /&gt;  facet_wrap(~method)+&lt;br /&gt;  theme(axis.text.x=element_text(angle=-90))</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/8646850018729135954'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/8646850018729135954'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html?showComment=1352223923035#c8646850018729135954' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-8435700917450999634' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/8435700917450999634' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='November 6, 2012 at 12:45 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-3128268303640209618</id><published>2012-11-07T19:08:51.201-05:00</published><updated>2012-11-07T19:08:51.201-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Interesting work. Thanks for the tip on the API/gi...</title><content type='html'>Interesting work. Thanks for the tip on the API/github. I have had a look at the GOP campaign - surely one of the strangest in history&lt;br /&gt;http://wp.me/p17axt-jK</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/3128268303640209618'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/8435700917450999634/comments/default/3128268303640209618'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html?showComment=1352333331201#c3128268303640209618' title=''/><author><name>Andrew Clark</name><uri>http://www.premiersoccerstats.com/wordpress/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/11/quick-post-about-getting-and-plotting.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-8435700917450999634' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/8435700917450999634' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-643936070'/><gd:extendedProperty name='blogger.displayTime' value='November 7, 2012 at 7:08 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5480106119634943249</id><published>2012-12-18T07:34:57.868-05:00</published><updated>2012-12-18T07:34:57.868-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have microarray data on 30 entries and thought o...</title><content type='html'>I have microarray data on 30 entries and thought of using RF to identify important response genes. I understand that this is a N&amp;lt;&amp;lt;p type of problems, but will &amp;#39;party&amp;#39; be able to come up with a solution?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5480106119634943249'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5480106119634943249'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1355834097868#c5480106119634943249' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1429299646'/><gd:extendedProperty name='blogger.displayTime' value='December 18, 2012 at 7:34 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5151945345438883904</id><published>2012-12-19T10:43:52.162-05:00</published><updated>2012-12-19T10:43:52.162-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>It should be able to give you a solution. I have n...</title><content type='html'>It should be able to give you a solution. I have no idea what ramifications this would have on accuracy or variable importance.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5151945345438883904'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5151945345438883904'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1355931832162#c5151945345438883904' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='December 19, 2012 at 10:43 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6384174649577936415</id><published>2013-01-14T06:11:45.565-05:00</published><updated>2013-01-14T06:11:45.565-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Do you have a sample of training data?</title><content type='html'>Do you have a sample of training data?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/6384174649577936415'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/6384174649577936415'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1358161905565#c6384174649577936415' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1734776538'/><gd:extendedProperty name='blogger.displayTime' value='January 14, 2013 at 6:11 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-232638211743030507</id><published>2013-01-14T09:55:33.896-05:00</published><updated>2013-01-14T09:55:33.896-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I don&amp;#39;t want to post it here because of possib...</title><content type='html'>I don&amp;#39;t want to post it here because of possible copyright violations, but you can download it in Octave format from the Coursera site (in programming assignment 4) or you can find it at this webpage: http://yann.lecun.com/exdb/mnist/</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/232638211743030507'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/232638211743030507'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1358175333896#c232638211743030507' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='January 14, 2013 at 9:55 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5035060860665741956</id><published>2013-01-14T14:40:05.375-05:00</published><updated>2013-01-14T14:40:05.375-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I believe there&amp;#39;s also a kaggle competition us...</title><content type='html'>I believe there&amp;#39;s also a kaggle competition using that data right now: http://www.kaggle.com/c/digit-recognizer</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/5035060860665741956'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/5035060860665741956'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1358192405375#c5035060860665741956' title=''/><author><name>Zachary Mayer</name><uri>http://www.blogger.com/profile/17305384425953877966</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh4.googleusercontent.com/-xfGpbEdpNCo/AAAAAAAAAAI/AAAAAAAADuU/UXSnJAjKjUs/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1794680646'/><gd:extendedProperty name='blogger.displayTime' value='January 14, 2013 at 2:40 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-51070886309262643</id><published>2013-01-14T21:45:26.621-05:00</published><updated>2013-01-14T21:45:26.621-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>R code for assignment 4 was posted here:
https://c...</title><content type='html'>R code for assignment 4 was posted here:&lt;br /&gt;https://class.coursera.org/neuralnets-2012-001/forum/thread?thread_id=87&amp;amp;post_id=5105&lt;br /&gt;I used it as the basis for a work project.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/51070886309262643'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/51070886309262643'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1358217926621#c51070886309262643' title=''/><author><name>Kent Johnson</name><uri>http://www.blogger.com/profile/07551184180475198771</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1381281636'/><gd:extendedProperty name='blogger.displayTime' value='January 14, 2013 at 9:45 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5171593242565145220</id><published>2013-01-24T09:42:42.583-05:00</published><updated>2013-01-24T09:42:42.583-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great work! Sometimes I use Persi&amp;#39;s example fo...</title><content type='html'>Great work! Sometimes I use Persi&amp;#39;s example for teaching MCMC,&lt;br /&gt;there are some old matlab code from the original consultancy work,&lt;br /&gt;but I never tryed to replicate the example.&lt;br /&gt;&lt;br /&gt;I got an error at:&lt;br /&gt;ggplot(melt(trans.prob.mat),aes(Var2,Var1))+...&lt;br /&gt;&lt;br /&gt;the melt() function uses X1 and X2:&lt;br /&gt;&amp;gt; tmp &amp;lt;- melt(trans.prob.mat)&lt;br /&gt;&amp;gt; head(tmp)&lt;br /&gt;  X1 X2        value&lt;br /&gt;1  A  A 3.893588e-05&lt;br /&gt;2  B  A 9.252956e-02&lt;br /&gt;...&lt;br /&gt;Cheers,&lt;br /&gt;&lt;br /&gt;Pablo&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/5171593242565145220'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/5171593242565145220'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html?showComment=1359038562583#c5171593242565145220' title=''/><author><name>Pablik</name><uri>http://www.blogger.com/profile/15028288542949805134</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-868247152600882695' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1770259393'/><gd:extendedProperty name='blogger.displayTime' value='January 24, 2013 at 9:42 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8480294088710001374</id><published>2013-01-24T10:12:37.596-05:00</published><updated>2013-01-24T10:12:37.596-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have had that issue working on different compute...</title><content type='html'>I have had that issue working on different computers. I think older versions of reshape2 use X# and newer versions use Var#. Or maybe it&amp;#39;s a difference between using the package reshape and reshape2?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/8480294088710001374'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/8480294088710001374'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html?showComment=1359040357596#c8480294088710001374' title=''/><author><name>Andrew</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-868247152600882695' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='January 24, 2013 at 10:12 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8418330445192720437</id><published>2013-01-25T09:40:19.998-05:00</published><updated>2013-01-25T09:40:19.998-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have managed to import the training data (from t...</title><content type='html'>I have managed to import the training data (from the Coursera website) into R:&lt;br /&gt;&lt;br /&gt;library(R.matlab)&lt;br /&gt;dat = readMat(&amp;quot;data_set.mat&amp;quot;)&lt;br /&gt;......&lt;br /&gt;weights=rbm(num_hidden=30, training_data= dat$data[,,1]$training[[1]], learning_rate=.09, n_iterations=5000,&lt;br /&gt;            mini_batch_size=100, momentum=0.9)&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/8418330445192720437'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/8418330445192720437'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1359124819998#c8418330445192720437' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1974962650'/><gd:extendedProperty name='blogger.displayTime' value='January 25, 2013 at 9:40 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6472862335206370943</id><published>2013-02-01T11:41:14.021-05:00</published><updated>2013-02-01T11:41:14.021-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice work, but the code to get the transition matr...</title><content type='html'>Nice work, but the code to get the transition matrix is VERY slow. I manage to make it faster doing the following:&lt;br /&gt;1- get the vector of words (using scan() for example).&lt;br /&gt;2- For each word, use strsplit(word, NULL)[[1]] and iterate&lt;br /&gt;over the characters to populate the matrix.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/6472862335206370943'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/6472862335206370943'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html?showComment=1359736874021#c6472862335206370943' title=''/><author><name>Fernando</name><uri>http://random-miner.blogspot.com.br/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-868247152600882695' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-58030229'/><gd:extendedProperty name='blogger.displayTime' value='February 1, 2013 at 11:41 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8974063078563337358</id><published>2013-02-01T11:56:42.619-05:00</published><updated>2013-02-01T11:56:42.619-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks, Fernando. I knew I could speed it up by tr...</title><content type='html'>Thanks, Fernando. I knew I could speed it up by treating it as a vector of letters (or integers), but didn&amp;#39;t take the time to figure it out.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/8974063078563337358'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/8974063078563337358'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html?showComment=1359737802619#c8974063078563337358' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/6472862335206370943'/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-868247152600882695' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='February 1, 2013 at 11:56 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6427958901370790729</id><published>2013-02-24T17:29:16.820-05:00</published><updated>2013-02-24T17:29:16.820-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you very much. Very useful. I work in both W...</title><content type='html'>Thank you very much. Very useful. I work in both Windows and Mac Environments. The trick you show seems to work only in Windows. Any idea what to do in Mac? Thanks in advance,&lt;br /&gt;&lt;br /&gt;Ernesto</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6427958901370790729'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6427958901370790729'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361744956820#c6427958901370790729' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1346159145'/><gd:extendedProperty name='blogger.displayTime' value='February 24, 2013 at 5:29 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6774261727739143674</id><published>2013-02-24T17:47:13.297-05:00</published><updated>2013-02-24T17:47:13.297-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@Ernesto It seems that on a Mac, you can use pbpas...</title><content type='html'>@Ernesto It seems that on a Mac, you can use pbpaste ( http://stackoverflow.com/questions/9035674/r-function-to-copy-to-clipboard-on-mac-osx )&lt;br /&gt;&lt;br /&gt;read.clipboard.mac &amp;lt;- function(header=TRUE,...) {&lt;br /&gt;  read.table(pipe(&amp;quot;pbpaste&amp;quot;),sep=&amp;quot;\t&amp;quot;,header=header,...)&lt;br /&gt;}&lt;br /&gt; </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6774261727739143674'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6774261727739143674'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361746033297#c6774261727739143674' title=''/><author><name>Tony Hirst</name><uri>http://www.blogger.com/profile/07192476380420213082</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh4.googleusercontent.com/-GPJIHCdGOHg/AAAAAAAAAAI/AAAAAAAAEIo/N-sKqNvuJQA/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1704464267'/><gd:extendedProperty name='blogger.displayTime' value='February 24, 2013 at 5:47 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6075561600630751553</id><published>2013-02-24T18:53:35.229-05:00</published><updated>2013-02-24T18:53:35.229-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you very much Tony for your quick answer (on...</title><content type='html'>Thank you very much Tony for your quick answer (on a  Sunday afternoon!!). &lt;br /&gt;&lt;br /&gt;Ernesto</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6075561600630751553'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6075561600630751553'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361750015229#c6075561600630751553' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1346159145'/><gd:extendedProperty name='blogger.displayTime' value='February 24, 2013 at 6:53 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4312282592061051694</id><published>2013-02-24T22:23:06.190-05:00</published><updated>2013-02-24T22:23:06.190-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I can&amp;#39;t resist: you could just use
read.delim(...</title><content type='html'>I can&amp;#39;t resist: you could just use&lt;br /&gt;read.delim(&amp;quot;clipboard&amp;quot;)&lt;br /&gt;&lt;br /&gt;(The &amp;quot;clipboard&amp;quot; parameter is &amp;#39;doze only for the foreseeable future)&lt;br /&gt;&lt;br /&gt;From &amp;quot;?read.delim&amp;quot;&lt;br /&gt;read.delim(file, header = TRUE, sep = &amp;quot;\t&amp;quot;, quote=&amp;quot;\&amp;quot;&amp;quot;, dec=&amp;quot;.&amp;quot;,&lt;br /&gt;           fill = TRUE, comment.char=&amp;quot;&amp;quot;, ...)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/4312282592061051694'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/4312282592061051694'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361762586190#c4312282592061051694' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-377731028'/><gd:extendedProperty name='blogger.displayTime' value='February 24, 2013 at 10:23 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8275108885347336600</id><published>2013-02-25T01:56:04.062-05:00</published><updated>2013-02-25T01:56:04.062-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you for the tip, this will help me a lot.
Al...</title><content type='html'>Thank you for the tip, this will help me a lot.&lt;br /&gt;Also, it seems that, libreOffice also uses clipboard to store copied things. This function also works for libreOffice</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/8275108885347336600'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/8275108885347336600'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361775364062#c8275108885347336600' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1123060274'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2013 at 1:56 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6464136563917182640</id><published>2013-02-25T05:08:56.004-05:00</published><updated>2013-02-25T05:08:56.004-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you for these!!
</title><content type='html'>Thank you for these!!&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6464136563917182640'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6464136563917182640'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361786936004#c6464136563917182640' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-271568931'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2013 at 5:08 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5539215408340844416</id><published>2013-02-25T07:33:15.536-05:00</published><updated>2013-02-25T07:33:15.536-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>scan() allows you to just paste...

y &amp;lt;- scan()...</title><content type='html'>scan() allows you to just paste...&lt;br /&gt;&lt;br /&gt;y &amp;lt;- scan()</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/5539215408340844416'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/5539215408340844416'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361795595536#c5539215408340844416' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1011946661'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2013 at 7:33 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-3582562967181841143</id><published>2013-02-25T11:45:34.376-05:00</published><updated>2013-02-25T11:45:34.376-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Excellent article.  Real people are always busy an...</title><content type='html'>Excellent article.  Real people are always busy and this is just the kind of article that helps us all.  I have been doing scan() but when you start entering a few thousand rows that way, it gets a bit slow.  </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/3582562967181841143'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/3582562967181841143'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361810734376#c3582562967181841143' title=''/><author><name>William Yarberry</name><uri>http://www.blogger.com/profile/16998492168851816778</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='21' height='32' src='http://4.bp.blogspot.com/-eG4Zb7j0cHY/USuVAXK5wxI/AAAAAAAAAXA/9NE0e2cyeJ0/s220/Bill%2BYarberry%2BHead%2BShot.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2024503358'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2013 at 11:45 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-7816106017405122102</id><published>2013-02-25T11:58:59.969-05:00</published><updated>2013-02-25T11:58:59.969-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>rkward (http://rkward.sourceforge.net/) has a very...</title><content type='html'>rkward (http://rkward.sourceforge.net/) has a very nifty feature (Edit -&amp;gt; Paste Special...), that allows you to paste the copied data directly into your R source code, already formatted as a single string, vector or matrix. </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/7816106017405122102'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/7816106017405122102'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1361811539969#c7816106017405122102' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-184109731'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2013 at 11:58 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-4840305942139662156</id><published>2013-02-25T15:43:47.485-05:00</published><updated>2013-02-25T15:43:47.485-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Just a follow up: From May 6 to the end of the sea...</title><content type='html'>Just a follow up: From May 6 to the end of the season he had a .305/.365/.569 split. The posterior expectation of .312/.379/.451 matches the average and on base percentage well, but his actual slugging is quite a bit higher than the posterior distribution would have predicted.&lt;br /&gt;&lt;br /&gt;Not sure what to make of this except to say he had a really bad start with slugging, which may have been caused more by random chance than the other two. And obviously the distributional assumptions are an approximation to reality.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/3346091704775056004/comments/default/4840305942139662156'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/3346091704775056004/comments/default/4840305942139662156'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/05/whats-up-with-alber-pujols.html?showComment=1361825027485#c4840305942139662156' title=''/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/05/whats-up-with-alber-pujols.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-3346091704775056004' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/3346091704775056004' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2013 at 3:43 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-1439627155339449794</id><published>2013-03-06T15:09:19.897-05:00</published><updated>2013-03-06T15:09:19.897-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I create similar functions and got few tips. For r...</title><content type='html'>I create similar functions and got few tips. For reading from excel following settings can be useful:&lt;br /&gt;na.strings = &amp;quot;&amp;quot; # to prevent replacing NA string to missing value&lt;br /&gt;comment.char = &amp;quot;&amp;quot; # to not loose everything after # sign&lt;br /&gt;quote = &amp;quot;&amp;quot; # or &amp;#39; or &amp;quot; could mess with data&lt;br /&gt;check.names = FALSE # if you want column names as in excel (spaces, special characters, etc.). You need to use `column name` in R to reference such columns.&lt;br /&gt;&lt;br /&gt;For writing na=&amp;quot;&amp;quot; replace missing values by empty string and not &amp;quot;NA&amp;quot; as on default.&lt;br /&gt;&lt;br /&gt;Second thing is that you can increase size of clipboard by using e.g. &amp;quot;clipboard-10240&amp;quot; instead of &amp;quot;clipboard&amp;quot; (it&amp;#39;s a size in Kb, so it&amp;#39;s around 10Mb; see help for connection, section Clipboard) which allow to copy and paste larger tables.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/1439627155339449794'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/1439627155339449794'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1362600559897#c1439627155339449794' title=''/><author><name>Marek Sz</name><uri>http://www.blogger.com/profile/11707699138219397462</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-783345309'/><gd:extendedProperty name='blogger.displayTime' value='March 6, 2013 at 3:09 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-1519426044429687963</id><published>2013-03-10T21:38:25.776-04:00</published><updated>2013-03-10T21:38:25.776-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>you should provide the seed to reproduce your exam...</title><content type='html'>you should provide the seed to reproduce your example</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/1519426044429687963'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/1519426044429687963'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1362965905776#c1519426044429687963' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1101815955'/><gd:extendedProperty name='blogger.displayTime' value='March 10, 2013 at 9:38 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6451422894314537504</id><published>2013-03-10T22:46:36.078-04:00</published><updated>2013-03-10T22:46:36.078-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Unfortunately, I didn&amp;#39;t set the seed. #nexttim...</title><content type='html'>Unfortunately, I didn&amp;#39;t set the seed. #nexttime</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/6451422894314537504'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/6451422894314537504'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1362969996078#c6451422894314537504' title=''/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='March 10, 2013 at 10:46 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-961231076913457724</id><published>2013-03-11T21:00:41.413-04:00</published><updated>2013-03-11T21:00:41.413-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>HI Andrew, When i tried to calculate the variable ...</title><content type='html'>HI Andrew, When i tried to calculate the variable importance, I get the error &lt;br /&gt;&amp;quot;Error in model.matrix.default(as.formula(f), data = blocks) : &lt;br /&gt;  allocMatrix: too many elements specified&amp;quot;&lt;br /&gt;&lt;br /&gt;I&amp;#39;m not sure how to deal with it because I have 2 factor levels which I&amp;#39;m predicting with 23 continuous variable predictors (about 2200 data points. I know it&amp;#39;s a lot to work with, but not sure how to get the correct VarImp values with this large data set.&lt;br /&gt;&lt;br /&gt;I tried increasing the threshold, but it didn&amp;#39;t help. fit.varimp=varimp(fit.cf,threshold=0.8,conditional=TRUE)&lt;br /&gt;&lt;br /&gt;Do you have any suggestions? Thanks.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/961231076913457724'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/961231076913457724'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1363050041413#c961231076913457724' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2089536365'/><gd:extendedProperty name='blogger.displayTime' value='March 11, 2013 at 9:00 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8261639794963513965</id><published>2013-05-24T13:45:58.334-04:00</published><updated>2013-05-24T13:45:58.334-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Andrew,

This work is cool!

I wrote my own substi...</title><content type='html'>Andrew,&lt;br /&gt;&lt;br /&gt;This work is cool!&lt;br /&gt;&lt;br /&gt;I wrote my own substitution cipher decoder using the algorithm described in Stephen Connor&amp;#39;s dissertation as the basis, but I occasionally glanced at your work as well.&lt;br /&gt;&lt;br /&gt;My code doesn&amp;#39;t work as awesomely as yours, and it is also much slower (possibly because I use 76 versus the 27 characters, reachChar versus readLine), and I use different functions.&lt;br /&gt;&lt;br /&gt;But I cited your work and copied your idea for the melt matrix, which is ingenious.&lt;br /&gt;&lt;br /&gt;Thanks so much!&lt;br /&gt;&lt;br /&gt;Vivek</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/8261639794963513965'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/868247152600882695/comments/default/8261639794963513965'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html?showComment=1369417558334#c8261639794963513965' title=''/><author><name>Vivek</name><uri>http://www.blogger.com/profile/01345430066242066959</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/text-decryption-using-mcmc.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-868247152600882695' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/868247152600882695' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-243967738'/><gd:extendedProperty name='blogger.displayTime' value='May 24, 2013 at 1:45 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-8512389281932409860</id><published>2013-06-06T08:50:20.525-04:00</published><updated>2013-06-06T08:50:20.525-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>kudos Blaise</title><content type='html'>kudos Blaise</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/8512389281932409860'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/8512389281932409860'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html?showComment=1370523020525#c8512389281932409860' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/7711341427709076342/4887954296093717778/comments/default/1371885537117966145'/><author><name>Analytic Bastard</name><uri>http://www.blogger.com/profile/03572035174204305296</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/06/rounding-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4887954296093717778' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4887954296093717778' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1011104871'/><gd:extendedProperty name='blogger.displayTime' value='June 6, 2013 at 8:50 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-7377979975418156230</id><published>2013-07-24T17:01:33.474-04:00</published><updated>2013-07-24T17:01:33.474-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Could you tell me what the numbers mean when ctree...</title><content type='html'>Could you tell me what the numbers mean when ctree and randonForest return variable importance numbers please? I can get the output but I don&amp;#39;t know how to interpret them.&lt;br /&gt;&lt;br /&gt;Than you very much.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/7377979975418156230'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/7377979975418156230'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1374699693474#c7377979975418156230' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-233502414'/><gd:extendedProperty name='blogger.displayTime' value='July 24, 2013 at 5:01 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-5239852511111543153</id><published>2013-08-12T11:32:02.128-04:00</published><updated>2013-08-12T11:32:02.128-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>hi,m new to random forest.. i ve some doubts..
1)&amp;...</title><content type='html'>hi,m new to random forest.. i ve some doubts..&lt;br /&gt;1)&amp;quot;we need to choose m number of variables randomly for each node..&amp;quot;-can u pleas explain it..&lt;br /&gt;OR&lt;br /&gt;2)&amp;quot;take 1 bootstrap sample,choose some variables and create a decision tree&amp;quot;-is it correct??&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5239852511111543153'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/7751526614210012215/comments/default/5239852511111543153'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html?showComment=1376321522128#c5239852511111543153' title=''/><author><name>Abhijeet Patil</name><uri>http://www.blogger.com/profile/02297565824362320202</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2012/07/random-forest-variable-importance.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-7751526614210012215' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/7751526614210012215' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1956553069'/><gd:extendedProperty name='blogger.displayTime' value='August 12, 2013 at 11:32 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6854925177370540825</id><published>2013-09-03T04:37:58.296-04:00</published><updated>2013-09-03T04:37:58.296-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you for sharing your code.I found the output...</title><content type='html'>Thank you for sharing your code.I found the output figure had different with yours when I  do the experiment. I have load the MNIST image data successfully. And the data&amp;#39;s format is 784 ×60000.  The pixels have been binarization. &amp;gt;= 127——&amp;gt;1.&lt;br /&gt;I hope you give me some advice.&lt;br /&gt;email:guixiaolinde@gmail.com </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/6854925177370540825'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/6854925177370540825'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1378197478296#c6854925177370540825' title=''/><author><name>Xiaolin Gui</name><uri>http://www.blogger.com/profile/14332337585880527356</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh5.googleusercontent.com/-BcihroSHFPQ/AAAAAAAAAAI/AAAAAAAAAA4/VrPZjPozFjI/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1740656484'/><gd:extendedProperty name='blogger.displayTime' value='September 3, 2013 at 4:37 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6228938005518779283</id><published>2013-09-03T09:56:18.886-04:00</published><updated>2013-09-03T09:56:18.886-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The weights are randomly initialized, so any 2 run...</title><content type='html'>The weights are randomly initialized, so any 2 runs will give different results. However, if your figure looks similar to mine, in that it looks like the weights represent numbers, I would say it is working correctly.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/6228938005518779283'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/6228938005518779283'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1378216578886#c6228938005518779283' title=''/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='September 3, 2013 at 9:56 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-2004496951874536151</id><published>2013-09-17T03:45:28.774-04:00</published><updated>2013-09-17T03:45:28.774-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>where are the biases ? have you included them in t...</title><content type='html'>where are the biases ? have you included them in the weights ?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/2004496951874536151'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/2004496951874536151'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1379403928774#c2004496951874536151' title=''/><author><name>sidharth</name><uri>http://www.blogger.com/profile/00535214671949092309</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1454814441'/><gd:extendedProperty name='blogger.displayTime' value='September 17, 2013 at 3:45 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-928751313153442136</id><published>2013-09-17T12:34:34.373-04:00</published><updated>2013-09-17T12:34:34.373-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>There are no biases in this implementation. You co...</title><content type='html'>There are no biases in this implementation. You could make v_1=1, but there still wouldn&amp;#39;t be biases in the hidden units.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/928751313153442136'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/5218793146762245591/comments/default/928751313153442136'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html?showComment=1379435674373#c928751313153442136' title=''/><author><name>Andrew Landgraf</name><uri>http://www.blogger.com/profile/16603453765851716066</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/01/restricted-boltzmann-machines-in-r.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-5218793146762245591' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/5218793146762245591' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-386648928'/><gd:extendedProperty name='blogger.displayTime' value='September 17, 2013 at 12:34 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7711341427709076342.post-6986806511254205405</id><published>2013-10-24T15:27:23.481-04:00</published><updated>2013-10-24T15:27:23.481-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;m using this function in R for Windows. When...</title><content type='html'>I&amp;#39;m using this function in R for Windows. When I view the data numerically, it&amp;#39;s fine. But when I go to plot the data I get nonsense. How to describe it...the window has 0 to 250 on the x-axis (regardless of my data series) and white boxes across the middle. </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6986806511254205405'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/7711341427709076342/4486538814101216846/comments/default/6986806511254205405'/><link rel='alternate' type='text/html' href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html?showComment=1382642843481#c6986806511254205405' title=''/><author><name>Justin Tapp</name><uri>http://www.blogger.com/profile/12618278252714742391</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh3.googleusercontent.com/-4xKFR_PeQBw/AAAAAAAAAAI/AAAAAAAAA64/tk8vgAzQjxY/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://alandgraf.blogspot.com/2013/02/copying-data-from-excel-to-r-and-back_24.html' ref='tag:blogger.com,1999:blog-7711341427709076342.post-4486538814101216846' source='http://www.blogger.com/feeds/7711341427709076342/posts/default/4486538814101216846' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1163482274'/><gd:extendedProperty name='blogger.displayTime' value='October 24, 2013 at 3:27 PM'/></entry></feed>